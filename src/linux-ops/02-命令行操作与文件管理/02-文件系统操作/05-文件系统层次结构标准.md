---
title: 文件系统层次结构标准(FHS)
icon: structure
order: 5
---

# 文件系统层次结构标准(FHS)

文件系统层次结构标准(Filesystem Hierarchy Standard, FHS)定义了Linux系统中目录结构和内容的组织方式。本文将详细介绍FHS标准的内容和意义，包括各主要目录的用途和规范，帮助用户理解Linux发行版之间共同遵循的文件系统组织原则。

## 1. FHS标准概述

### 1.1 什么是FHS？

文件系统层次结构标准(FHS)是一套关于Linux/Unix系统目录结构的规范，由Linux基金会维护。它定义了系统中各个目录应该存放什么类型的文件，以及这些目录的基本组织原则。FHS的目标是确保软件能够以一致的方式找到系统上安装的文件。

当前最新的FHS版本是3.0，发布于2015年。这个标准被大多数主流Linux发行版所采纳，包括Debian、Ubuntu、Fedora、CentOS等。

### 1.2 FHS的重要性

FHS标准的存在有以下几个重要意义：

1. **一致性**：不同Linux发行版之间保持目录结构的一致性，使用户在不同系统间切换时感到熟悉
2. **可预测性**：软件开发者可以预测文件的位置，简化安装和配置过程
3. **兼容性**：确保软件包在不同Linux发行版上的兼容性
4. **系统管理**：简化系统管理员的工作，因为关键系统文件的位置是标准化的
5. **教育价值**：为新用户提供一个学习Linux系统组织方式的标准参考

### 1.3 FHS的基本原则

FHS基于以下几个核心原则：

1. **可共享与不可共享文件的区分**：
   - **可共享文件**：可以被多个主机共享的文件（如用户数据、应用程序）
   - **不可共享文件**：特定于某台主机的文件（如配置文件、设备文件）

2. **静态与变动文件的区分**：
   - **静态文件**：不会在正常操作中改变的文件（如二进制程序、库文件、文档）
   - **变动文件**：在系统运行过程中会被修改的文件（如日志、缓存、临时文件）

3. **层次结构**：文件系统采用树状结构，从根目录（/）开始向下分支

```mermaid
graph TD
    root[/] --> bin[/bin]
    root --> boot[/boot]
    root --> dev[/dev]
    root --> etc[/etc]
    root --> home[/home]
    root --> lib[/lib]
    root --> media[/media]
    root --> mnt[/mnt]
    root --> opt[/opt]
    root --> proc[/proc]
    root --> root[/root]
    root --> run[/run]
    root --> sbin[/sbin]
    root --> srv[/srv]
    root --> sys[/sys]
    root --> tmp[/tmp]
    root --> usr[/usr]
    root --> var[/var]
```

## 2. 根目录及一级目录详解

根据FHS标准，根目录（/）是整个文件系统层次结构的起点。以下是根目录下的主要目录及其用途：

### 2.1 /bin - 基本命令目录

**用途**：包含系统启动和运行所必需的基本命令。

**特点**：
- 所有用户都可以使用的命令
- 系统启动时必须存在的命令
- 在单用户模式下也能使用的命令

**典型内容**：
- `ls`：列出目录内容
- `cp`：复制文件
- `mv`：移动文件
- `rm`：删除文件
- `cat`：连接并显示文件内容
- `chmod`：更改文件权限

**注意**：在许多现代Linux发行版中，`/bin`是指向`/usr/bin`的符号链接，这是"usr合并"的结果。

### 2.2 /boot - 启动文件目录

**用途**：包含启动Linux系统所需的静态文件。

**特点**：
- 通常是一个独立的分区
- 包含引导加载程序相关文件
- 存放Linux内核文件

**典型内容**：
- `vmlinuz-*`：Linux压缩内核
- `initrd.img-*`或`initramfs-*`：初始RAM磁盘
- `grub/`：GRUB引导加载程序配置目录
- `config-*`：内核配置文件
- `System.map-*`：内核符号表

### 2.3 /dev - 设备文件目录

**用途**：包含设备文件，这些文件是与系统硬件和虚拟设备通信的接口。

**特点**：
- 由系统动态生成和管理
- 使用udev系统自动创建和删除设备文件
- 提供对硬件设备的访问接口

**典型内容**：
- `/dev/sda`, `/dev/sdb`等：硬盘设备
- `/dev/tty*`：终端设备
- `/dev/null`：空设备（丢弃所有写入的数据）
- `/dev/zero`：零设备（提供无限的零字节）
- `/dev/random`, `/dev/urandom`：随机数生成器

### 2.4 /etc - 系统配置目录

**用途**：包含系统范围的配置文件和脚本。

**特点**：
- 包含文本格式的配置文件
- 通常不包含二进制文件
- 系统管理员经常需要修改的文件

**典型内容**：
- `/etc/passwd`：用户账户信息
- `/etc/shadow`：加密的用户密码
- `/etc/fstab`：文件系统挂载表
- `/etc/hosts`：主机名和IP地址映射
- `/etc/resolv.conf`：DNS客户端配置
- `/etc/ssh/`：SSH服务配置
- `/etc/systemd/`：systemd服务管理配置

### 2.5 /home - 用户主目录

**用途**：包含普通用户的个人目录。

**特点**：
- 每个用户有独立的子目录
- 用户对自己的主目录有完全控制权
- 通常是一个独立的分区

**典型内容**：
- `/home/username/`：用户个人目录
- 用户的个人配置文件（如`.bashrc`、`.profile`）
- 用户的文档、下载、图片等个人数据

### 2.6 /lib - 共享库目录

**用途**：包含系统启动和`/bin`、`/sbin`中的命令运行所需的共享库文件。

**特点**：
- 包含共享库（动态链接库）
- 系统启动和基本功能所必需
- 通常包含内核模块

**典型内容**：
- `*.so*`：共享库文件
- `/lib/modules/`：内核模块目录

**注意**：在64位系统中，可能还有`/lib64`目录。在许多现代Linux发行版中，`/lib`是指向`/usr/lib`的符号链接。

### 2.7 /media - 可移动媒体挂载点

**用途**：用作可移动媒体设备（如USB驱动器、CD-ROM、DVD等）的挂载点。

**特点**：
- 自动挂载的可移动设备的挂载点
- 由系统自动创建和管理
- 设备通常以其卷标或标识符命名

**典型内容**：
- `/media/username/USB_DRIVE_LABEL`：挂载的USB驱动器
- `/media/cdrom`：挂载的CD-ROM

### 2.8 /mnt - 临时挂载点

**用途**：用作临时挂载文件系统的挂载点。

**特点**：
- 用于手动挂载文件系统
- 通常用于临时挂载
- 不会自动创建或删除挂载点

**典型用途**：
- 挂载网络共享（NFS、CIFS等）
- 挂载临时文件系统进行修复
- 挂载额外的硬盘分区

### 2.9 /opt - 可选软件包目录

**用途**：用于安装第三方应用程序和软件包。

**特点**：
- 用于存放"可选"软件
- 每个应用程序通常有自己的子目录
- 应用程序的所有文件通常集中在一个目录中

**典型内容**：
- `/opt/google/chrome/`：Google Chrome浏览器
- `/opt/teamviewer/`：TeamViewer远程控制软件
- `/opt/sublime_text/`：Sublime Text编辑器

### 2.10 /proc - 进程和内核信息

**用途**：提供对内核内部数据结构的访问，以及系统和进程信息。

**特点**：
- 虚拟文件系统，不占用磁盘空间
- 提供系统和进程的实时信息
- 允许通过文件接口修改某些内核参数
- 文件内容在读取时动态生成

**典型内容**：
- `/proc/cpuinfo`：CPU信息
- `/proc/meminfo`：内存使用信息
- `/proc/mounts`：当前挂载的文件系统
- `/proc/[pid]/`：特定进程的信息目录

### 2.11 /root - 超级用户主目录

**用途**：超级用户（root）的主目录。

**特点**：
- 仅供root用户使用
- 默认权限通常为700（只有root可以访问）
- 不同于系统根目录`/`

**典型内容**：
- root用户的配置文件
- 系统管理脚本
- root用户的个人文件

### 2.12 /run - 运行时数据

**用途**：包含系统启动以来的运行时数据。

**特点**：
- 系统重启后内容会丢失
- 通常作为tmpfs挂载（存储在内存中）
- 替代了早期Linux中的`/var/run`

**典型内容**：
- PID文件（记录进程ID）
- 套接字和命名管道
- 锁文件
- 临时状态信息

### 2.13 /sbin - 系统二进制文件目录

**用途**：包含系统管理和维护所需的重要系统二进制文件。

**特点**：
- 包含系统管理命令
- 主要供root用户使用
- 系统启动、修复和维护所必需

**典型内容**：
- `init`：系统初始化进程
- `shutdown`、`reboot`：系统关机和重启
- `fdisk`、`parted`：磁盘分区工具
- `ifconfig`、`ip`：网络配置工具

**注意**：在许多现代Linux发行版中，`/sbin`是指向`/usr/sbin`的符号链接。

### 2.14 /srv - 服务数据目录

**用途**：包含系统提供的服务的相关数据。

**特点**：
- 存放服务相关的数据
- 按服务类型组织
- 在许多系统上可能为空或不存在

**典型内容**：
- `/srv/www/`：Web服务器文档
- `/srv/ftp/`：FTP服务器文件
- `/srv/git/`：Git仓库

### 2.15 /sys - 系统文件系统

**用途**：提供了一种查看和操作Linux内核对象的方法。

**特点**：
- 虚拟文件系统，不占用磁盘空间
- 由内核在启动时创建
- 提供设备、驱动程序和内核功能的接口
- 结构化组织，便于脚本处理

**典型内容**：
- `/sys/block/`：块设备
- `/sys/class/`：设备类别
- `/sys/devices/`：系统中的所有设备
- `/sys/module/`：已加载的内核模块

### 2.16 /tmp - 临时文件目录

**用途**：用于存储临时文件。

**特点**：
- 所有用户都可以读写
- 系统重启时通常会清空
- 可能设置了自动清理策略
- 通常作为tmpfs挂载（存储在内存中）

**典型内容**：
- 应用程序的临时工作文件
- 安装程序的临时文件
- 用户临时数据存储

### 2.17 /usr - 用户程序目录

**用途**：包含用户程序和数据的主要层次结构。

**特点**：
- 包含非系统关键的应用程序和文件
- 可以挂载为只读
- 包含大部分系统软件
- 通常是系统中最大的目录之一

**主要子目录**：
- `/usr/bin/`：用户命令
- `/usr/sbin/`：系统管理命令
- `/usr/lib/`：库文件
- `/usr/include/`：C/C++头文件
- `/usr/share/`：架构无关的共享数据
- `/usr/local/`：本地安装的软件
- `/usr/src/`：源代码

### 2.18 /var - 可变数据目录

**用途**：包含在系统运行过程中会变化的数据。

**特点**：
- 存储变化的数据
- 系统运行时会不断增长
- 通常需要定期维护和清理
- 可能需要单独分区以防止填满根分区

**主要子目录**：
- `/var/log/`：系统和应用程序日志
- `/var/mail/`：用户邮箱
- `/var/spool/`：打印、邮件等队列
- `/var/lib/`：应用程序状态信息
- `/var/cache/`：应用程序缓存数据
- `/var/tmp/`：保存重启后的临时文件

## 3. 重要的二级目录详解

除了根目录下的一级目录外，FHS还定义了一些重要的二级目录结构。以下是一些关键的二级目录：

### 3.1 /usr目录下的重要子目录

`/usr`目录是系统中最大的目录之一，包含了大量用户级程序和数据。以下是其中一些重要的子目录：

#### 3.1.1 /usr/bin

**用途**：包含用户命令。

**特点**：
- 所有用户都可以使用的命令
- 非系统关键的命令
- 在现代Linux中，通常包含了`/bin`的内容

**典型内容**：
- 文本编辑器（如`vim`、`nano`）
- 开发工具（如`gcc`、`make`）
- 实用程序（如`grep`、`awk`、`sed`）

#### 3.1.2 /usr/sbin

**用途**：包含系统管理命令。

**特点**：
- 主要供系统管理员使用
- 非系统关键的系统管理命令
- 在现代Linux中，通常包含了`/sbin`的内容

**典型内容**：
- 网络服务配置工具
- 系统监控工具
- 用户和组管理工具

#### 3.1.3 /usr/lib

**用途**：包含共享库和支持文件。

**特点**：
- 包含`/usr/bin`和`/usr/sbin`中程序所需的库
- 在现代Linux中，通常包含了`/lib`的内容
- 64位系统可能有`/usr/lib64`

**典型内容**：
- 共享库文件（`.so`文件）
- 静态库文件（`.a`文件）
- 程序模块和插件

#### 3.1.4 /usr/include

**用途**：包含C/C++程序的头文件。

**特点**：
- 用于软件开发
- 按库或应用程序组织

**典型内容**：
- 标准C库头文件
- 系统调用头文件
- 各种库的API头文件

#### 3.1.5 /usr/share

**用途**：包含架构无关的共享数据。

**特点**：
- 内容可以在不同架构的系统间共享
- 通常是只读的
- 包含大量文档和支持文件

**典型内容**：
- `/usr/share/man/`：手册页
- `/usr/share/doc/`：文档
- `/usr/share/icons/`：图标
- `/usr/share/locale/`：本地化文件

#### 3.1.6 /usr/local

**用途**：用于本地安装的软件。

**特点**：
- 不受包管理器管理的软件
- 系统管理员安装的软件
- 结构类似于`/usr`

**典型内容**：
- `/usr/local/bin/`：本地安装的命令
- `/usr/local/lib/`：本地安装的库
- `/usr/local/share/`：本地安装的共享数据

### 3.2 /var目录下的重要子目录

`/var`目录包含在系统运行过程中会变化的数据。以下是其中一些重要的子目录：

#### 3.2.1 /var/log

**用途**：包含系统和应用程序日志文件。

**特点**：
- 随时间增长
- 通常配置了日志轮转
- 对系统故障排除至关重要

**典型内容**：
- `/var/log/syslog`或`/var/log/messages`：系统日志
- `/var/log/auth.log`：认证日志
- `/var/log/kern.log`：内核日志
- 各种应用程序的日志文件

#### 3.2.2 /var/lib

**用途**：包含应用程序状态信息。

**特点**：
- 存储应用程序运行时的数据
- 包含数据库、索引等
- 对应用程序功能至关重要

**典型内容**：
- `/var/lib/mysql/`：MySQL数据库文件
- `/var/lib/docker/`：Docker容器数据
- `/var/lib/apt/`：APT包管理器数据

#### 3.2.3 /var/cache

**用途**：包含应用程序缓存数据。

**特点**：
- 可以安全地删除（应用程序应能重新生成）
- 用于提高性能
- 可能占用大量空间

**典型内容**：
- `/var/cache/apt/`：APT包缓存
- `/var/cache/man/`：格式化的手册页缓存
- 各种应用程序的缓存数据

#### 3.2.4 /var/spool

**用途**：包含等待处理的数据。

**特点**：
- 存储队列中的数据
- 数据通常是临时的，等待被处理

**典型内容**：
- `/var/spool/mail/`：邮件队列
- `/var/spool/cups/`：打印队列
- `/var/spool/cron/`：定时任务队列

## 4. FHS的实际应用

了解FHS标准对于Linux用户和系统管理员有很多实际的好处。以下是一些实际应用场景：

### 4.1 系统管理

#### 4.1.1 查找文件

了解FHS可以帮助你快速找到需要的文件：

```bash
# 查找配置文件
ls /etc/apache2/

# 查找日志文件
less /var/log/syslog

# 查找可执行文件
which python
```

#### 4.1.2 备份关键数据

了解哪些目录包含重要数据有助于制定备份策略：

```bash
# 备份配置文件
tar -czf etc_backup.tar.gz /etc/

# 备份用户数据
tar -czf home_backup.tar.gz /home/

# 备份应用程序数据
tar -czf var_lib_backup.tar.gz /var/lib/
```

#### 4.1.3 磁盘空间管理

了解各目录的用途有助于管理磁盘空间：

```bash
# 查找大文件
find /var -type f -size +100M

# 清理缓存
rm -rf /var/cache/apt/archives/*.deb

# 清理旧日志
find /var/log -name "*.gz" -mtime +30 -delete
```

### 4.2 软件开发

#### 4.2.1 安装软件

了解FHS有助于正确安装软件：

```bash
# 系统范围的安装
./configure --prefix=/usr
make
sudo make install

# 本地安装
./configure --prefix=/usr/local
make
sudo make install

# 单用户安装
./configure --prefix=$HOME/.local
make
make install
```

#### 4.2.2 创建软件包

为Linux创建软件包时，遵循FHS是最佳实践：

- 可执行文件放在`/usr/bin/`或`/usr/sbin/`
- 库文件放在`/usr/lib/`
- 配置文件放在`/etc/`
- 变动数据放在`/var/`
- 架构无关的数据放在`/usr/share/`

### 4.3 系统定制

#### 4.3.1 分区方案

了解FHS有助于设计合理的分区方案：

```
/       - 根分区（20-30GB）
/boot   - 启动分区（500MB）
/home   - 用户数据分区（根据需要）
/var    - 变动数据分区（10-20GB）
/tmp    - 临时文件分区（5-10GB）
```

#### 4.3.2 权限设置

了解目录的用途有助于设置合适的权限：

```bash
# 保护配置文件
chmod 644 /etc/passwd
chmod 600 /etc/shadow

# 设置共享目录
mkdir /srv/shared
chmod 1775 /srv/shared  # 设置粘滞位
```

## 5. FHS的变化与发展

FHS标准并非一成不变，它随着Linux生态系统的发展而演变。

### 5.1 历史变化

FHS标准经历了多次修订：

- **FHS 1.0**（1994年）：最初版本
- **FHS 2.0**（1997年）：增加了更多目录定义
- **FHS 2.1**（2000年）：细化了某些目录的用途
- **FHS 2.2**（2001年）：增加了`/media`目录
- **FHS 2.3**（2004年）：进一步完善
- **FHS 3.0**（2015年）：当前版本，增加了`/run`目录

### 5.2 现代趋势

现代Linux发行版在遵循FHS的同时，也有一些新的趋势：

#### 5.2.1 usr合并

许多发行版实施了"usr合并"，将`/bin`、`/sbin`和`/lib`移动到`/usr`下，并在根目录创建符号链接：

```
/bin -> /usr/bin
/sbin -> /usr/sbin
/lib -> /usr/lib
```

这种变化简化了文件系统结构，使得`/usr`可以作为单独的分区挂载，甚至可以在多个系统间共享。

#### 5.2.2 systemd的影响

systemd引入了一些新的目录和约定：

- `/run`目录（现已纳入FHS 3.0）
- `/etc/systemd/`目录结构
- 单元文件的标准位置

#### 5.2.3 容器化的影响

容器技术（如Docker）对传统的FHS结构提出了挑战：

- 容器镜像通常只包含最小的目录结构
- 应用程序通常安装在非标准位置
- 配置通常通过环境变量或挂载卷提供

## 6. 不同发行版的差异

虽然大多数Linux发行版都遵循FHS标准，但它们之间仍然存在一些差异。

### 6.1 Debian/Ubuntu特有目录

- `/etc/apt/`：APT包管理器配置
- `/etc/network/interfaces`：网络配置（传统）
- `/var/cache/apt/`：APT包缓存

### 6.2 Red Hat/CentOS/Fedora特有目录

- `/etc/sysconfig/`：系统配置文件
- `/etc/yum.repos.d/`：YUM仓库配置
- `/usr/lib/systemd/system/`：systemd服务单元

### 6.3 Arch Linux特有目录

- `/etc/pacman.d/`：Pacman包管理器配置
- `/var/lib/pacman/`：Pacman数据库
- `/usr/lib/systemd/system/`：systemd服务单元

### 6.4 SUSE/openSUSE特有目录

- `/etc/sysconfig/`：系统配置文件
- `/etc/zypp/`：Zypper包管理器配置
- `/var/adm/`：系统管理文件

## 7. FHS的最佳实践

无论你是系统管理员、开发人员还是普通用户，遵循FHS的最佳实践都能帮助你更有效地使用Linux系统。

### 7.1 系统管理员最佳实践

1. **保持配置文件在`/etc`中**：
   - 所有系统范围的配置应该放在`/etc`中
   - 使用子目录组织不同应用的配置
   - 考虑使用版本控制系统管理配置文件

2. **正确管理日志**：
   - 确保所有日志都写入`/var/log`
   - 配置日志轮转以防止日志文件过大
   - 定期检查日志以发现潜在问题

3. **合理分区**：
   - 根据FHS的目录用途设计分区方案
   - 考虑将`/var`、`/home`和`/tmp`放在单独的分区上
   - 为`/boot`使用小型分区

### 7.2 开发人员最佳实践

1. **遵循标准安装位置**：
   - 系统范围的应用程序安装到`/usr`
   - 本地编译的应用程序安装到`/usr/local`
   - 第三方应用程序考虑安装到`/opt`

2. **正确处理配置文件**：
   - 系统范围的配置放在`/etc`
   - 用户特定的配置放在用户主目录下的点文件中
   - 提供默认配置作为示例

3. **合理组织应用数据**：
   - 静态数据放在`/usr/share`
   - 变动数据放在`/var/lib`
   - 缓存数据放在`/var/cache`

### 7.3 普通用户最佳实践

1. **了解重要目录**：
   - 知道在哪里查找命令（`/bin`、`/usr/bin`）
   - 知道在哪里查找配置（`/etc`）
   - 知道在哪里查找日志（`/var/log`）

2. **组织个人文件**：
   - 使用主目录下的标准目录（Documents、Pictures等）
   - 将个人配置保存在点