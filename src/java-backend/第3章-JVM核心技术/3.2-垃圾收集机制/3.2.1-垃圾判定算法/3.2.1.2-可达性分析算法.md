---
title: 可达性分析算法
icon: graph
order: 2
---
# 可达性分析算法

## 基本原理
可达性分析算法是现代JVM普遍采用的垃圾判定算法，通过判断对象是否可以从GC Roots出发，通过引用链到达来确定对象是否存活。

## GC Roots包括
- 虚拟机栈中引用的对象
- 方法区中静态属性引用的对象
- 方法区中常量引用的对象
- 本地方法栈中JNI引用的对象
- 虚拟机内部引用(类加载器、异常对象、系统类加载器等)
- 被同步锁持有的对象
- 本地代码缓存等

## 工作流程
1. 从GC Roots出发，沿着引用链进行遍历
2. 能被遍历到的对象被标记为存活
3. 未被标记的对象被判定为垃圾

## 优缺点
### 优点
- 能有效解决循环引用问题
- 判定准确性高

### 缺点
- 需要STW(Stop-The-World)，暂停所有用户线程
- 实现复杂度高

## 在JVM中的应用
HotSpot JVM主要采用可达性分析算法进行垃圾判定，各种垃圾收集器都基于此算法实现。
