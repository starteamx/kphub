---
title: 等待/通知常见错误
icon: error
order: 6
---

# 等待/通知常见错误

## 锁使用错误

- 未在同步块中调用wait/notify
- 在错误的对象上调用wait/notify
- 锁的不一致性问题
- 锁的嵌套使用错误
- 锁泄露的风险

## 条件检查错误

- 使用if而非while检查条件
- 条件检查的逻辑错误
- 忽略虚假唤醒的风险
- 条件变量的混用问题
- 条件状态的不一致性

## 通知策略错误

- 通知丢失的问题
- 过度通知的性能问题
- 通知顺序的错误假设
- 选择notify而非notifyAll的错误
- 忘记通知的逻辑缺陷

## 异常处理错误

- 忽略InterruptedException
- 异常处理中的锁释放问题
- 异常传播的不当处理
- 资源清理的遗漏
- 异常恢复的缺失

## 设计层面的错误

- 过度复杂的协作逻辑
- 等待/通知与其他机制的混用
- 可伸缩性设计的缺陷
- 超时设置的不合理
- 死锁风险的忽视
