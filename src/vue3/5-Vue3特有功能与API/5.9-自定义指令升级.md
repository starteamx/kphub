---
title: 自定义指令升级
icon: magic
order: 9
---

# 自定义指令升级

## 指令API变化
- Vue2指令钩子函数回顾
- Vue3指令生命周期对齐
- 钩子函数参数变化
- 命名约定变化

## 新的生命周期钩子
- created：元素的attribute或事件监听器应用之前
- beforeMount：元素被插入到DOM之前
- mounted：元素插入DOM时
- beforeUpdate：组件更新前
- updated：组件更新后
- beforeUnmount：元素被移除之前
- unmounted：元素被移除后

## 实现技巧
- 访问组件实例
- 指令参数与修饰符
- 动态指令参数
- 复合指令开发
- 指令与组件的交互

## 常用自定义指令示例
- v-focus：自动聚焦
- v-clickoutside：点击外部
- v-lazy：图片懒加载
- v-permission：权限控制
- v-tooltip：提示框
