---
title: Naive UI
icon: puzzle-piece
order: 3
---

# Naive UI

Naive UI 是一个基于 Vue 3 的组件库，由图森未来（TuSimple）开源，以其清新的设计风格、完善的 TypeScript 支持和丰富的组件生态受到开发者的喜爱。作为一个相对年轻但发展迅速的 UI 框架，Naive UI 在中文社区有着广泛的应用，尤其适合构建现代化的管理系统和应用界面。

## 基本介绍

### Naive UI的设计特点

Naive UI 的设计理念体现在其名称中 —— "Naive"（天真的），意味着简单、直接且易于使用。其设计特点主要包括：

1. **简洁而不简单**：Naive UI 的视觉设计简洁明了，但功能却非常丰富。组件样式清爽，没有过多的装饰，让用户可以专注于内容本身。

2. **高度一致性**：所有组件遵循统一的设计语言，包括间距、颜色、交互方式等，确保整个应用的视觉和交互体验保持一致。

3. **灵活的组件 API**：Naive UI 的组件 API 设计灵活，大多数组件提供了丰富的属性和事件，可以满足各种复杂场景的需求。

4. **注重细节**：在动画过渡、交互反馈、错误状态等细节上都有精心设计，提升了整体用户体验。

5. **开发者友好**：组件文档详尽，示例丰富，API 说明清晰，大大降低了学习成本。

```vue
<template>
  <!-- 简洁的按钮设计 -->
  <n-space>
    <n-button>默认按钮</n-button>
    <n-button type="primary">主要按钮</n-button>
    <n-button type="info">信息按钮</n-button>
    <n-button type="success">成功按钮</n-button>
    <n-button type="warning">警告按钮</n-button>
    <n-button type="error">错误按钮</n-button>
  </n-space>
  
  <!-- 一致的表单设计 -->
  <n-form :model="formValue" label-placement="left" label-width="auto" style="max-width: 600px; margin-top: 16px;">
    <n-form-item label="用户名" path="username">
      <n-input v-model:value="formValue.username" placeholder="请输入用户名" />
    </n-form-item>
    <n-form-item label="密码" path="password">
      <n-input v-model:value="formValue.password" type="password" placeholder="请输入密码" />
    </n-form-item>
  </n-form>
</template>

<script setup>
import { ref } from 'vue'

const formValue = ref({
  username: '',
  password: ''
})
</script>
```

### 完全基于TypeScript

Naive UI 是完全基于 TypeScript 构建的组件库，这带来了许多优势：

1. **类型安全**：所有组件都有完整的类型定义，在开发过程中可以获得 IDE 的智能提示和类型检查，减少错误。

2. **自动补全**：在使用组件时，IDE 可以自动补全属性和事件，提高开发效率。

3. **文档即代码**：TypeScript 的类型定义本身就是一种文档，可以直接从代码中了解组件的使用方式。

4. **更好的重构支持**：当需要修改代码时，TypeScript 可以帮助识别所有受影响的地方，减少重构风险。

5. **组件属性验证**：通过 TypeScript 的类型系统，可以在编译时就发现属性使用错误，而不是在运行时才发现问题。

以下是一个使用 TypeScript 的 Naive UI 组件示例：

```typescript
<template>
  <n-data-table
    :columns="columns"
    :data="data"
    :pagination="pagination"
    @update:page="handlePageChange"
  />
</template>

<script lang="ts">
import { defineComponent, ref, h } from 'vue'
import { DataTableColumns, PaginationProps, NButton } from 'naive-ui'

// 定义数据类型
interface Person {
  id: number
  name: string
  age: number
  address: string
}

export default defineComponent({
  setup() {
    // 使用类型定义表格列
    const columns = ref<DataTableColumns<Person>>([
      {
        title: 'ID',
        key: 'id',
        sorter: 'default'
      },
      {
        title: '姓名',
        key: 'name'
      },
      {
        title: '年龄',
        key: 'age',
        sorter: (a, b) => a.age - b.age
      },
      {
        title: '地址',
        key: 'address'
      },
      {
        title: '操作',
        key: 'actions',
        render(row) {
          return h(
            NButton,
            {
              size: 'small',
              onClick: () => console.log(row)
            },
            { default: () => '查看' }
          )
        }
      }
    ])

    // 表格数据
    const data = ref<Person[]>([
      { id: 1, name: '张三', age: 28, address: '北京市朝阳区' },
      { id: 2, name: '李四', age: 32, address: '上海市浦东新区' },
      { id: 3, name: '王五', age: 24, address: '广州市天河区' }
    ])

    // 分页配置
    const pagination = ref<PaginationProps>({
      page: 1,
      pageSize: 10,
      showSizePicker: true,
      pageSizes: [10, 20, 30, 40],
      onChange: (page) => {
        pagination.value.page = page
      },
      onUpdatePageSize: (pageSize) => {
        pagination.value.pageSize = pageSize
        pagination.value.page = 1
      }
    })

    // 页码变化处理
    const handlePageChange = (page: number) => {
      pagination.value.page = page
    }

    return {
      columns,
      data,
      pagination,
      handlePageChange
    }
  }
})
</script>
```

### 主题系统与暗黑模式

Naive UI 提供了强大而灵活的主题系统，支持全局主题配置和组件级别的主题覆盖：

1. **内置亮色和暗色主题**：Naive UI 默认提供了亮色和暗色两套主题，可以轻松切换。

2. **全局主题配置**：通过 `n-config-provider` 组件可以为整个应用设置统一的主题。

3. **局部主题覆盖**：可以为特定的组件或区域设置不同的主题，实现更灵活的设计。

4. **自定义主题变量**：可以修改颜色、字体、圆角等主题变量，打造符合品牌调性的界面。

5. **主题切换动画**：在亮色和暗色主题之间切换时，提供平滑的过渡动画，提升用户体验。

以下是主题配置和暗黑模式的示例：

```vue
<template>
  <n-config-provider :theme="theme">
    <n-layout>
      <n-space vertical size="large">
        <n-card title="主题切换示例">
          <n-space>
            <n-switch v-model:value="darkMode" />
            <n-text>{{ darkMode ? '暗色模式' : '亮色模式' }}</n-text>
          </n-space>
          
          <n-divider />
          
          <n-space vertical>
            <n-button type="primary">主要按钮</n-button>
            <n-input placeholder="请输入内容" />
            <n-date-picker />
            <n-slider v-model:value="sliderValue" :step="1" :min="0" :max="100" />
          </n-space>
        </n-card>
        
        <!-- 局部主题覆盖 -->
        <n-card title="局部主题覆盖">
          <n-config-provider :theme-overrides="themeOverrides">
            <n-space>
              <n-button type="primary">自定义主题按钮</n-button>
              <n-input placeholder="自定义输入框" />
            </n-space>
          </n-config-provider>
        </n-card>
      </n-space>
    </n-layout>
  </n-config-provider>
</template>

<script setup>
import { ref, computed } from 'vue'
import { darkTheme, useOsTheme } from 'naive-ui'

// 使用操作系统主题
const osThemeRef = useOsTheme()

// 暗黑模式状态
const darkMode = ref(osThemeRef.value === 'dark')

// 根据暗黑模式状态切换主题
const theme = computed(() => (darkMode.value ? darkTheme : null))

// 滑块值
const sliderValue = ref(50)

// 局部主题覆盖
const themeOverrides = {
  common: {
    primaryColor: '#8a2be2',
    primaryColorHover: '#9370db',
    primaryColorPressed: '#800080'
  },
  Button: {
    textColor: '#fff',
    borderRadius: '4px'
  },
  Input: {
    borderRadius: '4px',
    boxShadowFocus: '0 0 0 2px rgba(138, 43, 226, 0.2)'
  }
}
</script>
```

## 使用指南

### 安装与快速上手

使用 Naive UI 非常简单，只需几个步骤即可在 Vue 3 项目中集成：

#### 安装

首先，使用包管理器安装 Naive UI：

```bash
# 使用 npm
npm install naive-ui

# 使用 yarn
yarn add naive-ui

# 使用 pnpm
pnpm add naive-ui
```

同时，建议安装以下依赖以获得更好的开发体验：

```bash
# 安装字体图标和日期处理库
npm install @vicons/ionicons5 date-fns
```

#### 快速上手

在 Vue 3 项目中使用 Naive UI 的基本步骤：

1. **创建 Vue 3 项目**：

```bash
# 使用 Vue CLI
vue create my-naive-ui-app

# 或使用 Vite
npm init vite@latest my-naive-ui-app -- --template vue-ts
```

2. **在 main.ts 中引入 Naive UI**：

```typescript
import { createApp } from 'vue'
import App from './App.vue'

// 创建应用实例
const app = createApp(App)

// 挂载应用
app.mount('#app')
```

3. **在组件中使用 Naive UI**：

```vue
<template>
  <n-message-provider>
    <n-notification-provider>
      <n-dialog-provider>
        <app-content />
      </n-dialog-provider>
    </n-notification-provider>
  </n-message-provider>
</template>

<script setup>
import { NMessageProvider, NNotificationProvider, NDialogProvider } from 'naive-ui'
import AppContent from './AppContent.vue'
</script>
```

4. **使用组件**：

```vue
<template>
  <n-space vertical>
    <n-h1>Naive UI 快速上手</n-h1>
    <n-button @click="showMessage">显示消息</n-button>
    <n-button @click="showNotification">显示通知</n-button>
    <n-button @click="showDialog">显示对话框</n-button>
  </n-space>
</template>

<script setup>
import { useMessage, useNotification, useDialog } from 'naive-ui'

// 使用组合式 API 获取消息、通知和对话框实例
const message = useMessage()
const notification = useNotification()
const dialog = useDialog()

// 显示消息
const showMessage = () => {
  message.success('这是一条成功消息')
}

// 显示通知
const showNotification = () => {
  notification.info({
    title: '通知标题',
    content: '这是通知内容',
    duration: 3000
  })
}

// 显示对话框
const showDialog = () => {
  dialog.warning({
    title: '警告',
    content: '确定要执行此操作吗？',
    positiveText: '确定',
    negativeText: '取消',
    onPositiveClick: () => {
      message.success('操作已确认')
    },
    onNegativeClick: () => {
      message.error('操作已取消')
    }
  })
}
</script>
```

### 按需引入与全局配置

Naive UI 支持多种引入方式，可以根据项目需求选择合适的方式：

#### 按需引入

按需引入可以减小打包体积，只引入实际使用的组件：

```vue
<template>
  <n-button type="primary">按钮</n-button>
  <n-input placeholder="输入框" />
</template>

<script setup>
import { NButton, NInput } from 'naive-ui'
</script>
```

#### 自动引入

使用 `unplugin-vue-components` 和 `unplugin-auto-import` 插件可以实现自动引入，无需手动导入组件：

1. 安装插件：

```bash
npm install -D unplugin-vue-components unplugin-auto-import
```

2. 配置 Vite 或 Webpack：

```javascript
// vite.config.js
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import Components from 'unplugin-vue-components/vite'
import { NaiveUiResolver } from 'unplugin-vue-components/resolvers'
import AutoImport from 'unplugin-auto-import/vite'

export default defineConfig({
  plugins: [
    vue(),
    Components({
      resolvers: [NaiveUiResolver()]
    }),
    AutoImport({
      imports: [
        'vue',
        {
          'naive-ui': [
            'useDialog',
            'useMessage',
            'useNotification',
            'useLoadingBar'
          ]
        }
      ]
    })
  ]
})
```

3. 直接在模板中使用组件，无需导入：

```vue
<template>
  <n-button @click="handleClick">点击</n-button>
</template>

<script setup>
// 无需导入 NButton
// 自动导入的 API
const message = useMessage()

const handleClick = () => {
  message.success('成功')
}
</script>
```

#### 全局配置

使用 `n-config-provider` 可以为整个应用设置全局配置：

```vue
<template>
  <n-config-provider :locale="zhCN" :date-locale="dateZhCN" :theme="theme" :theme-overrides="themeOverrides">
    <app-content />
  </n-config-provider>
</template>

<script setup>
import { ref } from 'vue'
import { NConfigProvider, zhCN, dateZhCN, darkTheme } from 'naive-ui'
import AppContent from './AppContent.vue'

// 是否使用暗色主题
const isDark = ref(false)

// 计算当前主题
const theme = computed(() => isDark.value ? darkTheme : null)

// 主题覆盖
const themeOverrides = {
  common: {
    primaryColor: '#1890ff',
    primaryColorHover: '#40a9ff',
    primaryColorPressed: '#096dd9',
    borderRadius: '4px'
  }
}
</script>
```

### 主题定制与国际化

Naive UI 提供了强大的主题定制能力和完善的国际化支持：

#### 主题定制

可以通过 `themeOverrides` 属性自定义主题：

```vue
<template>
  <n-config-provider :theme-overrides="themeOverrides">
    <n-card title="主题定制示例">
      <n-space vertical>
        <n-button type="primary">主要按钮</n-button>
        <n-button type="info">信息按钮</n-button>
        <n-button type="success">成功按钮</n-button>
        <n-button type="warning">警告按钮</n-button>
        <n-button type="error">错误按钮</n-button>
      </n-space>
    </n-card>
  </n-config-provider>
</template>

<script setup>
import { NConfigProvider, NCard, NSpace, NButton } from 'naive-ui'

// 自定义主题
const themeOverrides = {
  common: {
    // 基础颜色
    primaryColor: '#1890ff',
    primaryColorHover: '#40a9ff',
    primaryColorPressed: '#096dd9',
    infoColor: '#2db7f5',
    successColor: '#52c41a',
    warningColor: '#faad14',
    errorColor: '#f5222d',
    
    // 字体
    fontFamily: '"Helvetica Neue", Helvetica, Arial, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif',
    fontSize: '14px',
    
    // 圆角
    borderRadius: '4px',
    
    // 过渡
    transitionDuration: '0.2s'
  },
  
  // 按钮组件特定样式
  Button: {
    textColor: 'rgba(0, 0, 0, 0.88)',
    fontWeight: '500',
    borderRadius: '4px',
    heightMedium: '32px',
    fontSizeMedium: '14px'
  },
  
  // 卡片组件特定样式
  Card: {
    borderRadius: '8px',
    titleFontSize: '16px',
    titleFontWeight: '600'
  }
}
</script>
```

#### 暗黑模式切换

实现亮色/暗色主题切换：

```vue
<template>
  <n-config-provider :theme="theme">
    <n-layout>
      <n-layout-header style="padding: 16px">
        <n-space justify="end">
          <n-switch v-model:value="darkMode">
            <template #checked>🌙</template>
            <template #unchecked>☀️</template>
          </n-switch>
        </n-space>
      </n-layout-header>
      
      <n-layout-content style="padding: 24px">
        <n-card title="暗黑模式示例">
          <n-space vertical>
            <n-input placeholder="请输入内容" />
            <n-select :options="options" placeholder="请选择" />
            <n-date-picker />
            <n-button type="primary">提交</n-button>
          </n-space>
        </n-card>
      </n-layout-content>
    </n-layout>
  </n-config-provider>
</template>

<script setup>
import { ref, computed } from 'vue'
import { darkTheme } from 'naive-ui'

// 暗黑模式状态
const darkMode = ref(false)

// 根据状态切换主题
const theme = computed(() => darkMode.value ? darkTheme : null)

// 选择器选项
const options = [
  { label: '选项1', value: '1' },
  { label: '选项2', value: '2' },
  { label: '选项3', value: '3' }
]
</script>
```

#### 国际化

Naive UI 内置了多种语言支持，可以轻松实现国际化：

```vue
<template>
  <n-config-provider :locale="locale" :date-locale="dateLocale">
    <n-space vertical>
      <n-space>
        <n-select v-model:value="language" :options="languageOptions" />
      </n-space>
      
      <n-divider />
      
      <n-date-picker />
      <n-pagination :page-count="10" />
      <n-button @click="showModal">打开对话框</n-button>
    </n-space>
  </n-config-provider>
</template>

<script setup>
import { ref, computed } from 'vue'
import {
  NConfigProvider,
  NSpace,
  NSelect,
  NDivider,
  NDatePicker,
  NPagination,
  NButton,
  useDialog,
  // 语言包
  zhCN, zhTW, enUS, deDE, frFR, esES, jaJP, koKR,
  // 日期语言包
  dateZhCN, dateZhTW, dateEnUS, dateDeDE, dateFrFR, dateEsES, dateJaJP, dateKoKR
} from 'naive-ui'

// 语言选项
const languageOptions = [
  { label: '简体中文', value: 'zh-CN' },
  { label: '繁體中文', value: 'zh-TW' },
  { label: 'English', value: 'en-US' },
  { label: 'Deutsch', value: 'de-DE' },
  { label: 'Français', value: 'fr-FR' },
  { label: 'Español', value: 'es-ES' },
  { label: '日本語', value: 'ja-JP' },
  { label: '한국어', value: 'ko-KR' }
]

// 当前语言
const language = ref('zh-CN')

// 语言映射
const localeMap = {
  'zh-CN': zhCN,
  'zh-TW': zhTW,
  'en-US': enUS,
  'de-DE': deDE,
  'fr-FR': frFR,
  'es-ES': esES,
  'ja-JP': jaJP,
  'ko-KR': koKR
}

// 日期语言映射
const dateLocaleMap = {
  'zh-CN': dateZhCN,
  'zh-TW': dateZhTW,
  'en-US': dateEnUS,
  'de-DE': dateDeDE,
  'fr-FR': dateFrFR,
  'es-ES': dateEsES,
  'ja-JP': dateJaJP,
  'ko-KR': dateKoKR
}

// 当前语言包
const locale = computed(() => localeMap[language.value])
// 当前日期语言包
const dateLocale = computed(() => dateLocaleMap[language.value])

// 对话框
const dialog = useDialog()

// 显示对话框
const showModal = () => {
  dialog.info({
    title: '信息',
    content: '这是一个国际化示例对话框',
    positiveText: '确定',
    negativeText: '取消'
  })
}
</script>
```

## 组件特色

### 独特的组件设计

Naive UI 提供了许多独特设计的组件，这些组件在其他 UI 库中可能不常见，但在实际应用中非常实用：

#### 1. 数据表格（DataTable）

Naive UI 的数据表格功能非常强大，支持虚拟滚动、树形数据、固定列、自定义渲染等高级特性：

```vue
<template>
  <n-data-table
    :columns="columns"
    :data="data"
    :pagination="pagination"
    :row-key="row => row.id"
    :loading="loading"
    :scroll-x="1200"
    :max-height="400"
    virtual-scroll
  />
</template>

<script setup>
import { h, ref } from 'vue'
import { NTag, NButton, NSpace } from 'naive-ui'

// 表格加载状态
const loading = ref(false)

// 表格列定义
const columns = [
  {
    title: 'ID',
    key: 'id',
    width: 80,
    fixed: 'left'
  },
  {
    title: '姓名',
    key: 'name',
    width: 120,
    fixed: 'left'
  },
  {
    title: '年龄',
    key: 'age',
    width: 100,
    sorter: (a, b) => a.age - b.age
  },
  {
    title: '地址',
    key: 'address',
    width: 200
  },
  {
    title: '标签',
    key: 'tags',
    width: 200,
    render(row) {
      return h(
        NSpace,
        { wrap: true },
        {
          default: () => row.tags.map(tag => h(
            NTag,
            { type: tag.type, round: true },
            { default: () => tag.name }
          ))
        }
      )
    }
  },
  {
    title: '创建时间',
    key: 'createTime',
    width: 160
  },
  {
    title: '更新时间',
    key: 'updateTime',
    width: 160
  },
  {
    title: '操作',
    key: 'actions',
    width: 150,
    fixed: 'right',
    render(row) {
      return h(
        NSpace,
        { justify: 'center' },
        {
          default: () => [
            h(
              NButton,
              { size: 'small', type: 'primary', onClick: () => handleEdit(row) },
              { default: () => '编辑' }
            ),
            h(
              NButton,
              { size: 'small', type: 'error', onClick: () => handleDelete(row) },
              { default: () => '删除' }
            )
          ]
        }
      )
    }
  }
]

// 生成模拟数据
const generateData = (count = 100) => {
  const data = []
  const tagTypes = ['default', 'primary', 'info', 'success', 'warning', 'error']
  
  for (let i = 0; i < count; i++) {
    const tagCount = Math.floor(Math.random() * 4) + 1
    const tags = []
    
    for (let j = 0; j < tagCount; j++) {
      const typeIndex = Math.floor(Math.random() * tagTypes.length)
      tags.push({
        name: `标签${j + 1}`,
        type: tagTypes[typeIndex]
      })
    }
    
    data.push({
      id: i + 1,
      name: `用户${i + 1}`,
      age: Math.floor(Math.random() * 50) + 18,
      address: `北京市朝阳区某某街道第${i + 1}号`,
      tags,
      createTime: new Date(Date.now() - Math.random() * 100000000).toLocaleString(),
      updateTime: new Date(Date.now() - Math.random() * 10000000).toLocaleString()
    })
  }
  
  return data
}

// 表格数据
const data = ref(generateData())

// 分页配置
const pagination = ref({
  page: 1,
  pageSize: 10,
  showSizePicker: true,
  pageSizes: [10, 20, 50, 100],
  onChange: (page) => {
    pagination.value.page = page
  },
  onUpdatePageSize: (pageSize) => {
    pagination.value.pageSize = pageSize
    pagination.value.page = 1
  }
})

// 编辑行
const handleEdit = (row) => {
  console.log('编辑行:', row)
}

// 删除行
const handleDelete = (row) => {
  console.log('删除行:', row)
}
</script>
```

#### 2. 级联选择器（Cascader）

Naive UI 的级联选择器支持多选、搜索、动态加载等特性：

```vue
<template>
  <n-space vertical>
    <n-cascader
      v-model:value="value"
      placeholder="请选择地区"
      :options="options"
      :check-strategy="checkStrategy"
      :cascade="cascade"
      :show-path="showPath"
      :filterable="filterable"
      :multiple="multiple"
      @update:value="handleUpdateValue"
    />
    
    <n-space>
      <n-checkbox v-model:checked="multiple">多选</n-checkbox>
      <n-checkbox v-model:checked="cascade">级联选择</n-checkbox>
      <n-checkbox v-model:checked="showPath">显示路径</n-checkbox>
      <n-checkbox v-model:checked="filterable">可搜索</n-checkbox>
    </n-space>
    
    <n-radio-group v-model:value="checkStrategy" name="check-strategy">
      <n-space>
        <n-radio value="all">全部</n-radio>
        <n-radio value="parent">父节点</n-radio>
        <n-radio value="child">子节
让我继续完成 Naive UI 组件特色部分的内容：

```vue
        <n-radio value="child">子节点</n-radio>
      </n-space>
    </n-radio-group>
    
    <n-divider />
    
    <n-text>当前选择值: {{ value }}</n-text>
  </n-space>
</template>

<script setup>
import { ref } from 'vue'

// 选中值
const value = ref(null)

// 配置选项
const multiple = ref(false)
const cascade = ref(true)
const showPath = ref(true)
const filterable = ref(true)
const checkStrategy = ref('child')

// 级联数据
const options = [
  {
    label: '北京市',
    value: 'beijing',
    children: [
      {
        label: '朝阳区',
        value: 'chaoyang',
        children: [
          {
            label: '三里屯',
            value: 'sanlitun'
          },
          {
            label: '国贸',
            value: 'guomao'
          }
        ]
      },
      {
        label: '海淀区',
        value: 'haidian',
        children: [
          {
            label: '中关村',
            value: 'zhongguancun'
          },
          {
            label: '五道口',
            value: 'wudaokou'
          }
        ]
      }
    ]
  },
  {
    label: '上海市',
    value: 'shanghai',
    children: [
      {
        label: '浦东新区',
        value: 'pudong',
        children: [
          {
            label: '陆家嘴',
            value: 'lujiazui'
          },
          {
            label: '张江',
            value: 'zhangjiang'
          }
        ]
      },
      {
        label: '静安区',
        value: 'jingan',
        children: [
          {
            label: '南京西路',
            value: 'nanjingxilu'
          },
          {
            label: '静安寺',
            value: 'jingansi'
          }
        ]
      }
    ]
  }
]

// 值变化处理
const handleUpdateValue = (val) => {
  console.log('选择值变化:', val)
}
</script>
```

#### 3. 动态标签（DynamicTags）

Naive UI 提供了动态标签组件，可以方便地添加、删除和编辑标签：

```vue
<template>
  <n-space vertical>
    <n-dynamic-tags
      v-model:value="tags"
      :max="10"
      :input-style="{ width: '100px' }"
      :render-tag="renderTag"
      @update:value="handleUpdateValue"
    />
    
    <n-divider />
    
    <n-text>当前标签: {{ tags.join(', ') }}</n-text>
  </n-space>
</template>

<script setup>
import { ref, h } from 'vue'
import { NTag } from 'naive-ui'

// 标签数据
const tags = ref(['Naive UI', 'Vue 3', 'TypeScript', 'Vite'])

// 自定义标签渲染
const renderTag = ({ tag, handleClose, handleMouseenter, handleMouseleave }) => {
  // 为不同标签设置不同颜色
  const colorMap = {
    'Naive UI': 'success',
    'Vue 3': 'info',
    'TypeScript': 'warning',
    'Vite': 'error'
  }
  
  const color = colorMap[tag] || 'default'
  
  return h(
    NTag,
    {
      type: color,
      closable: true,
      onClose: handleClose,
      onMouseenter: handleMouseenter,
      onMouseleave: handleMouseleave,
      style: {
        marginRight: '6px'
      }
    },
    { default: () => tag }
  )
}

// 标签变化处理
const handleUpdateValue = (value) => {
  console.log('标签变化:', value)
}
</script>
```

#### 4. 加载条（LoadingBar）

Naive UI 提供了全局加载条组件，适用于页面跳转或异步操作的加载提示：

```vue
<template>
  <n-space>
    <n-button @click="startLoading">开始加载</n-button>
    <n-button @click="finishLoading">完成加载</n-button>
    <n-button @click="errorLoading">加载错误</n-button>
  </n-space>
</template>

<script setup>
import { useLoadingBar } from 'naive-ui'

// 获取加载条实例
const loadingBar = useLoadingBar()

// 开始加载
const startLoading = () => {
  loadingBar.start()
}

// 完成加载
const finishLoading = () => {
  loadingBar.finish()
}

// 加载错误
const errorLoading = () => {
  loadingBar.error()
}
</script>
```

### 高级数据表格

Naive UI 的数据表格（DataTable）是其最强大的组件之一，提供了许多高级特性：

#### 1. 虚拟滚动

处理大量数据时，虚拟滚动可以显著提高性能：

```vue
<template>
  <n-card title="虚拟滚动表格">
    <n-space vertical>
      <n-space>
        <n-button @click="addThousandRows">添加1000行</n-button>
        <n-text>当前数据量: {{ data.length }} 行</n-text>
      </n-space>
      
      <n-data-table
        :columns="columns"
        :data="data"
        :max-height="400"
        :scroll-x="1200"
        virtual-scroll
        :row-key="row => row.id"
        :pagination="{ pageSize: 100 }"
      />
    </n-space>
  </n-card>
</template>

<script setup>
import { ref } from 'vue'

// 表格列定义
const columns = [
  { title: 'ID', key: 'id', width: 80, fixed: 'left' },
  { title: '姓名', key: 'name', width: 120 },
  { title: '年龄', key: 'age', width: 100 },
  { title: '地址', key: 'address', width: 200 },
  { title: '电话', key: 'phone', width: 150 },
  { title: '邮箱', key: 'email', width: 200 },
  { title: '职业', key: 'job', width: 150 },
  { title: '公司', key: 'company', width: 200 },
  { title: '部门', key: 'department', width: 150 },
  { title: '入职时间', key: 'joinTime', width: 160 }
]

// 生成随机数据
const generateData = (count, startIndex = 0) => {
  const data = []
  const jobs = ['工程师', '设计师', '产品经理', '运营', '市场', '销售', '客服', '财务', '人事']
  const companies = ['科技有限公司', '网络科技', '软件开发', '设计工作室', '咨询顾问', '教育培训']
  const departments = ['研发部', '设计部', '产品部', '运营部', '市场部', '销售部', '客服部', '财务部', '人事部']
  
  for (let i = 0; i < count; i++) {
    const index = startIndex + i
    data.push({
      id: index + 1,
      name: `用户${index + 1}`,
      age: Math.floor(Math.random() * 40) + 20,
      address: `北京市朝阳区某某街道第${index + 1}号`,
      phone: `1${Math.floor(Math.random() * 10)}${Math.floor(Math.random() * 10000000000).toString().padStart(9, '0')}`,
      email: `user${index + 1}@example.com`,
      job: jobs[Math.floor(Math.random() * jobs.length)],
      company: companies[Math.floor(Math.random() * companies.length)],
      department: departments[Math.floor(Math.random() * departments.length)],
      joinTime: new Date(Date.now() - Math.random() * 100000000000).toLocaleString()
    })
  }
  
  return data
}

// 表格数据
const data = ref(generateData(1000))

// 添加1000行数据
const addThousandRows = () => {
  const newData = generateData(1000, data.value.length)
  data.value = [...data.value, ...newData]
}
</script>
```

#### 2. 树形数据

表格支持树形数据展示，适用于层级结构数据：

```vue
<template>
  <n-data-table
    :columns="columns"
    :data="data"
    :pagination="pagination"
    :row-key="row => row.key"
    :children-key="childrenKey"
    :indent="24"
    default-expand-all
  />
</template>

<script setup>
import { h, ref } from 'vue'
import { NButton, NSpace, NSwitch } from 'naive-ui'

// 子节点键名
const childrenKey = 'children'

// 表格列定义
const columns = [
  {
    title: '名称',
    key: 'name',
    width: 200
  },
  {
    title: '类型',
    key: 'type',
    width: 120
  },
  {
    title: '状态',
    key: 'status',
    width: 120,
    render(row) {
      return h(
        NSwitch,
        {
          value: row.status === 'active',
          onUpdateValue: (value) => {
            row.status = value ? 'active' : 'inactive'
          }
        }
      )
    }
  },
  {
    title: '创建时间',
    key: 'createTime',
    width: 160
  },
  {
    title: '操作',
    key: 'actions',
    width: 150,
    render(row) {
      return h(
        NSpace,
        { justify: 'center' },
        {
          default: () => [
            h(
              NButton,
              { size: 'small', type: 'primary', onClick: () => handleEdit(row) },
              { default: () => '编辑' }
            ),
            h(
              NButton,
              { size: 'small', type: 'error', onClick: () => handleDelete(row) },
              { default: () => '删除' }
            )
          ]
        }
      )
    }
  }
]

// 树形数据
const data = ref([
  {
    key: '1',
    name: '公司架构',
    type: '组织',
    status: 'active',
    createTime: '2022-01-01 10:00:00',
    children: [
      {
        key: '1-1',
        name: '技术部',
        type: '部门',
        status: 'active',
        createTime: '2022-01-02 10:00:00',
        children: [
          {
            key: '1-1-1',
            name: '前端组',
            type: '团队',
            status: 'active',
            createTime: '2022-01-03 10:00:00',
            children: [
              {
                key: '1-1-1-1',
                name: '张三',
                type: '员工',
                status: 'active',
                createTime: '2022-01-04 10:00:00'
              },
              {
                key: '1-1-1-2',
                name: '李四',
                type: '员工',
                status: 'active',
                createTime: '2022-01-04 11:00:00'
              }
            ]
          },
          {
            key: '1-1-2',
            name: '后端组',
            type: '团队',
            status: 'active',
            createTime: '2022-01-03 11:00:00',
            children: [
              {
                key: '1-1-2-1',
                name: '王五',
                type: '员工',
                status: 'active',
                createTime: '2022-01-04 12:00:00'
              },
              {
                key: '1-1-2-2',
                name: '赵六',
                type: '员工',
                status: 'inactive',
                createTime: '2022-01-04 13:00:00'
              }
            ]
          }
        ]
      },
      {
        key: '1-2',
        name: '产品部',
        type: '部门',
        status: 'active',
        createTime: '2022-01-02 11:00:00',
        children: [
          {
            key: '1-2-1',
            name: '产品组',
            type: '团队',
            status: 'active',
            createTime: '2022-01-03 12:00:00',
            children: [
              {
                key: '1-2-1-1',
                name: '钱七',
                type: '员工',
                status: 'active',
                createTime: '2022-01-04 14:00:00'
              }
            ]
          }
        ]
      }
    ]
  }
])

// 分页配置
const pagination = ref({
  pageSize: 20
})

// 编辑行
const handleEdit = (row) => {
  console.log('编辑行:', row)
}

// 删除行
const handleDelete = (row) => {
  console.log('删除行:', row)
}
</script>
```

#### 3. 可编辑表格

实现单元格编辑功能：

```vue
<template>
  <n-card title="可编辑表格">
    <n-data-table
      :columns="columns"
      :data="data"
      :pagination="pagination"
      :row-key="row => row.id"
    />
  </n-card>
</template>

<script setup>
import { h, ref, reactive } from 'vue'
import { NInput, NInputNumber, NSelect, NButton, NSpace, useMessage } from 'naive-ui'

const message = useMessage()

// 表格数据
const data = ref([
  { id: 1, name: '张三', age: 28, gender: 'male', address: '北京市朝阳区' },
  { id: 2, name: '李四', age: 32, gender: 'male', address: '上海市浦东新区' },
  { id: 3, name: '王五', age: 24, gender: 'female', address: '广州市天河区' },
  { id: 4, name: '赵六', age: 35, gender: 'male', address: '深圳市南山区' },
  { id: 5, name: '钱七', age: 29, gender: 'female', address: '杭州市西湖区' }
])

// 编辑状态
const editingRow = reactive({
  id: null,
  field: null
})

// 创建可编辑单元格
const createEditableCell = (row, field, inputComponent) => {
  const isEditing = editingRow.id === row.id && editingRow.field === field
  
  if (isEditing) {
    // 编辑状态
    return h(
      inputComponent,
      {
        value: row[field],
        onUpdateValue: (value) => {
          row[field] = value
        },
        onBlur: () => {
          editingRow.id = null
          editingRow.field = null
          message.success('编辑成功')
        },
        style: { width: '100%' }
      }
    )
  } else {
    // 显示状态
    return h(
      'div',
      {
        style: {
          padding: '0 10px',
          cursor: 'pointer'
        },
        onClick: () => {
          editingRow.id = row.id
          editingRow.field = field
        }
      },
      { default: () => row[field] }
    )
  }
}

// 表格列定义
const columns = [
  { title: 'ID', key: 'id', width: 80 },
  {
    title: '姓名',
    key: 'name',
    width: 120,
    render: (row) => createEditableCell(row, 'name', NInput)
  },
  {
    title: '年龄',
    key: 'age',
    width: 100,
    render: (row) => createEditableCell(row, 'age', NInputNumber)
  },
  {
    title: '性别',
    key: 'gender',
    width: 100,
    render: (row) => {
      const isEditing = editingRow.id === row.id && editingRow.field === 'gender'
      
      if (isEditing) {
        return h(
          NSelect,
          {
            value: row.gender,
            options: [
              { label: '男', value: 'male' },
              { label: '女', value: 'female' }
            ],
            onUpdateValue: (value) => {
              row.gender = value
            },
            onBlur: () => {
              editingRow.id = null
              editingRow.field = null
              message.success('编辑成功')
            },
            style: { width: '100%' }
          }
        )
      } else {
        return h(
          'div',
          {
            style: {
              padding: '0 10px',
              cursor: 'pointer'
            },
            onClick: () => {
              editingRow.id = row.id
              editingRow.field = 'gender'
            }
          },
          { default: () => row.gender === 'male' ? '男' : '女' }
        )
      }
    }
  },
  {
    title: '地址',
    key: 'address',
    width: 200,
    render: (row) => createEditableCell(row, 'address', NInput)
  },
  {
    title: '操作',
    key: 'actions',
    width: 150,
    render: (row) => {
      return h(
        NSpace,
        { justify: 'center' },
        {
          default: () => [
            h(
              NButton,
              {
                size: 'small',
                type: 'primary',
                onClick: () => {
                  message.info(`保存行: ${row.id}`)
                }
              },
              { default: () => '保存' }
            ),
            h(
              NButton,
              {
                size: 'small',
                type: 'error',
                onClick: () => {
                  const index = data.value.findIndex(item => item.id === row.id)
                  if (index !== -1) {
                    data.value.splice(index, 1)
                    message.success('删除成功')
                  }
                }
              },
              { default: () => '删除' }
            )
          ]
        }
      )
    }
  }
]

// 分页配置
const pagination = ref({
  pageSize: 10
})
</script>
```

#### 4. 自定义过滤和排序

实现复杂的表格过滤和排序功能：

```vue
<template>
  <n-card title="自定义过滤和排序">
    <n-data-table
      :columns="columns"
      :data="filteredData"
      :pagination="pagination"
      :row-key="row => row.id"
      @update:sorter="handleSorterChange"
      @update:filters="handleFiltersChange"
    />
  </n-card>
</template>

<script setup>
import { h, ref, computed } from 'vue'
import { NTag, NButton, NSpace, NInput, NDatePicker } from 'naive-ui'

// 原始数据
const originalData = ref([
  { id: 1, name: '张三', age: 28, status: 'active', department: '技术部', joinDate: '2020-01-15' },
  { id: 2, name: '李四', age: 32, status: 'inactive', department: '产品部', joinDate: '2019-05-20' },
  { id: 3, name: '王五', age: 24, status: 'active', department: '设计部', joinDate: '2021-03-10' },
  { id: 4, name: '赵六', age: 35, status: 'active', department: '技术部', joinDate: '2018-11-05' },
  { id: 5, name: '钱七', age: 29, status: 'inactive', department: '市场部', joinDate: '2020-07-22' },
  { id: 6, name: '孙八', age: 31, status: 'active', department: '销售部', joinDate: '2019-09-18' },
  { id: 7, name: '周九', age: 27, status: 'active', department: '技术部', joinDate: '2021-01-08' },
  { id: 8, name: '吴十', age: 33, status: 'inactive', department: '财务部', joinDate: '2018-06-30' }
])

// 排序和过滤状态
const sortState = ref({
  columnKey: null,
  order: null
})

const filterState = ref({
  name: '',
  status: [],
  department: [],
  joinDateRange: null
})

// 过滤后的数据
const filteredData = computed(() => {
  let result = [...originalData.value]
  
  // 应用名称过滤
  if (filterState.value.name) {
    result = result.filter(row => 
      row.name.toLowerCase().includes(filterState.value.name.toLowerCase())
    )
  }
  
  // 应用状态过滤
  if (filterState.value.status && filterState.value.status.length > 0) {
    result = result.filter(row => 
      filterState.value.status.includes(row.status)
    )
  }
  
  // 应用部门过滤
  if (filterState.value.department && filterState.value.department.length > 0) {
    result = result.filter(row => 
      filterState.value.department.includes(row.department)
    )
  }
  
  // 应用日期范围过滤
  if (filterState.value.joinDateRange && filterState.value.joinDateRange.length === 2) {
    const [startDate, endDate] = filterState.value.joinDateRange
    result = result.filter(row => {
      const rowDate = new Date(row.joinDate)
      return rowDate >= startDate && rowDate <= endDate
    })
  }
  
  // 应用排序
  if (sortState.value.columnKey && sortState.value.order) {
    result.sort((a, b) => {
      const key = sortState.value.columnKey
      const order = sortState.value.order === 'ascend' ? 1 : -1
      
      if (key === 'age') {
        return (a[key] - b[key]) * order
      } else if (key === 'joinDate') {
        return (new Date(a[key]) - new Date(b[key])) * order
      } else {
        return a[key].localeCompare(b[key]) * order
      }
    })
  }
  
  return result
})

// 表格列定义
const columns = [
  { title: 'ID', key: 'id', width: 80 },
  {
    title: '姓名',
    key: 'name',
    width: 120,
    // 自定义过滤菜单
    filterOptions: [
      {
        label: '姓名搜索',
        value: 'custom'
      }
    ],
    renderFilterMenu: () => {
      return h(
        NInput,
        {
          value: filterState.value.name,
          placeholder: '输入姓名搜索',
          onUpdateValue: (value) => {
            filterState.value.name = value
          }
        }
      )
    }
  },
  {
    title: '年龄',
    key: 'age',
    width: 100,
    sorter: true
  },
  {
    title: '状态',
    key: 'status',
    width: 120,
    // 状态过滤选项
    filterOptions: [
      {
        label: '活跃',
        value: 'active'
      },
      {
        label: '非活跃',
        value: 'inactive'
      }
    ],
    filter: true,
    render: (row) => {
      return h(
        NTag,
        {
          type: row.status === 'active' ? 'success' : 'warning',
          round: true
        },
        { default: () => row.status === 'active' ? '活跃' : '非活跃' }
      )
    }
  },
  {
    title: '部门',
    key: 'department',
    width: 120,
    // 部门过滤选项
    filterOptions: [
      { label: '技术部', value: '技术部' },
      { label: '产品部', value: '产品部' },
      { label: '设计部', value: '设计部' },
      { label: '市场部', value: '市场部' },
      { label: '销售部', value: '销售部' },
      { label: '财务部', value: '财务部' }
    ],
    filter: true
  },
  {
    title: '入职日期',
    key: 'joinDate',
    width: 150,
    sorter: true,
    // 自定义过滤菜单
    filterOptions: [
      {
        label: '日期范围',
        value: 'custom'
      }
    ],
    renderFilterMenu: () => {
      return h(
        NDatePicker,
        {
          value: filterState.value.joinDateRange,
          type: 'daterange',
          onUpdateValue: (value) => {
            filterState.value.joinDateRange = value
          }
        }
      )
    }
  },
  {
    title: '操作',
    key: 'actions',
    width: 120,
    render: (row) => {
      return h(
        NButton,
        {
          size: 'small',
          type: 'primary',
          onClick: () => {
            console.log('查看详情:', row)
          }
        },
        { default: () => '详情' }
      )
    }
  }
]

// 分页配置
const pagination = ref({
  pageSize: 10
})

// 排序变化处理
const handleSorterChange = (sorter) => {
  if (sorter) {
    sortState.value.columnKey = sorter.columnKey
    sortState.value.order = sorter.order
  } else {
    sortState.value.columnKey = null
    sortState.value.order = null
  }
}

// 过滤变化处理
const handleFiltersChange = (filters) => {
  if (filters.status) {
    filterState.value.status = filters.status
  }
  
  if (filters.department) {
    filterState.value.department = filters.department
  }
}
</script>
```

### 丰富的交互组件

Naive UI 提供了许多丰富的交互组件，可以提升用户体验：

#### 1. 抽屉（Drawer）

抽屉组件可以从屏幕边缘滑出，展示更多内容：

```vue
<template>
  <n-space>
    <n-button @click="showDrawer('right')">右侧抽屉</n-button>
    <n-button @click="showDrawer('left')">左侧抽屉</n-button>
    <n-button @click="showDrawer('top')">顶部抽屉</n-button>
    <n-button @click="showDrawer('bottom')">底部抽屉</n-button>
  </n-space>
  
  <n-drawer
    v-model:show="drawerVisible"
    :width="width"
    :height="height"
    :placement="placement"
    :resizable="resizable"
    :title="drawerTitle"
    @after-leave="handleAfterLeave"
  >
    <n-drawer-content>
      <n-space vertical>
        <n-checkbox v-model:checked="resizable">可调整大小</n-checkbox>
        
        <n-divider />
        
        <n-form :model="formValue" label-placement="left" label-width="auto">
          <n-form-item label="用户名" path="username">
            <n-input v-model:value="formValue.username" placeholder="请输入用户名" />
          </n-form-item>
          <n-form-item label="邮箱" path="email">
            <n-input v-model:value="formValue.email" placeholder="请输入邮箱" />
          </n-form-item>
          <n-form-item label="备注" path="remark">
            <n-input
              v-model:value="formValue.remark"
              type="textarea"
              placeholder="请输入备注"
              :rows="3"
            />
          </n-form-item>
        </n-form>
        
        <n-space justify="end">
          <n-button @click="drawerVisible = false">取消</n-button>
          <n-button type="primary" @click="handleSubmit">提交</n-button>
        </n-space>
      </n-space>
    </n-drawer-content>
  </n-drawer>
</template>

<script setup>
import { ref, computed } from 'vue'
import { useMessage } from 'naive-ui'
让我继续完成 Naive UI 的丰富交互组件部分：

```vue
const message = useMessage()

// 抽屉状态
const drawerVisible = ref(false)
const placement = ref('right')
const resizable = ref(true)

// 抽屉尺寸
const width = ref(502)
const height = ref(502)

// 抽屉标题
const drawerTitle = computed(() => {
  const placementText = {
    right: '右侧',
    left: '左侧',
    top: '顶部',
    bottom: '底部'
  }
  return `${placementText[placement.value]}抽屉`
})

// 表单数据
const formValue = ref({
  username: '',
  email: '',
  remark: ''
})

// 显示抽屉
const showDrawer = (pos) => {
  placement.value = pos
  drawerVisible.value = true
}

// 抽屉关闭后处理
const handleAfterLeave = () => {
  formValue.value = {
    username: '',
    email: '',
    remark: ''
  }
}

// 提交表单
const handleSubmit = () => {
  message.success('提交成功')
  drawerVisible.value = false
}
</script>
```

#### 2. 日期选择器（DatePicker）

Naive UI 提供了功能丰富的日期选择器：

```vue
<template>
  <n-space vertical>
    <n-space>
      <n-radio-group v-model:value="type">
        <n-radio-button value="date">日期</n-radio-button>
        <n-radio-button value="datetime">日期时间</n-radio-button>
        <n-radio-button value="daterange">日期范围</n-radio-button>
        <n-radio-button value="datetimerange">日期时间范围</n-radio-button>
        <n-radio-button value="month">月份</n-radio-button>
        <n-radio-button value="year">年份</n-radio-button>
        <n-radio-button value="quarter">季度</n-radio-button>
      </n-radio-group>
    </n-space>
    
    <n-space>
      <n-checkbox v-model:checked="disabled">禁用</n-checkbox>
      <n-checkbox v-model:checked="clearable">可清除</n-checkbox>
      <n-checkbox v-model:checked="showFooter">显示页脚</n-checkbox>
      <n-checkbox v-model:checked="actions">显示操作按钮</n-checkbox>
    </n-space>
    
    <n-date-picker
      v-model:value="dateValue"
      :type="type"
      :disabled="disabled"
      :clearable="clearable"
      :show-footer="showFooter"
      :actions="actions ? ['clear', 'confirm', 'now'] : undefined"
      @update:value="handleUpdateValue"
    />
    
    <n-divider />
    
    <n-text>当前值: {{ dateValue }}</n-text>
    <n-text v-if="formattedValue">格式化值: {{ formattedValue }}</n-text>
  </n-space>
</template>

<script setup>
import { ref, computed } from 'vue'
import { formatDate } from 'date-fns'

// 日期选择器类型
const type = ref('date')

// 选项
const disabled = ref(false)
const clearable = ref(true)
const showFooter = ref(true)
const actions = ref(true)

// 日期值
const dateValue = ref(null)

// 格式化日期值
const formattedValue = computed(() => {
  if (!dateValue.value) return null
  
  try {
    if (type.value === 'date') {
      return formatDate(dateValue.value, 'yyyy-MM-dd')
    } else if (type.value === 'datetime') {
      return formatDate(dateValue.value, 'yyyy-MM-dd HH:mm:ss')
    } else if (type.value === 'month') {
      return formatDate(dateValue.value, 'yyyy-MM')
    } else if (type.value === 'year') {
      return formatDate(dateValue.value, 'yyyy')
    } else if (type.value === 'quarter') {
      const quarter = Math.floor(dateValue.value.getMonth() / 3) + 1
      return `${dateValue.value.getFullYear()}-Q${quarter}`
    } else if (type.value === 'daterange' || type.value === 'datetimerange') {
      if (Array.isArray(dateValue.value) && dateValue.value.length === 2) {
        const format = type.value === 'daterange' ? 'yyyy-MM-dd' : 'yyyy-MM-dd HH:mm:ss'
        return [
          formatDate(dateValue.value[0], format),
          formatDate(dateValue.value[1], format)
        ].join(' 至 ')
      }
    }
  } catch (e) {
    console.error('日期格式化错误:', e)
  }
  
  return String(dateValue.value)
})

// 值变化处理
const handleUpdateValue = (value) => {
  console.log('日期变化:', value)
}
</script>
```

#### 3. 上传组件（Upload）

Naive UI 提供了功能强大的文件上传组件：

```vue
<template>
  <n-space vertical>
    <n-tabs v-model:value="activeTab">
      <n-tab-pane name="basic" tab="基础上传">
        <n-upload
          action="https://api.example.com/upload"
          :headers="headers"
          :data="data"
          :max="5"
          :default-upload="false"
          :multiple="true"
          :default-file-list="defaultFileList"
          @change="handleChange"
          @update:file-list="handleUpdateFileList"
        >
          <n-button>选择文件</n-button>
          <n-text style="margin-left: 8px">
            支持多选，最多上传5个文件
          </n-text>
        </n-upload>
      </n-tab-pane>
      
      <n-tab-pane name="drag" tab="拖拽上传">
        <n-upload
          action="https://api.example.com/upload"
          :headers="headers"
          :data="data"
          :max="5"
          :multiple="true"
          :default-upload="false"
          :default-file-list="defaultFileList"
          @change="handleChange"
          @update:file-list="handleUpdateFileList"
        >
          <n-upload-dragger>
            <div style="padding: 20px 0">
              <n-icon size="48" :depth="3">
                <cloud-upload-outline />
              </n-icon>
              <n-p style="margin: 8px 0 0 0">
                点击或者拖动文件到该区域来上传
              </n-p>
              <n-p depth="3" style="margin: 8px 0 0 0">
                支持单个或批量上传
              </n-p>
            </div>
          </n-upload-dragger>
        </n-upload>
      </n-tab-pane>
      
      <n-tab-pane name="image" tab="图片上传">
        <n-upload
          list-type="image-card"
          action="https://api.example.com/upload"
          :headers="headers"
          :data="data"
          :max="8"
          :multiple="true"
          :default-file-list="imageFileList"
          @preview="handlePreview"
          @change="handleChange"
          @update:file-list="handleUpdateImageFileList"
        >
          <n-upload-trigger />
        </n-upload>
        
        <n-modal
          v-model:show="previewVisible"
          preset="card"
          style="width: 600px"
          title="图片预览"
          :bordered="false"
          :segmented="false"
        >
          <img
            v-if="previewImage"
            :src="previewImage"
            style="width: 100%"
            alt="预览图片"
          />
        </n-modal>
      </n-tab-pane>
      
      <n-tab-pane name="custom" tab="自定义上传">
        <n-upload
          :custom-request="customRequest"
          :default-file-list="defaultFileList"
          @change="handleChange"
          @update:file-list="handleUpdateFileList"
        >
          <n-button>自定义上传</n-button>
        </n-upload>
      </n-tab-pane>
    </n-tabs>
    
    <n-divider />
    
    <n-space>
      <n-button type="primary" @click="submitUpload">开始上传</n-button>
      <n-button @click="clearFiles">清空文件</n-button>
    </n-space>
  </n-space>
</template>

<script setup>
import { ref } from 'vue'
import { CloudUploadOutline } from '@vicons/ionicons5'
import { useMessage } from 'naive-ui'

const message = useMessage()

// 当前标签页
const activeTab = ref('basic')

// 上传配置
const headers = {
  'Authorization': 'Bearer token123'
}

const data = {
  userId: '123',
  source: 'naive-ui-demo'
}

// 文件列表
const fileList = ref([])
const imageFileList = ref([])

// 默认文件列表
const defaultFileList = ref([
  {
    id: 'doc-1',
    name: '文档1.docx',
    status: 'finished',
    url: 'https://example.com/files/doc1.docx'
  }
])

// 默认图片列表
const imageFileList = ref([
  {
    id: 'img-1',
    name: '图片1.jpg',
    status: 'finished',
    url: 'https://naive-ui.oss-cn-beijing.aliyuncs.com/carousel-img/carousel1.jpeg',
    thumbnailUrl: 'https://naive-ui.oss-cn-beijing.aliyuncs.com/carousel-img/carousel1.jpeg'
  },
  {
    id: 'img-2',
    name: '图片2.jpg',
    status: 'finished',
    url: 'https://naive-ui.oss-cn-beijing.aliyuncs.com/carousel-img/carousel2.jpeg',
    thumbnailUrl: 'https://naive-ui.oss-cn-beijing.aliyuncs.com/carousel-img/carousel2.jpeg'
  }
])

// 图片预览
const previewVisible = ref(false)
const previewImage = ref('')

// 文件变化处理
const handleChange = ({ file, fileList }) => {
  console.log('文件变化:', file, fileList)
}

// 更新文件列表
const handleUpdateFileList = (files) => {
  fileList.value = files
}

// 更新图片文件列表
const handleUpdateImageFileList = (files) => {
  imageFileList.value = files
}

// 图片预览
const handlePreview = (file) => {
  previewImage.value = file.url || file.thumbnailUrl
  previewVisible.value = true
}

// 自定义上传请求
const customRequest = ({ file, data, headers, withCredentials, action, onFinish, onError, onProgress }) => {
  // 模拟上传进度
  const timer = setInterval(() => {
    const percent = Math.floor(Math.random() * 10) + 1
    const currentPercent = Math.min((file.percentage || 0) + percent, 100)
    
    onProgress({ percent: currentPercent })
    
    if (currentPercent === 100) {
      clearInterval(timer)
      
      // 模拟上传完成
      setTimeout(() => {
        onFinish()
        message.success(`文件 ${file.name} 上传成功`)
      }, 500)
    }
  }, 300)
  
  // 返回取消上传的函数
  return () => {
    clearInterval(timer)
    message.warning(`文件 ${file.name} 上传已取消`)
  }
}

// 开始上传
const submitUpload = () => {
  const uploadInstances = document.querySelectorAll('.n-upload')
  
  if (uploadInstances.length > 0) {
    const currentUpload = uploadInstances[activeTab.value === 'image' ? 2 : activeTab.value === 'drag' ? 1 : 0]
    
    if (currentUpload && currentUpload.__vueParentComponent && currentUpload.__vueParentComponent.ctx) {
      currentUpload.__vueParentComponent.ctx.submit()
      message.info('开始上传文件')
    } else {
      message.error('无法获取上传组件实例')
    }
  }
}

// 清空文件
const clearFiles = () => {
  if (activeTab.value === 'image') {
    imageFileList.value = []
  } else {
    fileList.value = []
  }
  message.info('已清空文件列表')
}
</script>
```

#### 4. 树形选择器（TreeSelect）

Naive UI 提供了功能强大的树形选择器：

```vue
<template>
  <n-space vertical>
    <n-space>
      <n-radio-group v-model:value="multiple">
        <n-radio :value="false">单选</n-radio>
        <n-radio :value="true">多选</n-radio>
      </n-radio-group>
    </n-space>
    
    <n-space>
      <n-checkbox v-model:checked="cascade">级联选择</n-checkbox>
      <n-checkbox v-model:checked="checkStrategy" :disabled="!multiple">
        仅选中叶子节点
      </n-checkbox>
      <n-checkbox v-model:checked="filterable">可搜索</n-checkbox>
    </n-space>
    
    <n-tree-select
      v-model:value="value"
      :options="treeOptions"
      :multiple="multiple"
      :cascade="cascade"
      :check-strategy="checkStrategy ? 'child' : 'all'"
      :filterable="filterable"
      :default-expand-all="true"
      placeholder="请选择节点"
      @update:value="handleUpdateValue"
    />
    
    <n-divider />
    
    <n-text>当前选择值: {{ value }}</n-text>
  </n-space>
</template>

<script setup>
import { ref, computed } from 'vue'

// 选择模式
const multiple = ref(false)
const cascade = ref(true)
const checkStrategy = ref(false)
const filterable = ref(true)

// 选中值
const value = ref(null)

// 树形数据
const treeOptions = [
  {
    label: '亚洲',
    key: 'asia',
    children: [
      {
        label: '中国',
        key: 'china',
        children: [
          {
            label: '北京',
            key: 'beijing'
          },
          {
            label: '上海',
            key: 'shanghai'
          },
          {
            label: '广州',
            key: 'guangzhou'
          }
        ]
      },
      {
        label: '日本',
        key: 'japan',
        children: [
          {
            label: '东京',
            key: 'tokyo'
          },
          {
            label: '大阪',
            key: 'osaka'
          }
        ]
      },
      {
        label: '韩国',
        key: 'korea',
        children: [
          {
            label: '首尔',
            key: 'seoul'
          }
        ]
      }
    ]
  },
  {
    label: '欧洲',
    key: 'europe',
    children: [
      {
        label: '英国',
        key: 'uk',
        children: [
          {
            label: '伦敦',
            key: 'london'
          }
        ]
      },
      {
        label: '法国',
        key: 'france',
        children: [
          {
            label: '巴黎',
            key: 'paris'
          }
        ]
      },
      {
        label: '德国',
        key: 'germany',
        children: [
          {
            label: '柏林',
            key: 'berlin'
          }
        ]
      }
    ]
  },
  {
    label: '北美洲',
    key: 'north-america',
    children: [
      {
        label: '美国',
        key: 'usa',
        children: [
          {
            label: '纽约',
            key: 'new-york'
          },
          {
            label: '洛杉矶',
            key: 'los-angeles'
          },
          {
            label: '旧金山',
            key: 'san-francisco'
          }
        ]
      },
      {
        label: '加拿大',
        key: 'canada',
        children: [
          {
            label: '多伦多',
            key: 'toronto'
          },
          {
            label: '温哥华',
            key: 'vancouver'
          }
        ]
      }
    ]
  }
]

// 值变化处理
const handleUpdateValue = (val) => {
  console.log('选择值变化:', val)
}
</script>
```

通过以上详细介绍，我们可以看到 Naive UI 是一个功能丰富、设计精良的 Vue 3 组件库，它提供了完善的 TypeScript 支持、灵活的主题系统和丰富的组件生态。无论是构建管理系统还是应用界面，Naive UI 都能提供出色的开发体验和用户体验。