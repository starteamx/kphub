---
title: Ant Design Vue
icon: ant-design
order: 2
---

# Ant Design Vue

Ant Design Vue是一套基于Vue实现的企业级UI组件库，它遵循Ant Design设计规范，提供了丰富的高质量组件，帮助开发者快速构建功能强大、美观易用的中后台产品。作为Vue生态系统中的重要UI框架，Ant Design Vue在保持原有设计理念的同时，充分利用了Vue的特性，为Vue开发者提供了一致且流畅的开发体验。

## 基本介绍

### Ant Design Vue的设计理念

Ant Design Vue继承了Ant Design的核心设计理念，这些理念共同构成了一套完整的设计体系：

1. **自然**：遵循自然规律，创造和谐的设计体验。界面设计应该符合用户的认知习惯，减少学习成本。

2. **确定性**：用户在操作时能够清晰地预期操作的结果，减少不确定性带来的困扰。

3. **意义感**：设计元素的摆放和使用都应该有其特定的意义，而不是为了装饰而存在。

4. **生长性**：设计系统应该能够适应产品的发展，具有可扩展性和灵活性。

5. **专业性**：针对企业级应用场景，提供专业、高效的解决方案。

这些设计理念体现在Ant Design Vue的各个方面：

- **组件设计**：每个组件都经过精心设计，既美观又实用，符合用户的使用习惯。

- **交互模式**：提供一致的交互模式，让用户能够轻松预测操作结果。

- **视觉风格**：采用简洁、专业的视觉风格，注重细节处理。

- **开发体验**：组件API设计合理，文档详尽，降低开发者的学习和使用成本。

```vue
<!-- Ant Design Vue组件示例 - 体现设计理念 -->
<template>
  <div>
    <!-- 清晰的层次结构 -->
    <a-card title="用户信息" style="width: 300px">
      <!-- 一致的表单布局 -->
      <a-form :model="form" layout="vertical">
        <a-form-item label="用户名">
          <a-input v-model:value="form.username" placeholder="请输入用户名" />
        </a-form-item>
        <a-form-item label="邮箱">
          <a-input v-model:value="form.email" placeholder="请输入邮箱" />
        </a-form-item>
        <!-- 明确的操作区域 -->
        <a-form-item>
          <a-button type="primary">提交</a-button>
          <a-button style="margin-left: 8px">取消</a-button>
        </a-form-item>
      </a-form>
    </a-card>
  </div>
</template>

<script>
import { defineComponent, reactive } from 'vue';

export default defineComponent({
  setup() {
    const form = reactive({
      username: '',
      email: ''
    });

    return {
      form
    };
  }
});
</script>
```

### 与React版Ant Design的关系

Ant Design Vue与React版Ant Design有着密切的关系，但也有其独特之处：

1. **设计规范一致**：两者遵循相同的Ant Design设计规范，视觉风格和交互模式保持一致。

2. **组件对应关系**：Ant Design Vue尽可能保持与React版本的组件名称、属性和API一致，方便开发者在不同框架间切换。

3. **实现差异**：
   - Ant Design Vue基于Vue.js实现，充分利用Vue的响应式系统和组件化特性
   - React版基于React实现，使用JSX语法和React的组件生命周期

4. **版本更新**：Ant Design Vue会跟随React版本的更新而更新，但由于实现差异，可能会有一定的滞后。

5. **社区生态**：React版本由蚂蚁金服官方团队维护，社区更大；Ant Design Vue由社区驱动，但也有活跃的维护和更新。

下面是React版Ant Design和Ant Design Vue的代码对比：

```jsx
// React版Ant Design
import React, { useState } from 'react';
import { Card, Form, Input, Button } from 'antd';

const App = () => {
  const [form] = Form.useForm();

  return (
    <Card title="用户信息" style={{ width: 300 }}>
      <Form form={form} layout="vertical">
        <Form.Item label="用户名" name="username">
          <Input placeholder="请输入用户名" />
        </Form.Item>
        <Form.Item label="邮箱" name="email">
          <Input placeholder="请输入邮箱" />
        </Form.Item>
        <Form.Item>
          <Button type="primary">提交</Button>
          <Button style={{ marginLeft: 8 }}>取消</Button>
        </Form.Item>
      </Form>
    </Card>
  );
};

export default App;
```

```vue
<!-- Ant Design Vue -->
<template>
  <a-card title="用户信息" :style="{ width: '300px' }">
    <a-form :model="formState" layout="vertical">
      <a-form-item label="用户名" name="username">
        <a-input v-model:value="formState.username" placeholder="请输入用户名" />
      </a-form-item>
      <a-form-item label="邮箱" name="email">
        <a-input v-model:value="formState.email" placeholder="请输入邮箱" />
      </a-form-item>
      <a-form-item>
        <a-button type="primary">提交</a-button>
        <a-button :style="{ marginLeft: '8px' }">取消</a-button>
      </a-form-item>
    </a-form>
  </a-card>
</template>

<script>
import { defineComponent, reactive } from 'vue';

export default defineComponent({
  setup() {
    const formState = reactive({
      username: '',
      email: ''
    });

    return {
      formState
    };
  }
});
</script>
```

### 企业级应用UI解决方案

Ant Design Vue作为企业级应用UI解决方案，具有以下特点和优势：

1. **全面的组件体系**：提供了70+高质量组件，覆盖了企业级应用的各种场景需求：
   - 基础组件：按钮、图标、排版等
   - 布局组件：栅格、布局、空间等
   - 导航组件：菜单、面包屑、步骤条等
   - 数据录入组件：表单、输入框、选择器等
   - 数据展示组件：表格、列表、描述列表等
   - 反馈组件：对话框、通知、进度条等

2. **企业级特性**：
   - **权限管理**：支持细粒度的权限控制
   - **国际化**：内置多语言支持
   - **可访问性**：符合WAI-ARIA标准
   - **主题定制**：支持企业品牌定制

3. **解决方案**：
   - **Pro Components**：提供更高级别的抽象组件，如ProTable、ProForm等
   - **布局模板**：提供常见的管理系统布局方案
   - **最佳实践**：提供大量实用案例和最佳实践指南

4. **生态系统**：
   - **Ant Design Charts**：数据可视化解决方案
   - **Ant Design Pro**：开箱即用的中后台前端/设计解决方案
   - **Ant Design Mobile**：移动端组件库

下面是一个企业级应用的基础布局示例：

```vue
<template>
  <a-layout style="min-height: 100vh">
    <!-- 侧边栏 -->
    <a-layout-sider v-model:collapsed="collapsed" collapsible>
      <div class="logo" />
      <a-menu
        v-model:selectedKeys="selectedKeys"
        theme="dark"
        mode="inline"
      >
        <a-menu-item key="1">
          <user-outlined />
          <span>用户管理</span>
        </a-menu-item>
        <a-menu-item key="2">
          <video-camera-outlined />
          <span>内容管理</span>
        </a-menu-item>
        <a-sub-menu key="sub1">
          <template #title>
            <span>
              <team-outlined />
              <span>系统设置</span>
            </span>
          </template>
          <a-menu-item key="3">角色管理</a-menu-item>
          <a-menu-item key="4">权限配置</a-menu-item>
        </a-sub-menu>
      </a-menu>
    </a-layout-sider>
    
    <a-layout>
      <!-- 头部 -->
      <a-layout-header style="background: #fff; padding: 0">
        <a-row type="flex" justify="end" align="middle" style="height: 100%">
          <a-col :span="4">
            <a-dropdown>
              <a class="ant-dropdown-link" @click.prevent>
                管理员 <down-outlined />
              </a>
              <template #overlay>
                <a-menu>
                  <a-menu-item>
                    <a href="javascript:;">个人中心</a>
                  </a-menu-item>
                  <a-menu-item>
                    <a href="javascript:;">退出登录</a>
                  </a-menu-item>
                </a-menu>
              </template>
            </a-dropdown>
          </a-col>
        </a-row>
      </a-layout-header>
      
      <!-- 内容区 -->
      <a-layout-content style="margin: 16px">
        <a-breadcrumb style="margin: 16px 0">
          <a-breadcrumb-item>首页</a-breadcrumb-item>
          <a-breadcrumb-item>用户管理</a-breadcrumb-item>
        </a-breadcrumb>
        <div style="padding: 24px; background: #fff; min-height: 360px">
          <!-- 页面内容 -->
          <a-table :columns="columns" :data-source="data">
            <template #action="{ record }">
              <a-space>
                <a>编辑</a>
                <a-divider type="vertical" />
                <a-popconfirm
                  title="确定删除此用户吗?"
                  ok-text="确定"
                  cancel-text="取消"
                >
                  <a>删除</a>
                </a-popconfirm>
              </a-space>
            </template>
          </a-table>
        </div>
      </a-layout-content>
      
      <!-- 底部 -->
      <a-layout-footer style="text-align: center">
        Ant Design Vue ©2023 Created by Ant UED
      </a-layout-footer>
    </a-layout>
  </a-layout>
</template>

<script>
import { defineComponent, ref } from 'vue';
import {
  UserOutlined,
  VideoCameraOutlined,
  TeamOutlined,
  DownOutlined
} from '@ant-design/icons-vue';

export default defineComponent({
  components: {
    UserOutlined,
    VideoCameraOutlined,
    TeamOutlined,
    DownOutlined
  },
  setup() {
    const collapsed = ref(false);
    const selectedKeys = ref(['1']);
    
    const columns = [
      {
        title: '用户名',
        dataIndex: 'name',
        key: 'name',
      },
      {
        title: '年龄',
        dataIndex: 'age',
        key: 'age',
      },
      {
        title: '地址',
        dataIndex: 'address',
        key: 'address',
      },
      {
        title: '操作',
        key: 'action',
        slots: { customRender: 'action' },
      },
    ];
    
    const data = [
      {
        key: '1',
        name: '张三',
        age: 32,
        address: '北京市朝阳区',
      },
      {
        key: '2',
        name: '李四',
        age: 42,
        address: '上海市浦东新区',
      },
    ];
    
    return {
      collapsed,
      selectedKeys,
      columns,
      data
    };
  }
});
</script>

<style>
.logo {
  height: 32px;
  margin: 16px;
  background: rgba(255, 255, 255, 0.3);
}
</style>
```

## 使用指南

### 安装与配置方法

Ant Design Vue的安装和配置过程相对简单，可以通过多种方式集成到Vue项目中。

#### 基本安装

使用npm、yarn或pnpm安装Ant Design Vue：

```bash
# 使用npm
npm install ant-design-vue@next --save

# 使用yarn
yarn add ant-design-vue@next

# 使用pnpm
pnpm add ant-design-vue@next
```

> 注意：上面的命令安装的是适用于Vue 3的Ant Design Vue 2.x版本。如果你的项目使用Vue 2，需要安装1.x版本：`npm install ant-design-vue --save`

#### 兼容性

Ant Design Vue 2.x版本要求：
- Vue 3.0+
- Node.js 12+

Ant Design Vue 1.x版本要求：
- Vue 2.6+
- Node.js 8+

#### 基本使用方式

有两种主要的使用方式：全局引入和按需加载。

**1. 全局引入（适用于原型开发或小型项目）**

在main.js中完整引入Ant Design Vue：

```javascript
import { createApp } from 'vue';
import Antd from 'ant-design-vue';
import App from './App.vue';
import 'ant-design-vue/dist/antd.css';

const app = createApp(App);

app.use(Antd);
app.mount('#app');
```

**2. 手动按需引入（适用于对打包体积有严格要求的项目）**

```vue
<template>
  <a-button type="primary">按钮</a-button>
</template>

<script>
import { Button } from 'ant-design-vue';
import 'ant-design-vue/lib/button/style/css'; // 或者 'ant-design-vue/lib/button/style' 加载less文件

export default {
  components: {
    AButton: Button
  }
};
</script>
```

**3. 使用Vite或Vue CLI配置**

对于使用Vite的项目，可以在vite.config.js中配置：

```javascript
// vite.config.js
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';
import Components from 'unplugin-vue-components/vite';
import { AntDesignVueResolver } from 'unplugin-vue-components/resolvers';

export default defineConfig({
  plugins: [
    vue(),
    Components({
      resolvers: [
        AntDesignVueResolver({
          importStyle: false, // css in js
        }),
      ],
    }),
  ],
});
```

对于使用Vue CLI的项目，可以在vue.config.js中配置：

```javascript
// vue.config.js
const { defineConfig } = require('@vue/cli-service');

module.exports = defineConfig({
  transpileDependencies: true,
  css: {
    loaderOptions: {
      less: {
        lessOptions: {
          javascriptEnabled: true,
        },
      },
    },
  },
});
```

### 按需加载与全局引入

#### 按需加载的方式

Ant Design Vue提供了多种按需加载的方式，可以根据项目需求选择合适的方式。

**1. 使用unplugin-vue-components（推荐）**

这是一种自动导入组件的方式，不需要手动导入组件和样式：

```javascript
// vite.config.js
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';
import Components from 'unplugin-vue-components/vite';
import { AntDesignVueResolver } from 'unplugin-vue-components/resolvers';

export default defineConfig({
  plugins: [
    vue(),
    Components({
      resolvers: [
        AntDesignVueResolver({
          importStyle: true, // 导入样式
        }),
      ],
    }),
  ],
});
```

使用这种方式后，可以直接在模板中使用组件，无需导入：

```vue
<template>
  <a-button type="primary">按钮</a-button>
  <a-table :columns="columns" :data-source="data" />
</template>

<script>
import { defineComponent, reactive } from 'vue';

export default defineComponent({
  setup() {
    // 组件逻辑
  }
});
</script>
```

**2. 使用babel-plugin-import（适用于使用Babel的项目）**

首先安装babel-plugin-import：

```bash
npm install babel-plugin-import --save-dev
```

然后在babel.config.js中配置：

```javascript
module.exports = {
  plugins: [
    [
      'import',
      {
        libraryName: 'ant-design-vue',
        libraryDirectory: 'es',
        style: 'css', // 或者 true，加载less文件
      },
    ],
  ],
};
```

这样就可以简化导入方式：

```javascript
// 转换前
import { Button } from 'ant-design-vue';

// 转换后
import Button from 'ant-design-vue/es/button';
import 'ant-design-vue/es/button/style/css';
```

#### 全局引入与按需加载的对比

| 方式 | 优点 | 缺点 | 适用场景 |
|-----|-----|-----|---------|
| 全局引入 | 使用简单，无需配置 | 打包体积大，包含未使用的组件 | 原型开发，小型项目 |
| 手动按需加载 | 完全控制导入的组件 | 使用繁琐，需要手动导入每个组件和样式 | 对打包体积有严格要求的项目 |
| babel-plugin-import | 简化导入语法，自动加载样式 | 需要配置Babel | 使用Babel的中大型项目 |
| unplugin-vue-components | 自动导入，使用最简单 | 依赖构建工具插件 | 现代Vue项目（推荐） |

#### 打包体积对比

以一个使用10个常用组件的应用为例，不同加载方式的打包体积对比：

| 加载方式 | JS体积 | CSS体积 | 总体积 |
|---------|-------|--------|-------|
| 全局引入 | ~800KB | ~500KB | ~1300KB |
| 按需加载 | ~300KB | ~200KB | ~500KB |

可以看到，按需加载可以减少约60%的打包体积，显著提升应用的加载性能。

### 主题定制与国际化

#### 主题定制

Ant Design Vue提供了灵活的主题定制能力，可以通过多种方式自定义主题。

**1. 使用ConfigProvider进行局部定制**

ConfigProvider组件提供了一种在运行时修改主题的方法：

```vue
<template>
  <a-config-provider :theme="theme">
    <app />
  </a-config-provider>
</template>

<script>
import { defineComponent, reactive } from 'vue';

export default defineComponent({
  setup() {
    const theme = reactive({
      token: {
        colorPrimary: '#00b96b',
        borderRadius: 6,
      },
    });

    return {
      theme
    };
  }
});
</script>
```

**2. 使用Less变量覆盖**

如果项目使用Less，可以通过修改Less变量来自定义主题：

```less
// 在一个Less文件中，如theme.less
@import 'ant-design-vue/dist/antd.less';

// 修改主题变量
@primary-color: #1890ff; // 主色
@link-color: #1890ff; // 链接色
@success-color: #52c41a; // 成功色
@warning-color: #faad14; // 警告色
@error-color: #f5222d; // 错误色
@font-size-base: 14px; // 主字号
@heading-color: rgba(0, 0, 0, 0.85); // 标题色
@text-color: rgba(0, 0, 0, 0.65); // 主文本色
@text-color-secondary: rgba(0, 0, 0, 0.45); // 次文本色
@disabled-color: rgba(0, 0, 0, 0.25); // 失效色
@border-radius-base: 4px; // 组件/浮层圆角
@border-color-base: #d9d9d9; // 边框色
@box-shadow-base: 0 2px 8px rgba(0, 0, 0, 0.15); // 浮层阴影
```

然后在Webpack或Vite配置中引入这个文件：

```javascript
// vue.config.js (Vue CLI)
module.exports = {
  css: {
    loaderOptions: {
      less: {
        lessOptions: {
          modifyVars: {
            'primary-color': '#1DA57A',
            'link-color': '#1DA57A',
            'border-radius-base': '2px',
          },
          javascriptEnabled: true,
        },
      },
    },
  },
};
```

```javascript
// vite.config.js (Vite)
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';

export default defineConfig({
  css: {
    preprocessorOptions: {
      less: {
        modifyVars: {
          'primary-color': '#1DA57A',
          'link-color': '#1DA57A',
          'border-radius-base': '2px',
        },
        javascriptEnabled: true,
      },
    },
  },
  plugins: [vue()],
});
```

**3. 动态切换主题**

可以实现在运行时动态切换主题：

```vue
<template>
  <div>
    <a-switch
      checked="darkTheme"
      @change="changeTheme"
      checked-children="暗黑"
      un-checked-children="明亮"
    />
    <a-config-provider :theme="theme">
      <!-- 应用内容 -->
    </a-config-provider>
  </div>
</template>

<script>
import { defineComponent, ref, reactive } from 'vue';

export default defineComponent({
  setup() {
    const darkTheme = ref(false);
    const theme = reactive({
      token: {
        colorPrimary: '#1890ff',
      },
    });

    const changeTheme = (checked) => {
      darkTheme.value = checked;
      if (checked) {
        // 切换到暗黑主题
        theme.token = {
          colorPrimary: '#1890ff',
          colorBgBase: '#000',
          colorTextBase: '#fff',
        };
      } else {
        // 切换到亮色主题
        theme.token = {
          colorPrimary: '#1890ff',
          colorBgBase: '#fff',
          colorTextBase: '#000',
        };
      }
    };

    return {
      darkTheme,
      theme,
      changeTheme
    };
  }
});
</script>
```

#### 国际化

Ant Design Vue内置了国际化支持，默认使用中文，可以通过ConfigProvider组件切换语言：

```vue
<template>
  <a-config-provider :locale="locale">
    <app />
  </a-config-provider>
</template>

<script>
import { defineComponent, ref } from 'vue';
import zhCN from 'ant-design-vue/es/locale/zh_CN';
import enUS from 'ant-design-vue/es/locale/en_US';

export default defineComponent({
  setup() {
    const locale = ref(zhCN);

    const changeLocale = (language) => {
      locale.value = language === 'en' ? enUS : zhCN;
    };

    return {
      locale,
      changeLocale
    };
  }
});
</script>
```

结合Vue I18n使用：

```vue
<template>
  <a-config-provider :locale="antLocale">
    <div>
      <p>{{ $t('message.hello') }}</p>
      <a-pagination :total="50" show-size-changer />
      <a-select style="width: 120px">
        <a-select-option value="zh">中文</a-select-option>
        <a-select-option value="en">English</a-select-option>
      </a-select>
    </div>
  </a-config-provider>
</template>

<script>
import { defineComponent, ref, watch } from 'vue';
import { useI18n } from 'vue-i18n';
import zhCN from 'ant-design-vue/es/locale/zh_CN';
import enUS from 'ant-design-vue/es/locale/en_US';

export default defineComponent({
  setup() {
    const { locale } = useI18n();
    const antLocale = ref(locale.value === 'zh' ? zhCN : enUS);

    watch(locale, (val) => {
      antLocale.value = val === 'zh' ? zhCN : enUS;
    });

    return {
      antLocale
    };
  }
});
</script>
```

## 最佳实践

### 表单处理技巧

Ant Design Vue提供了强大的表单组件，可以轻松处理各种表单场景。

#### 基础表单

使用Form和FormItem组件创建基础表单：

```vue
<template>
  <a-form
    :model="formState"
    name="basic"
    :label-col="{ span: 8 }"
    :wrapper-col="{ span: 16 }"
    autocomplete="off"
    @finish="onFinish"
    @finishFailed="onFinishFailed"
  >
    <a-form-item
      label="用户名"
      name="username"
      :rules="[{ required: true, message: '请输入用户名!' }]"
    >
      <a-input v-model:value="formState.username" />
    </a-form-item>

    <a-form-item
      label="密码"
      name="password"
      :rules="[{ required: true, message: '请输入密码!' }]"
    >
      <a-input-password v-model:value="formState.password" />
    </a-form-item>

    <a-form-item name="remember" :wrapper-col="{ offset: 8, span: 16 }">
      <a-checkbox v-model:checked="formState.remember">记住我</a-checkbox>
    </a-form-item>

    <a-form-item :wrapper-col="{ offset: 8, span: 16 }">
      <a-button type="primary" html-type="submit">提交</a-button>
    </a-form-item>
  </a-form>
</template>

<script>
import { defineComponent, reactive } from 'vue';

export default defineComponent({
  setup() {
    const formState = reactive({
      username: '',
      password: '',
      remember: true,
    });

    const onFinish = (values) => {
      console.log('Success:', values);
    };

    const onFinishFailed = (errorInfo) => {
      console.log('Failed:', errorInfo);
    };

    return {
      formState,
      onFinish,
      onFinishFailed,
    };
  },
});
</script>
```

#### 动态表单

处理动态增减表单项：

```vue
<template>
  <a-form
    name="dynamic_form_item"
    :label-col="{ span: 6 }"
    :wrapper-col="{ span: 14 }"
    @finish="onFinish"
  >
    <a-form-item
      v-for="(domain, index) in formState.domains"
      :key="domain.key"
      :label="`域名${index + 1}`"
      :name="['domains', index, 'value']"
      :rules="{
        required: true,
        message: '请输入域名或删除此项',
      }"
    >
      <a-input
        v-model:value="domain.value"
        placeholder="请输入域名"
        style="width: 60%"
      />
      <a-button
        type="dashed"
        style="margin-left: 10px"
        @click="removeDomain(domain)"
      >
        删除
      
让我继续完成Ant Design Vue的最佳实践部分：

```markdown
      >
        删除
      </a-button>
    </a-form-item>
    <a-form-item :wrapper-col="{ offset: 6, span: 14 }">
      <a-button type="dashed" block @click="addDomain">
        <plus-outlined />
        添加域名
      </a-button>
    </a-form-item>
    <a-form-item :wrapper-col="{ offset: 6, span: 14 }">
      <a-button type="primary" html-type="submit">提交</a-button>
    </a-form-item>
  </a-form>
</template>

<script>
import { defineComponent, reactive } from 'vue';
import { PlusOutlined } from '@ant-design/icons-vue';

export default defineComponent({
  components: {
    PlusOutlined,
  },
  setup() {
    const formState = reactive({
      domains: [{ value: '', key: 0 }],
    });

    let domainIndex = 0;

    const addDomain = () => {
      domainIndex++;
      formState.domains.push({ value: '', key: domainIndex });
    };

    const removeDomain = (item) => {
      const index = formState.domains.indexOf(item);
      if (index !== -1) {
        formState.domains.splice(index, 1);
      }
    };

    const onFinish = (values) => {
      console.log('Received values of form:', values);
    };

    return {
      formState,
      addDomain,
      removeDomain,
      onFinish,
    };
  },
});
</script>
```

#### 表单验证

实现复杂的表单验证规则：

```vue
<template>
  <a-form
    :model="formState"
    name="validate_form"
    :label-col="{ span: 6 }"
    :wrapper-col="{ span: 14 }"
    ref="formRef"
    @finish="onFinish"
  >
    <!-- 基本验证 -->
    <a-form-item
      label="用户名"
      name="username"
      :rules="[
        { required: true, message: '请输入用户名!' },
        { min: 3, max: 12, message: '用户名长度必须在3-12个字符之间!' },
        { pattern: /^[a-zA-Z0-9_]+$/, message: '用户名只能包含字母、数字和下划线!' }
      ]"
    >
      <a-input v-model:value="formState.username" />
    </a-form-item>

    <!-- 自定义验证函数 -->
    <a-form-item
      label="密码"
      name="password"
      :rules="[
        { required: true, message: '请输入密码!' },
        { validator: validatePassword }
      ]"
    >
      <a-input-password v-model:value="formState.password" />
    </a-form-item>

    <!-- 依赖其他字段的验证 -->
    <a-form-item
      label="确认密码"
      name="confirmPassword"
      :rules="[
        { required: true, message: '请确认密码!' },
        { validator: validateConfirmPassword }
      ]"
    >
      <a-input-password v-model:value="formState.confirmPassword" />
    </a-form-item>

    <!-- 异步验证 -->
    <a-form-item
      label="邮箱"
      name="email"
      :rules="[
        { required: true, message: '请输入邮箱!' },
        { type: 'email', message: '请输入有效的邮箱地址!' },
        { validator: validateEmailAsync }
      ]"
      :validate-status="emailValidateStatus"
      :help="emailValidateHelp"
    >
      <a-input v-model:value="formState.email" />
    </a-form-item>

    <a-form-item :wrapper-col="{ offset: 6, span: 14 }">
      <a-button type="primary" html-type="submit">提交</a-button>
      <a-button style="margin-left: 10px" @click="resetForm">重置</a-button>
    </a-form-item>
  </a-form>
</template>

<script>
import { defineComponent, reactive, ref } from 'vue';

export default defineComponent({
  setup() {
    const formRef = ref();
    const emailValidateStatus = ref('');
    const emailValidateHelp = ref('');

    const formState = reactive({
      username: '',
      password: '',
      confirmPassword: '',
      email: '',
    });

    // 密码验证规则
    const validatePassword = async (rule, value) => {
      if (!value) {
        return Promise.reject('请输入密码!');
      }
      if (value.length < 6) {
        return Promise.reject('密码长度不能小于6个字符!');
      }
      if (!/[A-Z]/.test(value)) {
        return Promise.reject('密码必须包含至少一个大写字母!');
      }
      if (!/[a-z]/.test(value)) {
        return Promise.reject('密码必须包含至少一个小写字母!');
      }
      if (!/[0-9]/.test(value)) {
        return Promise.reject('密码必须包含至少一个数字!');
      }
      return Promise.resolve();
    };

    // 确认密码验证
    const validateConfirmPassword = async (rule, value) => {
      if (!value) {
        return Promise.reject('请确认密码!');
      }
      if (value !== formState.password) {
        return Promise.reject('两次输入的密码不一致!');
      }
      return Promise.resolve();
    };

    // 异步邮箱验证
    const validateEmailAsync = async (rule, value) => {
      if (!value) return Promise.resolve();
      
      // 显示验证中状态
      emailValidateStatus.value = 'validating';
      emailValidateHelp.value = '验证中...';
      
      // 模拟API请求
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          // 模拟检查邮箱是否已被注册
          const emailExists = ['test@example.com', 'admin@example.com'].includes(value);
          
          if (emailExists) {
            emailValidateStatus.value = 'error';
            emailValidateHelp.value = '该邮箱已被注册!';
            reject('该邮箱已被注册!');
          } else {
            emailValidateStatus.value = 'success';
            emailValidateHelp.value = '';
            resolve();
          }
        }, 1000);
      });
    };

    const onFinish = (values) => {
      console.log('Success:', values);
    };

    const resetForm = () => {
      formRef.value.resetFields();
      emailValidateStatus.value = '';
      emailValidateHelp.value = '';
    };

    return {
      formState,
      formRef,
      validatePassword,
      validateConfirmPassword,
      validateEmailAsync,
      emailValidateStatus,
      emailValidateHelp,
      onFinish,
      resetForm,
    };
  },
});
</script>
```

#### 表单联动

实现表单项之间的联动效果：

```vue
<template>
  <a-form
    :model="formState"
    name="dynamic_rule"
    :label-col="{ span: 6 }"
    :wrapper-col="{ span: 14 }"
  >
    <a-form-item
      label="活动类型"
      name="type"
      :rules="[{ required: true, message: '请选择活动类型!' }]"
    >
      <a-select v-model:value="formState.type" placeholder="请选择活动类型">
        <a-select-option value="online">线上活动</a-select-option>
        <a-select-option value="offline">线下活动</a-select-option>
      </a-select>
    </a-form-item>

    <a-form-item
      label="活动名称"
      name="name"
      :rules="[{ required: true, message: '请输入活动名称!' }]"
    >
      <a-input v-model:value="formState.name" placeholder="请输入活动名称" />
    </a-form-item>

    <!-- 线上活动特有字段 -->
    <template v-if="formState.type === 'online'">
      <a-form-item
        label="活动链接"
        name="url"
        :rules="[
          { required: true, message: '请输入活动链接!' },
          { type: 'url', message: '请输入有效的URL!' }
        ]"
      >
        <a-input v-model:value="formState.url" placeholder="请输入活动链接" />
      </a-form-item>
    </template>

    <!-- 线下活动特有字段 -->
    <template v-if="formState.type === 'offline'">
      <a-form-item
        label="活动地点"
        name="location"
        :rules="[{ required: true, message: '请输入活动地点!' }]"
      >
        <a-input v-model:value="formState.location" placeholder="请输入活动地点" />
      </a-form-item>
      
      <a-form-item
        label="参与人数"
        name="attendees"
        :rules="[{ required: true, message: '请输入参与人数!' }]"
      >
        <a-input-number v-model:value="formState.attendees" :min="1" :max="1000" />
      </a-form-item>
    </template>

    <a-form-item
      label="活动时间"
      name="dateRange"
      :rules="[{ required: true, message: '请选择活动时间!' }]"
    >
      <a-range-picker
        v-model:value="formState.dateRange"
        :disabled-date="disabledDate"
        format="YYYY-MM-DD"
      />
    </a-form-item>

    <a-form-item :wrapper-col="{ offset: 6, span: 14 }">
      <a-button type="primary" @click="submitForm">提交</a-button>
    </a-form-item>
  </a-form>
</template>

<script>
import { defineComponent, reactive, watch } from 'vue';
import { message } from 'ant-design-vue';

export default defineComponent({
  setup() {
    const formState = reactive({
      type: undefined,
      name: '',
      url: '',
      location: '',
      attendees: 100,
      dateRange: [],
    });

    // 监听活动类型变化，重置相关字段
    watch(() => formState.type, (newType) => {
      if (newType === 'online') {
        formState.location = '';
        formState.attendees = 0;
      } else if (newType === 'offline') {
        formState.url = '';
      }
    });

    // 禁用过去的日期
    const disabledDate = (current) => {
      return current && current < new Date().setHours(0, 0, 0, 0);
    };

    const submitForm = () => {
      // 根据活动类型验证不同字段
      const fieldsToValidate = ['type', 'name', 'dateRange'];
      
      if (formState.type === 'online') {
        fieldsToValidate.push('url');
      } else if (formState.type === 'offline') {
        fieldsToValidate.push('location', 'attendees');
      }
      
      // 模拟表单提交
      if (formState.type && formState.name && formState.dateRange.length === 2) {
        message.success('表单提交成功!');
        console.log('Form values:', formState);
      } else {
        message.error('请填写必填字段!');
      }
    };

    return {
      formState,
      disabledDate,
      submitForm,
    };
  },
});
</script>
```

#### 表单封装

封装一个可复用的表单组件：

```vue
<!-- components/BaseForm.vue -->
<template>
  <a-form
    :model="formData"
    :label-col="labelCol"
    :wrapper-col="wrapperCol"
    :rules="rules"
    :name="name"
    ref="formRef"
    @finish="handleFinish"
    @finishFailed="handleFinishFailed"
  >
    <slot :form="formData"></slot>
    
    <a-form-item :wrapper-col="{ offset: labelCol.span, span: wrapperCol.span }">
      <a-button type="primary" html-type="submit" :loading="loading">
        {{ submitText }}
      </a-button>
      <a-button style="margin-left: 10px" @click="resetForm" v-if="showReset">
        {{ resetText }}
      </a-button>
      <slot name="actions"></slot>
    </a-form-item>
  </a-form>
</template>

<script>
import { defineComponent, reactive, ref, toRefs, watch } from 'vue';

export default defineComponent({
  name: 'BaseForm',
  props: {
    // 表单数据
    initialValues: {
      type: Object,
      default: () => ({}),
    },
    // 表单规则
    rules: {
      type: Object,
      default: () => ({}),
    },
    // 表单名称
    name: {
      type: String,
      default: 'baseForm',
    },
    // 标签列布局
    labelCol: {
      type: Object,
      default: () => ({ span: 6 }),
    },
    // 包装列布局
    wrapperCol: {
      type: Object,
      default: () => ({ span: 14 }),
    },
    // 提交按钮文本
    submitText: {
      type: String,
      default: '提交',
    },
    // 重置按钮文本
    resetText: {
      type: String,
      default: '重置',
    },
    // 是否显示重置按钮
    showReset: {
      type: Boolean,
      default: true,
    },
    // 提交按钮加载状态
    loading: {
      type: Boolean,
      default: false,
    },
  },
  emits: ['finish', 'finishFailed', 'reset'],
  setup(props, { emit }) {
    const formRef = ref();
    const formData = reactive({ ...props.initialValues });
    
    // 监听初始值变化
    watch(
      () => props.initialValues,
      (newVal) => {
        Object.keys(newVal).forEach(key => {
          formData[key] = newVal[key];
        });
      },
      { deep: true }
    );
    
    // 表单提交成功
    const handleFinish = (values) => {
      emit('finish', values);
    };
    
    // 表单提交失败
    const handleFinishFailed = (errorInfo) => {
      emit('finishFailed', errorInfo);
    };
    
    // 重置表单
    const resetForm = () => {
      formRef.value.resetFields();
      emit('reset');
    };
    
    // 表单验证
    const validate = () => {
      return formRef.value.validate();
    };
    
    // 验证特定字段
    const validateField = (field) => {
      return formRef.value.validateField(field);
    };
    
    // 滚动到错误字段
    const scrollToField = (field) => {
      formRef.value.scrollToField(field);
    };
    
    return {
      formRef,
      formData,
      handleFinish,
      handleFinishFailed,
      resetForm,
      validate,
      validateField,
      scrollToField,
      ...toRefs(props),
    };
  },
});
</script>
```

使用封装的表单组件：

```vue
<template>
  <div>
    <h2>用户注册</h2>
    <base-form
      :initial-values="initialValues"
      :rules="rules"
      :loading="loading"
      @finish="onFinish"
      @finishFailed="onFinishFailed"
    >
      <template #default="{ form }">
        <a-form-item label="用户名" name="username">
          <a-input v-model:value="form.username" />
        </a-form-item>
        
        <a-form-item label="邮箱" name="email">
          <a-input v-model:value="form.email" />
        </a-form-item>
        
        <a-form-item label="密码" name="password">
          <a-input-password v-model:value="form.password" />
        </a-form-item>
        
        <a-form-item label="确认密码" name="confirmPassword">
          <a-input-password v-model:value="form.confirmPassword" />
        </a-form-item>
      </template>
      
      <template #actions>
        <a-button style="margin-left: 10px" @click="goToLogin">
          已有账号？去登录
        </a-button>
      </template>
    </base-form>
  </div>
</template>

<script>
import { defineComponent, reactive, ref } from 'vue';
import { message } from 'ant-design-vue';
import BaseForm from '@/components/BaseForm.vue';

export default defineComponent({
  components: {
    BaseForm,
  },
  setup() {
    const loading = ref(false);
    
    const initialValues = {
      username: '',
      email: '',
      password: '',
      confirmPassword: '',
    };
    
    const rules = reactive({
      username: [
        { required: true, message: '请输入用户名!' },
        { min: 3, max: 12, message: '用户名长度必须在3-12个字符之间!' },
      ],
      email: [
        { required: true, message: '请输入邮箱!' },
        { type: 'email', message: '请输入有效的邮箱地址!' },
      ],
      password: [
        { required: true, message: '请输入密码!' },
        { min: 6, message: '密码长度不能小于6个字符!' },
      ],
      confirmPassword: [
        { required: true, message: '请确认密码!' },
        ({ getFieldValue }) => ({
          validator(_, value) {
            if (!value || getFieldValue('password') === value) {
              return Promise.resolve();
            }
            return Promise.reject('两次输入的密码不一致!');
          },
        }),
      ],
    });
    
    const onFinish = (values) => {
      loading.value = true;
      
      // 模拟API请求
      setTimeout(() => {
        console.log('注册信息:', values);
        message.success('注册成功!');
        loading.value = false;
      }, 1500);
    };
    
    const onFinishFailed = (errorInfo) => {
      console.log('Failed:', errorInfo);
      message.error('表单验证失败，请检查输入!');
    };
    
    const goToLogin = () => {
      message.info('跳转到登录页面');
    };
    
    return {
      initialValues,
      rules,
      loading,
      onFinish,
      onFinishFailed,
      goToLogin,
    };
  },
});
</script>
```

### 数据表格优化

Ant Design Vue的Table组件是最常用的数据展示组件之一，以下是一些优化技巧：

#### 基础表格封装

封装一个带分页、排序和筛选的表格组件：

```vue
<!-- components/BaseTable.vue -->
<template>
  <div class="base-table">
    <!-- 表格工具栏 -->
    <div class="base-table-toolbar" v-if="$slots.toolbar || showSearch">
      <div class="toolbar-left">
        <slot name="toolbar"></slot>
      </div>
      <div class="toolbar-right" v-if="showSearch">
        <a-input-search
          v-model:value="searchValue"
          placeholder="搜索..."
          style="width: 200px"
          @search="handleSearch"
          allow-clear
        />
      </div>
    </div>
    
    <!-- 表格主体 -->
    <a-table
      :columns="mergedColumns"
      :data-source="tableData"
      :pagination="paginationConfig"
      :loading="loading"
      :row-key="rowKey"
      :scroll="scroll"
      :row-selection="rowSelection"
      @change="handleTableChange"
    >
      <template #headerCell="{ column }">
        <slot :name="`header-${column.dataIndex}`" :column="column">
          {{ column.title }}
        </slot>
      </template>
      
      <template v-for="col in Object.keys($slots)" #[col]="data" :key="col">
        <slot :name="col" v-bind="data"></slot>
      </template>
      
      <template #emptyText>
        <slot name="emptyText">
          <a-empty :description="emptyText" />
        </slot>
      </template>
    </a-table>
  </div>
</template>

<script>
import { defineComponent, ref, computed, watch, toRefs } from 'vue';

export default defineComponent({
  name: 'BaseTable',
  props: {
    // 表格列配置
    columns: {
      type: Array,
      required: true,
    },
    // 表格数据
    dataSource: {
      type: Array,
      default: () => [],
    },
    // 行唯一标识
    rowKey: {
      type: [String, Function],
      default: 'key',
    },
    // 是否显示搜索框
    showSearch: {
      type: Boolean,
      default: false,
    },
    // 搜索字段
    searchField: {
      type: String,
      default: '',
    },
    // 加载状态
    loading: {
      type: Boolean,
      default: false,
    },
    // 分页配置
    pagination: {
      type: [Object, Boolean],
      default: () => ({
        current: 1,
        pageSize: 10,
        total: 0,
        showSizeChanger: true,
        showQuickJumper: true,
        showTotal: (total) => `共 ${total} 条`,
      }),
    },
    // 滚动配置
    scroll: {
      type: Object,
      default: () => ({}),
    },
    // 行选择配置
    rowSelection: {
      type: [Object, null],
      default: null,
    },
    // 空数据文本
    emptyText: {
      type: String,
      default: '暂无数据',
    },
  },
  emits: ['change', 'search', 'pagination-change', 'sort-change', 'filter-change'],
  setup(props, { emit }) {
    const { dataSource, pagination, searchField } = toRefs(props);
    
    // 搜索值
    const searchValue = ref('');
    
    // 表格数据
    const tableData = computed(() => {
      if (!searchValue.value || !searchField.value) {
        return dataSource.value;
      }
      
      // 简单的客户端搜索
      return dataSource.value.filter(item => {
        const fieldValue = item[searchField.value];
        if (fieldValue === undefined || fieldValue === null) return false;
        return String(fieldValue).toLowerCase().includes(searchValue.value.toLowerCase());
      });
    });
    
    // 合并列配置，处理自定义渲染
    const mergedColumns = computed(() => {
      return props.columns.map(col => {
        // 如果有对应的插槽，添加customRender
        if (col.dataIndex && props.$slots[col.dataIndex]) {
          return {
            ...col,
            slots: {
              customRender: col.dataIndex,
            },
          };
        }
        return col;
      });
    });
    
    // 分页配置
    const paginationConfig = computed(() => {
      if (pagination.value === false) return false;
      
      return {
        ...pagination.value,
        total: tableData.value.length,
      };
    });
    
    // 处理表格变化（分页、排序、筛选）
    const handleTableChange = (pag, filters, sorter) => {
      emit('change', { pagination: pag, filters, sorter });
      emit('pagination-change', pag);
      emit('sort-change', sorter);
      emit('filter-change', filters);
    };
    
    // 处理搜索
    const handleSearch = (value) => {
      searchValue.value = value;
      emit('search', value);
    };
    
    // 监听数据源变化，重置分页
    watch(dataSource, () => {
      if (typeof pagination.value === 'object') {
        pagination.value.current = 1;
      }
    });
    
    return {
      searchValue,
      tableData,
      mergedColumns,
      paginationConfig,
      handleTableChange,
      handleSearch,
    };
  },
});
</script>

<style scoped>
.base-table-toolbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.toolbar-left {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
}

.toolbar-right {
  display: flex;
  align-items: center;
}
</style>
```

使用封装的表格组件：

```vue
<template>
  <div>
    <base-table
      :columns="columns"
      :data-source="data"
      :loading="loading"
      show-search
      search-field="name"
      :row-selection="{ selectedRowKeys, onChange: onSelectChange }"
      @change="handleTableChange"
      @search="handleSearch"
    >
      <template #toolbar>
        <a-button type="primary" @click="handleAdd">
          <plus-outlined />
          添加用户
        </a-button>
        <a-button :disabled="!hasSelected" @click="handleBatchDelete">
          <delete-outlined />
          批量删除
        </a-button>
      </template>
      
      <template #age="{ text }">
        <a-tag :color="getAgeColor(text)">{{ text }}</a-tag>
      </template>
      
      <template #action="{ record }">
        <a-space>
          <a @click="handleEdit(record)">编辑</a>
          <a-divider type="vertical" />
          <a-popconfirm
            title="确定删除此用户吗?"
            ok-text="确定"
            cancel-text="取消"
            @confirm="handleDelete(record)"
          >
            <a class="text-danger">删除</a>
          </a-popconfirm>
        </a-space>
      </template>
    </base-table>
    
    <!-- 用户表单弹窗 -->
    <a-modal
      v-model:visible="modalVisible"
      :title="modalTitle"
      @ok="handleModalOk"
      :confirmLoading="confirmLoading"
    >
      <a-form
        :model="formState"
        :rules="rules"
        ref="formRef"
        :label-col="{ span: 6 }"
        :wrapper-col="{ span: 14 }"
      >
        <a-form-item label="姓名" name="name">
          <a-input v-model:value="formState.name" />
        </a-form-item>
        <a-form-item label="年龄" name="age">
          <a-input-number v-model:value="formState.age" :min="1" :max="120" style="width: 100%" />
        </a-form-item>
        <a-form-item label="地址" name="address">
          <a-textarea v-model:value="formState.address" :rows="2" />
        </a-form-item>
      </a-form>
    </a-modal>
  </div>
</template>

<script>
import { defineComponent, ref, reactive, computed } from 'vue';
import { message } from 'ant-design-vue';
import { PlusOutlined, DeleteOutlined } from '@ant-design/icons-vue';
import BaseTable from '@/components/BaseTable.vue';

export default defineComponent({
  components: {
    BaseTable,
    PlusOutlined,
    DeleteOutlined,
  },
  setup() {
    // 表格列配置
    const columns = [
      {
        title: '姓名',
        dataIndex: 'name',
        sorter: true,
      },
      {
        title: '年龄',
        dataIndex: 'age',
        sorter: (a, b) => a.age - b.age,
      },
      {
        title: '地址',
        dataIndex: 'address',
        ellipsis: true,
      },
      {
        title: '操作',
        dataIndex: 'action',
        fixed: 'right',
        width: 120,
      },
    ];
    
    // 表格数据
    const data = ref([]);
    const loading = ref(false);
    
    // 选中行
    const selectedRowKeys = ref([]);
    const hasSelected = computed(() => selectedRowKeys.value.length > 0);
    
    // 弹窗相关
    const modalVisible = ref(false);
    const modalTitle = ref('添加用户');
    const confirmLoading = ref(false);
    const formRef = ref();
    const formState = reactive({
      id: null,
      name: '',
      age: 18,
      address: '',
    });
    
    // 表单规则
    const rules = {
      name: [
        { required: true, message: '请输入姓名!' },
      ],
      age: [
        { required: true, message
让我继续完成Ant Design Vue的最佳实践部分：

```vue
        { required: true, message: '请输入年龄!' },
      ],
      address: [
        { required: true, message: '请输入地址!' },
      ],
    };
    
    // 加载数据
    const loadData = () => {
      loading.value = true;
      // 模拟API请求
      setTimeout(() => {
        data.value = Array.from({ length: 100 }, (_, i) => ({
          id: i + 1,
          name: `用户${i + 1}`,
          age: Math.floor(Math.random() * 50) + 18,
          address: `北京市朝阳区某某街道第${i + 1}号`,
        }));
        loading.value = false;
      }, 1000);
    };
    
    // 根据年龄获取标签颜色
    const getAgeColor = (age) => {
      if (age < 30) return 'green';
      if (age < 40) return 'blue';
      if (age < 50) return 'orange';
      return 'red';
    };
    
    // 表格变化处理
    const handleTableChange = (pagination, filters, sorter) => {
      console.log('表格变化:', pagination, filters, sorter);
    };
    
    // 搜索处理
    const handleSearch = (value) => {
      console.log('搜索:', value);
    };
    
    // 选择行变化
    const onSelectChange = (keys) => {
      selectedRowKeys.value = keys;
    };
    
    // 添加用户
    const handleAdd = () => {
      modalTitle.value = '添加用户';
      formState.id = null;
      formState.name = '';
      formState.age = 18;
      formState.address = '';
      modalVisible.value = true;
    };
    
    // 编辑用户
    const handleEdit = (record) => {
      modalTitle.value = '编辑用户';
      formState.id = record.id;
      formState.name = record.name;
      formState.age = record.age;
      formState.address = record.address;
      modalVisible.value = true;
    };
    
    // 删除用户
    const handleDelete = (record) => {
      loading.value = true;
      // 模拟API请求
      setTimeout(() => {
        data.value = data.value.filter(item => item.id !== record.id);
        message.success('删除成功!');
        loading.value = false;
      }, 500);
    };
    
    // 批量删除
    const handleBatchDelete = () => {
      if (!selectedRowKeys.value.length) return;
      
      loading.value = true;
      // 模拟API请求
      setTimeout(() => {
        data.value = data.value.filter(item => !selectedRowKeys.value.includes(item.id));
        selectedRowKeys.value = [];
        message.success('批量删除成功!');
        loading.value = false;
      }, 500);
    };
    
    // 弹窗确认
    const handleModalOk = () => {
      formRef.value.validate().then(() => {
        confirmLoading.value = true;
        
        // 模拟API请求
        setTimeout(() => {
          if (formState.id) {
            // 编辑
            const index = data.value.findIndex(item => item.id === formState.id);
            if (index !== -1) {
              data.value[index] = { ...data.value[index], ...formState };
            }
            message.success('编辑成功!');
          } else {
            // 添加
            const newId = Math.max(...data.value.map(item => item.id), 0) + 1;
            data.value.unshift({
              id: newId,
              name: formState.name,
              age: formState.age,
              address: formState.address,
            });
            message.success('添加成功!');
          }
          
          modalVisible.value = false;
          confirmLoading.value = false;
        }, 1000);
      }).catch(error => {
        console.log('验证失败:', error);
      });
    };
    
    // 初始加载数据
    loadData();
    
    return {
      columns,
      data,
      loading,
      selectedRowKeys,
      hasSelected,
      modalVisible,
      modalTitle,
      confirmLoading,
      formRef,
      formState,
      rules,
      getAgeColor,
      handleTableChange,
      handleSearch,
      onSelectChange,
      handleAdd,
      handleEdit,
      handleDelete,
      handleBatchDelete,
      handleModalOk,
    };
  },
});
</script>

<style scoped>
.text-danger {
  color: #ff4d4f;
}
</style>
```

#### 大数据表格优化

处理大量数据的表格性能优化：

```vue
<template>
  <div>
    <h2>大数据表格优化</h2>
    
    <a-card>
      <a-space style="margin-bottom: 16px">
        <a-button @click="toggleVirtualScroll">
          {{ useVirtual ? '关闭' : '开启' }}虚拟滚动
        </a-button>
        <a-button @click="toggleFixedColumns">
          {{ useFixedColumns ? '取消固定' : '固定' }}首尾列
        </a-button>
        <a-button @click="reloadData">重新加载数据</a-button>
      </a-space>
      
      <a-table
        :columns="columns"
        :data-source="data"
        :loading="loading"
        :pagination="false"
        :scroll="{ y: 500, x: tableWidth }"
        :row-key="record => record.id"
        :virtual="useVirtual"
        :custom-row="customRow"
      >
        <template #bodyCell="{ column, record }">
          <template v-if="column.dataIndex === 'operation'">
            <a-button type="link" size="small" @click="viewDetails(record)">
              查看
            </a-button>
          </template>
        </template>
      </a-table>
    </a-card>
    
    <!-- 详情抽屉 -->
    <a-drawer
      title="用户详情"
      placement="right"
      :visible="drawerVisible"
      @close="drawerVisible = false"
      width="500"
    >
      <a-descriptions bordered :column="1" v-if="currentRecord">
        <a-descriptions-item v-for="col in detailColumns" :key="col.dataIndex" :label="col.title">
          {{ currentRecord[col.dataIndex] }}
        </a-descriptions-item>
      </a-descriptions>
    </a-drawer>
  </div>
</template>

<script>
import { defineComponent, ref, computed, onMounted } from 'vue';

export default defineComponent({
  setup() {
    const loading = ref(false);
    const data = ref([]);
    const useVirtual = ref(true);
    const useFixedColumns = ref(true);
    const drawerVisible = ref(false);
    const currentRecord = ref(null);
    
    // 生成列配置
    const generateColumns = () => {
      const baseColumns = [
        {
          title: 'ID',
          dataIndex: 'id',
          width: 80,
          fixed: useFixedColumns.value ? 'left' : undefined,
        },
        {
          title: '姓名',
          dataIndex: 'name',
          width: 120,
        },
      ];
      
      // 生成多个列
      for (let i = 0; i < 10; i++) {
        baseColumns.push({
          title: `字段 ${i + 1}`,
          dataIndex: `field${i}`,
          width: 150,
        });
      }
      
      baseColumns.push({
        title: '操作',
        dataIndex: 'operation',
        width: 100,
        fixed: useFixedColumns.value ? 'right' : undefined,
      });
      
      return baseColumns;
    };
    
    const columns = computed(() => generateColumns());
    
    // 详情列
    const detailColumns = computed(() => {
      return columns.value.filter(col => col.dataIndex !== 'operation');
    });
    
    // 表格宽度
    const tableWidth = computed(() => {
      return columns.value.reduce((width, col) => width + (col.width || 150), 0);
    });
    
    // 生成大量数据
    const generateData = (count = 10000) => {
      const result = [];
      for (let i = 0; i < count; i++) {
        const item = {
          id: i + 1,
          name: `用户 ${i + 1}`,
        };
        
        // 添加额外字段
        for (let j = 0; j < 10; j++) {
          item[`field${j}`] = `数据 ${i}-${j}`;
        }
        
        result.push(item);
      }
      return result;
    };
    
    // 加载数据
    const loadData = () => {
      loading.value = true;
      // 使用setTimeout模拟异步加载
      setTimeout(() => {
        data.value = generateData();
        loading.value = false;
      }, 1000);
    };
    
    // 重新加载数据
    const reloadData = () => {
      loadData();
    };
    
    // 切换虚拟滚动
    const toggleVirtualScroll = () => {
      useVirtual.value = !useVirtual.value;
    };
    
    // 切换固定列
    const toggleFixedColumns = () => {
      useFixedColumns.value = !useFixedColumns.value;
    };
    
    // 查看详情
    const viewDetails = (record) => {
      currentRecord.value = record;
      drawerVisible.value = true;
    };
    
    // 自定义行属性
    const customRow = (record) => {
      return {
        onClick: () => {
          console.log('点击行:', record);
        },
      };
    };
    
    onMounted(() => {
      loadData();
    });
    
    return {
      loading,
      data,
      columns,
      useVirtual,
      useFixedColumns,
      drawerVisible,
      currentRecord,
      detailColumns,
      tableWidth,
      reloadData,
      toggleVirtualScroll,
      toggleFixedColumns,
      viewDetails,
      customRow,
    };
  },
});
</script>
```

#### 服务端表格

实现与后端API交互的表格组件：

```vue
<template>
  <div>
    <h2>服务端表格</h2>
    
    <a-card>
      <!-- 搜索表单 -->
      <a-form layout="inline" :model="searchForm" @finish="handleSearch">
        <a-form-item label="用户名" name="username">
          <a-input v-model:value="searchForm.username" placeholder="请输入用户名" allow-clear />
        </a-form-item>
        <a-form-item label="状态" name="status">
          <a-select
            v-model:value="searchForm.status"
            placeholder="请选择状态"
            style="width: 120px"
            allow-clear
          >
            <a-select-option value="active">活跃</a-select-option>
            <a-select-option value="inactive">非活跃</a-select-option>
            <a-select-option value="blocked">已封禁</a-select-option>
          </a-select>
        </a-form-item>
        <a-form-item>
          <a-button type="primary" html-type="submit">
            <search-outlined />
            搜索
          </a-button>
          <a-button style="margin-left: 8px" @click="resetSearch">
            <reload-outlined />
            重置
          </a-button>
        </a-form-item>
      </a-form>
      
      <!-- 工具栏 -->
      <div style="margin: 16px 0">
        <a-button type="primary" @click="handleAdd">
          <plus-outlined />
          添加用户
        </a-button>
        <a-button
          style="margin-left: 8px"
          danger
          :disabled="selectedRowKeys.length === 0"
          @click="handleBatchDelete"
        >
          <delete-outlined />
          批量删除
        </a-button>
      </div>
      
      <!-- 表格 -->
      <a-table
        :columns="columns"
        :data-source="tableData"
        :pagination="pagination"
        :loading="loading"
        :row-key="record => record.id"
        :row-selection="{ selectedRowKeys, onChange: onSelectChange }"
        @change="handleTableChange"
      >
        <template #bodyCell="{ column, record }">
          <!-- 状态列 -->
          <template v-if="column.dataIndex === 'status'">
            <a-tag :color="getStatusColor(record.status)">
              {{ getStatusText(record.status) }}
            </a-tag>
          </template>
          
          <!-- 操作列 -->
          <template v-if="column.dataIndex === 'action'">
            <a-space>
              <a @click="handleEdit(record)">编辑</a>
              <a-divider type="vertical" />
              <a-popconfirm
                title="确定删除此用户吗?"
                ok-text="确定"
                cancel-text="取消"
                @confirm="handleDelete(record)"
              >
                <a style="color: #ff4d4f">删除</a>
              </a-popconfirm>
            </a-space>
          </template>
        </template>
      </a-table>
    </a-card>
    
    <!-- 用户表单弹窗 -->
    <a-modal
      v-model:visible="modalVisible"
      :title="modalTitle"
      @ok="handleModalOk"
      :confirm-loading="confirmLoading"
    >
      <a-form
        :model="formState"
        :rules="rules"
        ref="formRef"
        :label-col="{ span: 6 }"
        :wrapper-col="{ span: 14 }"
      >
        <a-form-item label="用户名" name="username">
          <a-input v-model:value="formState.username" />
        </a-form-item>
        <a-form-item label="邮箱" name="email">
          <a-input v-model:value="formState.email" />
        </a-form-item>
        <a-form-item label="状态" name="status">
          <a-select v-model:value="formState.status">
            <a-select-option value="active">活跃</a-select-option>
            <a-select-option value="inactive">非活跃</a-select-option>
            <a-select-option value="blocked">已封禁</a-select-option>
          </a-select>
        </a-form-item>
      </a-form>
    </a-modal>
  </div>
</template>

<script>
import { defineComponent, ref, reactive, onMounted } from 'vue';
import { message } from 'ant-design-vue';
import {
  SearchOutlined,
  ReloadOutlined,
  PlusOutlined,
  DeleteOutlined,
} from '@ant-design/icons-vue';

export default defineComponent({
  components: {
    SearchOutlined,
    ReloadOutlined,
    PlusOutlined,
    DeleteOutlined,
  },
  setup() {
    // 表格列配置
    const columns = [
      {
        title: 'ID',
        dataIndex: 'id',
        sorter: true,
      },
      {
        title: '用户名',
        dataIndex: 'username',
        sorter: true,
      },
      {
        title: '邮箱',
        dataIndex: 'email',
      },
      {
        title: '状态',
        dataIndex: 'status',
        filters: [
          { text: '活跃', value: 'active' },
          { text: '非活跃', value: 'inactive' },
          { text: '已封禁', value: 'blocked' },
        ],
      },
      {
        title: '创建时间',
        dataIndex: 'createdAt',
        sorter: true,
      },
      {
        title: '操作',
        dataIndex: 'action',
        width: 150,
      },
    ];
    
    // 表格数据
    const tableData = ref([]);
    const loading = ref(false);
    const selectedRowKeys = ref([]);
    
    // 分页配置
    const pagination = reactive({
      current: 1,
      pageSize: 10,
      total: 0,
      showSizeChanger: true,
      showQuickJumper: true,
      showTotal: (total) => `共 ${total} 条`,
    });
    
    // 搜索表单
    const searchForm = reactive({
      username: '',
      status: undefined,
    });
    
    // 弹窗相关
    const modalVisible = ref(false);
    const modalTitle = ref('添加用户');
    const confirmLoading = ref(false);
    const formRef = ref();
    const formState = reactive({
      id: null,
      username: '',
      email: '',
      status: 'active',
    });
    
    // 表单规则
    const rules = {
      username: [
        { required: true, message: '请输入用户名!' },
      ],
      email: [
        { required: true, message: '请输入邮箱!' },
        { type: 'email', message: '请输入有效的邮箱地址!' },
      ],
      status: [
        { required: true, message: '请选择状态!' },
      ],
    };
    
    // 获取状态颜色
    const getStatusColor = (status) => {
      switch (status) {
        case 'active':
          return 'green';
        case 'inactive':
          return 'orange';
        case 'blocked':
          return 'red';
        default:
          return 'default';
      }
    };
    
    // 获取状态文本
    const getStatusText = (status) => {
      switch (status) {
        case 'active':
          return '活跃';
        case 'inactive':
          return '非活跃';
        case 'blocked':
          return '已封禁';
        default:
          return '未知';
      }
    };
    
    // 加载表格数据
    const fetchTableData = (params = {}) => {
      loading.value = true;
      
      // 构建请求参数
      const requestParams = {
        page: params.page || pagination.current,
        pageSize: params.pageSize || pagination.pageSize,
        sortField: params.sortField,
        sortOrder: params.sortOrder,
        ...params.filters,
        ...searchForm,
      };
      
      console.log('请求参数:', requestParams);
      
      // 模拟API请求
      setTimeout(() => {
        // 模拟后端返回的数据
        const result = {
          data: [],
          total: 200,
        };
        
        // 生成模拟数据
        for (let i = 0; i < requestParams.pageSize; i++) {
          const index = (requestParams.page - 1) * requestParams.pageSize + i;
          if (index >= result.total) break;
          
          // 根据搜索条件过滤
          if (requestParams.username && !`user${index}`.includes(requestParams.username)) {
            continue;
          }
          
          if (requestParams.status && Math.floor(index / 3) % 3 !== ['active', 'inactive', 'blocked'].indexOf(requestParams.status)) {
            continue;
          }
          
          const statusIndex = Math.floor(index / 3) % 3;
          const status = ['active', 'inactive', 'blocked'][statusIndex];
          
          result.data.push({
            id: index + 1,
            username: `user${index + 1}`,
            email: `user${index + 1}@example.com`,
            status,
            createdAt: new Date(Date.now() - Math.floor(Math.random() * 10000000000)).toLocaleString(),
          });
        }
        
        // 更新表格数据
        tableData.value = result.data;
        pagination.total = result.total;
        loading.value = false;
      }, 800);
    };
    
    // 表格变化处理
    const handleTableChange = (pag, filters, sorter) => {
      // 更新分页信息
      pagination.current = pag.current;
      pagination.pageSize = pag.pageSize;
      
      // 构建排序参数
      const sortParams = {};
      if (sorter.field) {
        sortParams.sortField = sorter.field;
        sortParams.sortOrder = sorter.order;
      }
      
      // 构建筛选参数
      const filterParams = {};
      Object.keys(filters).forEach(key => {
        if (filters[key] && filters[key].length > 0) {
          filterParams[key] = filters[key];
        }
      });
      
      // 重新加载数据
      fetchTableData({
        page: pag.current,
        pageSize: pag.pageSize,
        ...sortParams,
        filters: filterParams,
      });
    };
    
    // 搜索处理
    const handleSearch = () => {
      pagination.current = 1;
      fetchTableData();
    };
    
    // 重置搜索
    const resetSearch = () => {
      searchForm.username = '';
      searchForm.status = undefined;
      pagination.current = 1;
      fetchTableData();
    };
    
    // 选择行变化
    const onSelectChange = (keys) => {
      selectedRowKeys.value = keys;
    };
    
    // 添加用户
    const handleAdd = () => {
      modalTitle.value = '添加用户';
      formState.id = null;
      formState.username = '';
      formState.email = '';
      formState.status = 'active';
      modalVisible.value = true;
    };
    
    // 编辑用户
    const handleEdit = (record) => {
      modalTitle.value = '编辑用户';
      formState.id = record.id;
      formState.username = record.username;
      formState.email = record.email;
      formState.status = record.status;
      modalVisible.value = true;
    };
    
    // 删除用户
    const handleDelete = (record) => {
      loading.value = true;
      // 模拟API请求
      setTimeout(() => {
        message.success(`删除用户 ${record.username} 成功!`);
        fetchTableData();
      }, 500);
    };
    
    // 批量删除
    const handleBatchDelete = () => {
      if (selectedRowKeys.value.length === 0) return;
      
      loading.value = true;
      // 模拟API请求
      setTimeout(() => {
        message.success(`批量删除 ${selectedRowKeys.value.length} 个用户成功!`);
        selectedRowKeys.value = [];
        fetchTableData();
      }, 500);
    };
    
    // 弹窗确认
    const handleModalOk = () => {
      formRef.value.validate().then(() => {
        confirmLoading.value = true;
        
        // 模拟API请求
        setTimeout(() => {
          if (formState.id) {
            message.success(`编辑用户 ${formState.username} 成功!`);
          } else {
            message.success(`添加用户 ${formState.username} 成功!`);
          }
          
          modalVisible.value = false;
          confirmLoading.value = false;
          fetchTableData();
        }, 1000);
      }).catch(error => {
        console.log('验证失败:', error);
      });
    };
    
    onMounted(() => {
      fetchTableData();
    });
    
    return {
      columns,
      tableData,
      loading,
      pagination,
      selectedRowKeys,
      searchForm,
      modalVisible,
      modalTitle,
      confirmLoading,
      formRef,
      formState,
      rules,
      getStatusColor,
      getStatusText,
      handleTableChange,
      handleSearch,
      resetSearch,
      onSelectChange,
      handleAdd,
      handleEdit,
      handleDelete,
      handleBatchDelete,
      handleModalOk,
    };
  },
});
</script>
```

### 与TypeScript结合使用

Ant Design Vue提供了完善的TypeScript类型定义，与TypeScript结合使用可以获得更好的开发体验。

#### 基本使用

在TypeScript项目中使用Ant Design Vue：

```typescript
// main.ts
import { createApp } from 'vue';
import Antd from 'ant-design-vue';
import 'ant-design-vue/dist/antd.css';
import App from './App.vue';

const app = createApp(App);
app.use(Antd);
app.mount('#app');
```

#### 组件Props类型定义

在Vue组件中使用Ant Design Vue组件并定义类型：

```vue
<template>
  <div>
    <a-form :model="formState" :rules="rules" ref="formRef">
      <a-form-item label="用户名" name="username">
        <a-input v-model:value="formState.username"></a-input>
      </a-form-item>
      <a-form-item label="密码" name="password">
        <a-input-password v-model:value="formState.password"></a-input-password>
      </a-form-item>
      <a-form-item>
        <a-button type="primary" @click="submitForm">登录</a-button>
      </a-form-item>
    </a-form>
  </div>
</template>

<script lang="ts">
import { defineComponent, reactive, ref, UnwrapRef } from 'vue';
import { message } from 'ant-design-vue';
import type { Rule } from 'ant-design-vue/es/form';
import type { FormInstance } from 'ant-design-vue';

interface FormState {
  username: string;
  password: string;
}

export default defineComponent({
  setup() {
    const formRef = ref<FormInstance>();
    
    const formState: UnwrapRef<FormState> = reactive({
      username: '',
      password: '',
    });
    
    const rules: Record<string, Rule[]> = {
      username: [
        { required: true, message: '请输入用户名', trigger: 'blur' },
        { min: 3, max: 20, message: '长度在3到20个字符', trigger: 'blur' },
      ],
      password: [
        { required: true, message: '请输入密码', trigger: 'blur' },
        { min: 6, message: '密码长度不能小于6个字符', trigger: 'blur' },
      ],
    };
    
    const submitForm = async () => {
      try {
        if (formRef.value) {
          await formRef.value.validate();
          message.success('登录成功');
          console.log('表单数据:', formState);
        }
      } catch (error) {
        console.log('验证失败:', error);
        message.error('表单验证失败');
      }
    };
    
    return {
      formRef,
      formState,
      rules,
      submitForm,
    };
  },
});
</script>
```

#### 自定义组件的类型定义

为自定义组件提供类型定义：

```typescript
// types/components.d.ts
import { DefineComponent } from 'vue';

// 定义BaseTable组件的Props类型
export interface BaseTableProps {
  columns: any[];
  dataSource: any[];
  loading?: boolean;
  pagination?: object | boolean;
  rowKey?: string | ((record: any) => string);
  rowSelection?: object | null;
  showSearch?: boolean;
  searchField?: string;
  emptyText?: string;
}

// 声明组件类型
export const BaseTable: DefineComponent<BaseTableProps>;
```

#### 使用组合式API与TypeScript

在组合式API中使用TypeScript：

```typescript
// composables/useTable.ts
import { ref, computed, Ref, ComputedRef } from 'vue';

interface TableOptions<T> {
  data: T[];
  pageSize?: number;
  searchKey?: string;
}

interface PaginationInfo {
  current: number;
  pageSize: number;
  total: number;
  showSizeChanger: boolean;
  showQuickJumper: boolean;
  showTotal: (total: number) => string;
}

export function useTable<T>(options: TableOptions<T>) {
  const { data, pageSize = 10, searchKey } = options;
  
  const loading = ref<boolean>(false);
  const currentPage = ref<number>(1);
  const currentPageSize = ref<number>(pageSize);
  const searchValue = ref<string>('');
  
  // 过滤后的数据
  const filteredData: ComputedRef<T[]> = computed(() => {
    if (!searchValue.value || !searchKey) {
      return data;
    }
    
    return data.filter(item => {
      const value = (item as any)[searchKey];
      return String(value).toLowerCase().includes(searchValue.value.toLowerCase());
    });
  });
  
  // 分页数据
  const paginatedData: ComputedRef<T[]> = computed(() => {
    const start = (currentPage.value - 1) * currentPageSize.value;
    const end = start + currentPageSize.value;
    return filteredData.value.slice(start, end);
  });
  
  // 分页配置
  const pagination: ComputedRef<PaginationInfo> = computed(() => ({
    current: currentPage.value,
    pageSize: currentPageSize.value,
    total: filteredData.value.length,
    showSizeChanger: true,
    showQuickJumper: true,
    showTotal: (total: number) => `共 ${total} 条`,
  }));
  
  // 
让我继续完成Ant Design Vue与TypeScript结合使用的部分：

```typescript
  // 设置加载状态
  const setLoading = (value: boolean): void => {
    loading.value = value;
  };
  
  // 搜索
  const search = (value: string): void => {
    searchValue.value = value;
    currentPage.value = 1;
  };
  
  // 切换页码
  const changePage = (page: number): void => {
    currentPage.value = page;
  };
  
  // 切换每页条数
  const changePageSize = (size: number): void => {
    currentPageSize.value = size;
    currentPage.value = 1;
  };
  
  return {
    loading,
    data: paginatedData,
    filteredData,
    pagination,
    searchValue,
    setLoading,
    search,
    changePage,
    changePageSize,
  };
}
```

在组件中使用这个组合式API：

```vue
<template>
  <div>
    <div class="search-bar">
      <a-input
        v-model:value="searchValue"
        placeholder="搜索用户名"
        @input="search"
        allow-clear
      />
    </div>
    
    <a-table
      :columns="columns"
      :data-source="data"
      :pagination="pagination"
      :loading="loading"
      @change="handleTableChange"
    />
  </div>
</template>

<script lang="ts">
import { defineComponent, onMounted, ref } from 'vue';
import { useTable } from '@/composables/useTable';

interface User {
  id: number;
  name: string;
  age: number;
  address: string;
}

interface TableColumn {
  title: string;
  dataIndex: string;
  key: string;
  sorter?: boolean | ((a: User, b: User) => number);
  width?: number;
}

export default defineComponent({
  setup() {
    // 模拟数据
    const users = ref<User[]>([]);
    
    // 列定义
    const columns = ref<TableColumn[]>([
      {
        title: 'ID',
        dataIndex: 'id',
        key: 'id',
        sorter: (a, b) => a.id - b.id,
        width: 80,
      },
      {
        title: '姓名',
        dataIndex: 'name',
        key: 'name',
        sorter: true,
        width: 120,
      },
      {
        title: '年龄',
        dataIndex: 'age',
        key: 'age',
        sorter: (a, b) => a.age - b.age,
        width: 80,
      },
      {
        title: '地址',
        dataIndex: 'address',
        key: 'address',
      },
    ]);
    
    // 加载模拟数据
    const loadData = () => {
      // 模拟API请求
      setTimeout(() => {
        const data: User[] = Array.from({ length: 100 }, (_, i) => ({
          id: i + 1,
          name: `用户${i + 1}`,
          age: 20 + Math.floor(Math.random() * 40),
          address: `北京市朝阳区某某街道第${i + 1}号`,
        }));
        users.value = data;
        setLoading(false);
      }, 1000);
    };
    
    // 使用表格组合式API
    const {
      loading,
      data,
      pagination,
      searchValue,
      setLoading,
      search,
      changePage,
      changePageSize,
    } = useTable<User>({
      data: users.value,
      pageSize: 10,
      searchKey: 'name',
    });
    
    // 处理表格变化
    const handleTableChange = (pag: any, filters: any, sorter: any) => {
      // 处理分页
      changePage(pag.current);
      changePageSize(pag.pageSize);
      
      // 这里可以处理排序和筛选
      console.log('排序:', sorter);
      console.log('筛选:', filters);
    };
    
    onMounted(() => {
      setLoading(true);
      loadData();
    });
    
    return {
      columns,
      data,
      loading,
      pagination,
      searchValue,
      search,
      handleTableChange,
    };
  },
});
</script>
```

#### 类型安全的事件处理

在TypeScript中处理Ant Design Vue组件的事件：

```vue
<template>
  <div>
    <a-form :model="formState" layout="inline">
      <a-form-item label="日期范围">
        <a-range-picker
          v-model:value="formState.dateRange"
          @change="handleDateChange"
          format="YYYY-MM-DD"
        />
      </a-form-item>
      <a-form-item label="选择器">
        <a-select
          v-model:value="formState.select"
          style="width: 120px"
          @change="handleSelectChange"
        >
          <a-select-option value="option1">选项1</a-select-option>
          <a-select-option value="option2">选项2</a-select-option>
          <a-select-option value="option3">选项3</a-select-option>
        </a-select>
      </a-form-item>
      <a-form-item>
        <a-button type="primary" @click="handleSubmit">查询</a-button>
      </a-form-item>
    </a-form>
    
    <div class="result" v-if="result">
      <pre>{{ result }}</pre>
    </div>
  </div>
</template>

<script lang="ts">
import { defineComponent, reactive, ref } from 'vue';
import { Moment } from 'moment';
import { SelectValue } from 'ant-design-vue/es/select';

interface FormState {
  dateRange: [Moment, Moment] | null;
  select: string | undefined;
}

export default defineComponent({
  setup() {
    const formState = reactive<FormState>({
      dateRange: null,
      select: undefined,
    });
    
    const result = ref<string>('');
    
    // 日期范围变化
    const handleDateChange = (dates: [Moment, Moment] | null, dateStrings: [string, string]) => {
      console.log('日期对象:', dates);
      console.log('日期字符串:', dateStrings);
      
      if (dates) {
        const [startDate, endDate] = dateStrings;
        result.value = `选择的日期范围: ${startDate} 至 ${endDate}`;
      } else {
        result.value = '未选择日期范围';
      }
    };
    
    // 选择器变化
    const handleSelectChange = (value: SelectValue) => {
      console.log('选择的值:', value);
      result.value = `选择的选项: ${value}`;
    };
    
    // 提交表单
    const handleSubmit = () => {
      const formData = {
        dateRange: formState.dateRange 
          ? [formState.dateRange[0].format('YYYY-MM-DD'), formState.dateRange[1].format('YYYY-MM-DD')] 
          : null,
        select: formState.select,
      };
      
      result.value = `表单数据: ${JSON.stringify(formData, null, 2)}`;
    };
    
    return {
      formState,
      result,
      handleDateChange,
      handleSelectChange,
      handleSubmit,
    };
  },
});
</script>

<style scoped>
.result {
  margin-top: 20px;
  padding: 16px;
  background-color: #f5f5f5;
  border-radius: 4px;
}
</style>
```

#### 类型扩展和增强

扩展Ant Design Vue的类型定义：

```typescript
// types/ant-design-vue.d.ts
import 'ant-design-vue';

// 扩展TableColumn类型
declare module 'ant-design-vue' {
  export interface TableColumn {
    // 添加自定义属性
    permission?: string;
    tooltip?: string;
    customRender?: (text: any, record: any, index: number) => any;
  }
}
```

使用扩展后的类型：

```vue
<template>
  <div>
    <a-table :columns="columns" :data-source="data" />
  </div>
</template>

<script lang="ts">
import { defineComponent, ref } from 'vue';
import { TableColumn } from 'ant-design-vue';

interface User {
  id: number;
  name: string;
  role: string;
}

export default defineComponent({
  setup() {
    // 使用扩展后的TableColumn类型
    const columns = ref<TableColumn[]>([
      {
        title: 'ID',
        dataIndex: 'id',
        key: 'id',
      },
      {
        title: '姓名',
        dataIndex: 'name',
        key: 'name',
        // 使用自定义属性
        tooltip: '用户的姓名',
      },
      {
        title: '角色',
        dataIndex: 'role',
        key: 'role',
        // 使用自定义属性
        permission: 'admin',
      },
    ]);
    
    const data = ref<User[]>([
      { id: 1, name: '张三', role: '管理员' },
      { id: 2, name: '李四', role: '用户' },
    ]);
    
    return {
      columns,
      data,
    };
  },
});
</script>
```

#### 创建类型安全的自定义组件

创建一个类型安全的自定义表单组件：

```vue
<!-- components/TypedForm.vue -->
<template>
  <a-form
    :model="modelValue"
    :label-col="labelCol"
    :wrapper-col="wrapperCol"
    :rules="rules"
  >
    <slot></slot>
    <a-form-item :wrapper-col="{ offset: labelCol.span, span: wrapperCol.span }">
      <a-button type="primary" @click="handleSubmit">{{ submitText }}</a-button>
      <a-button style="margin-left: 8px" @click="handleReset">{{ resetText }}</a-button>
    </a-form-item>
  </a-form>
</template>

<script lang="ts">
import { defineComponent, PropType } from 'vue';
import { Rule } from 'ant-design-vue/es/form';

export default defineComponent({
  name: 'TypedForm',
  props: {
    modelValue: {
      type: Object as PropType<Record<string, any>>,
      required: true,
    },
    rules: {
      type: Object as PropType<Record<string, Rule[]>>,
      default: () => ({}),
    },
    labelCol: {
      type: Object as PropType<{ span: number; offset?: number }>,
      default: () => ({ span: 6 }),
    },
    wrapperCol: {
      type: Object as PropType<{ span: number; offset?: number }>,
      default: () => ({ span: 14 }),
    },
    submitText: {
      type: String,
      default: '提交',
    },
    resetText: {
      type: String,
      default: '重置',
    },
  },
  emits: ['submit', 'reset', 'update:modelValue'],
  setup(props, { emit }) {
    // 提交表单
    const handleSubmit = () => {
      emit('submit', props.modelValue);
    };
    
    // 重置表单
    const handleReset = () => {
      // 创建一个新对象，保持原始结构但重置所有值
      const resetModel = Object.keys(props.modelValue).reduce((acc, key) => {
        const value = props.modelValue[key];
        if (Array.isArray(value)) {
          acc[key] = [];
        } else if (typeof value === 'object' && value !== null) {
          acc[key] = {};
        } else if (typeof value === 'number') {
          acc[key] = 0;
        } else if (typeof value === 'boolean') {
          acc[key] = false;
        } else {
          acc[key] = '';
        }
        return acc;
      }, {} as Record<string, any>);
      
      emit('update:modelValue', resetModel);
      emit('reset');
    };
    
    return {
      handleSubmit,
      handleReset,
    };
  },
});
</script>
```

使用类型安全的自定义表单组件：

```vue
<template>
  <div>
    <h2>用户注册</h2>
    <typed-form
      v-model="formState"
      :rules="rules"
      @submit="onSubmit"
      @reset="onReset"
    >
      <a-form-item label="用户名" name="username">
        <a-input v-model:value="formState.username" />
      </a-form-item>
      
      <a-form-item label="邮箱" name="email">
        <a-input v-model:value="formState.email" />
      </a-form-item>
      
      <a-form-item label="密码" name="password">
        <a-input-password v-model:value="formState.password" />
      </a-form-item>
      
      <a-form-item label="年龄" name="age">
        <a-input-number v-model:value="formState.age" :min="1" :max="120" style="width: 100%" />
      </a-form-item>
      
      <a-form-item label="角色" name="role">
        <a-select v-model:value="formState.role">
          <a-select-option value="user">普通用户</a-select-option>
          <a-select-option value="admin">管理员</a-select-option>
        </a-select>
      </a-form-item>
    </typed-form>
  </div>
</template>

<script lang="ts">
import { defineComponent, reactive } from 'vue';
import { message } from 'ant-design-vue';
import { Rule } from 'ant-design-vue/es/form';
import TypedForm from '@/components/TypedForm.vue';

interface UserForm {
  username: string;
  email: string;
  password: string;
  age: number;
  role: string;
}

export default defineComponent({
  components: {
    TypedForm,
  },
  setup() {
    // 表单状态
    const formState = reactive<UserForm>({
      username: '',
      email: '',
      password: '',
      age: 18,
      role: 'user',
    });
    
    // 表单规则
    const rules: Record<string, Rule[]> = {
      username: [
        { required: true, message: '请输入用户名' },
        { min: 3, max: 20, message: '用户名长度必须在3-20个字符之间' },
      ],
      email: [
        { required: true, message: '请输入邮箱' },
        { type: 'email', message: '请输入有效的邮箱地址' },
      ],
      password: [
        { required: true, message: '请输入密码' },
        { min: 6, message: '密码长度不能小于6个字符' },
      ],
      age: [
        { required: true, message: '请输入年龄' },
        { type: 'number', min: 1, max: 120, message: '年龄必须在1-120之间' },
      ],
      role: [
        { required: true, message: '请选择角色' },
      ],
    };
    
    // 提交处理
    const onSubmit = (values: UserForm) => {
      console.log('表单数据:', values);
      message.success('提交成功!');
    };
    
    // 重置处理
    const onReset = () => {
      message.info('表单已重置');
    };
    
    return {
      formState,
      rules,
      onSubmit,
      onReset,
    };
  },
});
</script>
```

通过以上最佳实践，可以充分发挥Ant Design Vue的优势，构建高效、可维护的Vue应用。无论是表单处理、数据表格优化还是TypeScript集成，Ant Design Vue都提供了完善的支持，帮助开发者打造出色的用户界面。