<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.66" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.18-%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F/1.18.2-CommonJS%E6%A8%A1%E5%9D%97.html"><meta property="og:site_name" content="全栈开发知识库"><meta property="og:title" content="CommonJS模块"><meta property="og:description" content="CommonJS模块 CommonJS是Node.js采用的模块系统。本文将介绍require和module.exports的用法，以及CommonJS模块的加载机制和与ES模块的区别。 CommonJS 简介 CommonJS 是一种模块规范，最初设计用于服务器端 JavaScript 环境。Node.js 采用并实现了这一规范，使其成为 Node...."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-03-10T23:37:02.000Z"><meta property="article:modified_time" content="2025-03-10T23:37:02.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"CommonJS模块","image":[""],"dateModified":"2025-03-10T23:37:02.000Z","author":[{"@type":"Person","name":"Kpsmart","url":"https://studyup.tech"}]}</script><title>CommonJS模块 | 全栈开发知识库</title><meta name="description" content="CommonJS模块 CommonJS是Node.js采用的模块系统。本文将介绍require和module.exports的用法，以及CommonJS模块的加载机制和与ES模块的区别。 CommonJS 简介 CommonJS 是一种模块规范，最初设计用于服务器端 JavaScript 环境。Node.js 采用并实现了这一规范，使其成为 Node....">
    <link rel="preload" href="/kphub/assets/style-SXghHNg7.css" as="style"><link rel="stylesheet" href="/kphub/assets/style-SXghHNg7.css">
    <link rel="modulepreload" href="/kphub/assets/app-BY5DZzfM.js"><link rel="modulepreload" href="/kphub/assets/1.18.2-CommonJS模块.html-YW_mwLGN.js"><link rel="modulepreload" href="/kphub/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/kphub/assets/index.html-GLwemPBg.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CPunR6e3.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-D14a12bt.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-C9NfVpXJ.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CAsSKxB6.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-ceXeCgMs.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-ZO0edvHL.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-C4n8312c.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-tDBto2OK.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CMfHzbEW.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CsbnFjeH.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-B8-GoCqd.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DOl8LFi5.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CeJYHOTJ.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BeJKMEPf.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-HJ4jT1jm.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-0kiyrmDh.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BJmIaUSc.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CQtL0Cry.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-zjHbZkN-.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BLlCA_Ws.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DL6BnUMQ.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-fmJKP86i.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DJit6KKm.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CxPqxn_i.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BvYklha3.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DwcOCJ6G.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-C819yNh6.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Co8jK3Po.js" as="script"><link rel="prefetch" href="/kphub/assets/图文排版工具.html-DW9hjtbN.js" as="script"><link rel="prefetch" href="/kphub/assets/数据分析工具.html-DgS32KqE.js" as="script"><link rel="prefetch" href="/kphub/assets/文案灵感工具.html-Zp0B5zPp.js" as="script"><link rel="prefetch" href="/kphub/assets/经典写作书单推荐.html-DxlniAiU.js" as="script"><link rel="prefetch" href="/kphub/assets/01CSS基础入门.html-CQHTgxj8.js" as="script"><link rel="prefetch" href="/kphub/assets/02CSS选择器.html-DHnRkwqZ.js" as="script"><link rel="prefetch" href="/kphub/assets/03盒模型与值单位.html-DDk9YZv_.js" as="script"><link rel="prefetch" href="/kphub/assets/04背景边框与溢出.html-pgqb2j7s.js" as="script"><link rel="prefetch" href="/kphub/assets/05图像媒体与表单.html-CSzSZU6b.js" as="script"><link rel="prefetch" href="/kphub/assets/06表格样式与调试.html-Bqdf-8M5.js" as="script"><link rel="prefetch" href="/kphub/assets/07文本与字体样式.html-CJ4y1qvu.js" as="script"><link rel="prefetch" href="/kphub/assets/08列表与链接样式.html-w_68HNkP.js" as="script"><link rel="prefetch" href="/kphub/assets/09CSS布局基础.html-BsCP5gcE.js" as="script"><link rel="prefetch" href="/kphub/assets/10弹性盒布局.html-DeIrKM5O.js" as="script"><link rel="prefetch" href="/kphub/assets/11网格布局.html-Ddq90MWj.js" as="script"><link rel="prefetch" href="/kphub/assets/12响应式设计.html-CYChbhrS.js" as="script"><link rel="prefetch" href="/kphub/assets/13实践项目.html-SswnAgPQ.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BjTCKyUA.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-D8yRvV49.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-D9VzBUCI.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DGPy1d6z.js" as="script"><link rel="prefetch" href="/kphub/assets/01基础入门.html-CKfvgd2A.js" as="script"><link rel="prefetch" href="/kphub/assets/02文档结构.html-CNjUW0vz.js" as="script"><link rel="prefetch" href="/kphub/assets/03文本处理.html-BJHWRn_J.js" as="script"><link rel="prefetch" href="/kphub/assets/04列表与链接.html-PnHoaVSV.js" as="script"><link rel="prefetch" href="/kphub/assets/05多媒体.html-CxPfVWGB.js" as="script"><link rel="prefetch" href="/kphub/assets/06表格.html-obBNf7sM.js" as="script"><link rel="prefetch" href="/kphub/assets/07表单与按钮.html-Cv3r0qhs.js" as="script"><link rel="prefetch" href="/kphub/assets/08调试与实践.html-ghPPZ2dv.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Dqym4U0p.js" as="script"><link rel="prefetch" href="/kphub/assets/01HTML元素.html-CebqnBoZ.js" as="script"><link rel="prefetch" href="/kphub/assets/02全局属性.html-BcvzMtg9.js" as="script"><link rel="prefetch" href="/kphub/assets/03属性.html-CopBu2H1.js" as="script"><link rel="prefetch" href="/kphub/assets/04Input类型.html-Zdg2jcVn.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DaG5x0Av.js" as="script"><link rel="prefetch" href="/kphub/assets/01内容分类.html-Brz6EDPk.js" as="script"><link rel="prefetch" href="/kphub/assets/02块级元素.html-ClGvfSca.js" as="script"><link rel="prefetch" href="/kphub/assets/03行级元素.html-zxc-MrFz.js" as="script"><link rel="prefetch" href="/kphub/assets/04怪异模式和标准模式.html-BwyU9jn9.js" as="script"><link rel="prefetch" href="/kphub/assets/05HTML中使用的日期与时间格式.html-IurNPAxo.js" as="script"><link rel="prefetch" href="/kphub/assets/06约束验证.html-DeD3EP2Y.js" as="script"><link rel="prefetch" href="/kphub/assets/07微数据.html-1AwjznHB.js" as="script"><link rel="prefetch" href="/kphub/assets/08微格式.html-B2GwfRyn.js" as="script"><link rel="prefetch" href="/kphub/assets/09Viewport_meta标签.html-Q2bmENv1.js" as="script"><link rel="prefetch" href="/kphub/assets/10允许图片和canvas跨源使用.html-DA06OXpw.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-y2v4ysKP.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-S3-3czft.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Dpvzcw-0.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BrsDHHF8.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CdYKZgbp.js" as="script"><link rel="prefetch" href="/kphub/assets/1.1.1-用户增长的概念及内涵.html-CG8slscC.js" as="script"><link rel="prefetch" href="/kphub/assets/1.1.2-用户增长的三个阶段.html-BN0uWCvI.js" as="script"><link rel="prefetch" href="/kphub/assets/1.1.3-用户增长的四大思维.html-C2IXbQ4_.js" as="script"><link rel="prefetch" href="/kphub/assets/1.1.4-用户增长方法论框架.html-BykySSJ4.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-EI8mH5bm.js" as="script"><link rel="prefetch" href="/kphub/assets/1.2.1-确立可落地的运营目标.html-DtWF5xlr.js" as="script"><link rel="prefetch" href="/kphub/assets/1.2.2-制定增长运营规划.html-C6htZ885.js" as="script"><link rel="prefetch" href="/kphub/assets/1.2.3-科学规划运营资源.html-ClytZj5S.js" as="script"><link rel="prefetch" href="/kphub/assets/1.2.4-构建后端支撑体系.html-BhIb6xFr.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DXmdE9_p.js" as="script"><link rel="prefetch" href="/kphub/assets/1.3.1-增长团队的定义与特征.html-BNet-TKI.js" as="script"><link rel="prefetch" href="/kphub/assets/1.3.2-增长团队的组织架构.html-CZsYVFHn.js" as="script"><link rel="prefetch" href="/kphub/assets/1.3.3-增长团队的人员配置.html-CR-gLenr.js" as="script"><link rel="prefetch" href="/kphub/assets/1.3.4-增长团队的运营流程.html-CFmfDHjV.js" as="script"><link rel="prefetch" href="/kphub/assets/1.3.5-创业公司如何搭建增长团队.html-Bh1c8JEi.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DrIEUpwa.js" as="script"><link rel="prefetch" href="/kphub/assets/1.4.1-增长黑客方法论.html-BI7aZWoD.js" as="script"><link rel="prefetch" href="/kphub/assets/1.4.2-MVP与精益创业.html-DGlJsssz.js" as="script"><link rel="prefetch" href="/kphub/assets/1.4.3-AB测试与增长实验.html-BD-u-jPW.js" as="script"><link rel="prefetch" href="/kphub/assets/1.4.4-增长策略的ROI评估.html-C_5A0qBp.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BQN0Y5PQ.js" as="script"><link rel="prefetch" href="/kphub/assets/1.5.1-痛点界定三角模型.html-DHq9VhdL.js" as="script"><link rel="prefetch" href="/kphub/assets/1.5.2-五维痛点分析方法.html-DYw4GYAG.js" as="script"><link rel="prefetch" href="/kphub/assets/1.5.3-痛点价值转化路径.html-Ca6_fS04.js" as="script"><link rel="prefetch" href="/kphub/assets/1.5.4-用户增长的第二曲线.html-Ce9XmJKD.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CQWN3W9f.js" as="script"><link rel="prefetch" href="/kphub/assets/2.1.1-获取：种子用户获取策略.html-prdWoWrs.js" as="script"><link rel="prefetch" href="/kphub/assets/2.1.2-激活：打造产品Aha-Moment.html-BDpGVGrT.js" as="script"><link rel="prefetch" href="/kphub/assets/2.1.3-留存：5W1H精细化运营分析.html-_D4Iw-wG.js" as="script"><link rel="prefetch" href="/kphub/assets/2.1.4-收益：盈利路径设计与优化.html-9ZQh18jx.js" as="script"><link rel="prefetch" href="/kphub/assets/2.1.5-传播：病毒式增长机制设计.html-BW6vL326.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Bj4yweI3.js" as="script"><link rel="prefetch" href="/kphub/assets/2.2.1-RFM模型定义与价值.html-CO59K0nJ.js" as="script"><link rel="prefetch" href="/kphub/assets/2.2.2-模型构建流程与方法.html-BVEVDAml.js" as="script"><link rel="prefetch" href="/kphub/assets/2.2.3-会员体系设计与应用.html-Bpv3mPrK.js" as="script"><link rel="prefetch" href="/kphub/assets/2.2.4-门店管理中的RFM实践.html-BMO7TrjP.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CYsfeG4G.js" as="script"><link rel="prefetch" href="/kphub/assets/2.3.1-NSM的定义与核心作用.html-BEjvAh7U.js" as="script"><link rel="prefetch" href="/kphub/assets/2.3.2-NSM制定三大标准.html-TWATBE8R.js" as="script"><link rel="prefetch" href="/kphub/assets/2.3.3-不同生命周期的NSM选择.html-BlBDXon3.js" as="script"><link rel="prefetch" href="/kphub/assets/2.3.4-产品类型的NSM案例.html-D9WVNBAT.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-hm18vzbK.js" as="script"><link rel="prefetch" href="/kphub/assets/2.4.1-生命周期阶段划分.html-BNAWMrOY.js" as="script"><link rel="prefetch" href="/kphub/assets/2.4.2-不同阶段的运营策略.html-B8KFoIGh.js" as="script"><link rel="prefetch" href="/kphub/assets/2.4.3-生命周期价值最大化.html-DwvsS75t.js" as="script"><link rel="prefetch" href="/kphub/assets/2.4.4-流失预警与挽回机制.html-CEu7ZTG_.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CXIWzEAI.js" as="script"><link rel="prefetch" href="/kphub/assets/2.5.1-关键指标vs虚荣指标.html-h5BEzDTw.js" as="script"><link rel="prefetch" href="/kphub/assets/2.5.2-指标拆解方法论.html-DWz1Rs0y.js" as="script"><link rel="prefetch" href="/kphub/assets/2.5.3-不同产品的关键指标.html-YynuWjIz.js" as="script"><link rel="prefetch" href="/kphub/assets/2.5.4-指标监控与预警机制.html-BJ4b4c7Q.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DhHNIadY.js" as="script"><link rel="prefetch" href="/kphub/assets/3.1.1-需求与目标设计方法论.html-MxSGCRXh.js" as="script"><link rel="prefetch" href="/kphub/assets/3.1.2-产品概念设计与验证.html-CQHQ9EPj.js" as="script"><link rel="prefetch" href="/kphub/assets/3.1.3-原型设计与UI-UX规范.html-BC3MwW_7.js" as="script"><link rel="prefetch" href="/kphub/assets/3.1.4-视觉设计与用户体验优化.html-BSDzYN7h.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Bqj8Q0F7.js" as="script"><link rel="prefetch" href="/kphub/assets/3.2.1-产品规划关键要点.html-DdoEd2T-.js" as="script"><link rel="prefetch" href="/kphub/assets/3.2.2-运营职责与工作框架.html-D-nCw3bh.js" as="script"><link rel="prefetch" href="/kphub/assets/3.2.3-运营体系搭建策略.html-BWLAy3N6.js" as="script"><link rel="prefetch" href="/kphub/assets/3.2.4-数据驱动的产品优化.html-CRhmB4uQ.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-K2wF8LpN.js" as="script"><link rel="prefetch" href="/kphub/assets/3.3.1-用户体验五要素解析.html-3l8ysylV.js" as="script"><link rel="prefetch" href="/kphub/assets/3.3.2-产品可用性与好用性评估.html-4tOIj4Ih.js" as="script"><link rel="prefetch" href="/kphub/assets/3.3.3-用户反馈收集与改进闭环.html-BBrJZ01X.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-B8TtP0H9.js" as="script"><link rel="prefetch" href="/kphub/assets/3.4.1-商业模式设计与验证.html-ZNOZnLmW.js" as="script"><link rel="prefetch" href="/kphub/assets/3.4.2-定价策略与收费模式.html-B0Vxd-mh.js" as="script"><link rel="prefetch" href="/kphub/assets/3.4.3-付费转化路径优化.html-C-7NxyNm.js" as="script"><link rel="prefetch" href="/kphub/assets/3.4.4-会员体系与订阅模式.html-BRT_7Oga.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CYV__i-Z.js" as="script"><link rel="prefetch" href="/kphub/assets/3.5.1-产品矩阵构建方法.html-B1ZaZ_Sz.js" as="script"><link rel="prefetch" href="/kphub/assets/3.5.2-流量产品设计策略.html-C2dZMfVe.js" as="script"><link rel="prefetch" href="/kphub/assets/3.5.3-产品间协同与互补.html-CkFBFC6X.js" as="script"><link rel="prefetch" href="/kphub/assets/3.5.4-产品矩阵增长案例.html-CJI13Wqe.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BoHLb5n8.js" as="script"><link rel="prefetch" href="/kphub/assets/4.1.1-调研对象与目标设定.html-CIMjTMHB.js" as="script"><link rel="prefetch" href="/kphub/assets/4.1.2-定性与定量调研方法选择.html-6Xkaydmp.js" as="script"><link rel="prefetch" href="/kphub/assets/4.1.3-访谈技巧与问题设计.html-CQUV15o7.js" as="script"><link rel="prefetch" href="/kphub/assets/4.1.4-数据分析与结论输出.html-BYh7c6iI.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-gXBNL4QX.js" as="script"><link rel="prefetch" href="/kphub/assets/4.2.1-用户生命周期管理阶段.html-BUerM0gB.js" as="script"><link rel="prefetch" href="/kphub/assets/4.2.2-目标用户精准定位.html-CYHZd1m3.js" as="script"><link rel="prefetch" href="/kphub/assets/4.2.3-种子用户获取与激活.html-BfQ3xKJO.js" as="script"><link rel="prefetch" href="/kphub/assets/4.2.4-用户忠诚度培养体系.html-CsBYu84J.js" as="script"><link rel="prefetch" href="/kphub/assets/4.2.5-核心用户社群运营.html-B6xRBobq.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-C3yZo6CP.js" as="script"><link rel="prefetch" href="/kphub/assets/4.3.1-激励三要素：行为-奖励-成本.html-DLvoUNHh.js" as="script"><link rel="prefetch" href="/kphub/assets/4.3.2-用户角色与行为分析.html-CwowlTKX.js" as="script"><link rel="prefetch" href="/kphub/assets/4.3.3-物质精神激励方式组合.html-C4lOdHYW.js" as="script"><link rel="prefetch" href="/kphub/assets/4.3.4-激励规则公平性保障.html-BUS7xAVh.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BisjHYk8.js" as="script"><link rel="prefetch" href="/kphub/assets/4.4.1-用户分层模型与方法.html-DOxJrMsq.js" as="script"><link rel="prefetch" href="/kphub/assets/4.4.2-高价值用户运营策略.html-CEVlYJ9Q.js" as="script"><link rel="prefetch" href="/kphub/assets/4.4.3-中间用户价值提升.html-DMNwBfnA.js" as="script"><link rel="prefetch" href="/kphub/assets/4.4.4-低价值用户筛选与转化.html-Br0sg1hy.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-vz-UZX6i.js" as="script"><link rel="prefetch" href="/kphub/assets/5.1.1-内容分类与运营优势.html-DSs_CM6G.js" as="script"><link rel="prefetch" href="/kphub/assets/5.1.2-内容价值落地路径.html-sur-KmU1.js" as="script"><link rel="prefetch" href="/kphub/assets/5.1.3-内容生产与分发核心工作.html-Cp0uEoms.js" as="script"><link rel="prefetch" href="/kphub/assets/5.1.4-内容型产品运营策略.html-BlODdMsg.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-D3PR53PI.js" as="script"><link rel="prefetch" href="/kphub/assets/5.2.1-平台生态与用户心智分析.html-mKzt2FCS.js" as="script"><link rel="prefetch" href="/kphub/assets/5.2.2-微博：KOL营销与话题引爆.html-DQW7oipN.js" as="script"><link rel="prefetch" href="/kphub/assets/5.2.3-B站：圈层化内容裂变模式.html-VeaKKcUX.js" as="script"><link rel="prefetch" href="/kphub/assets/5.2.4-小红书：爆款笔记创作公式.html-CGs0KmNp.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-YM_9TQTU.js" as="script"><link rel="prefetch" href="/kphub/assets/5.3.1-UGC内容生态培育.html-dp_0QTol.js" as="script"><link rel="prefetch" href="/kphub/assets/5.3.2-PGC内容合作与管理.html-Bd17XIgS.js" as="script"><link rel="prefetch" href="/kphub/assets/5.3.3-内容质量管控体系.html-DGDMzujI.js" as="script"><link rel="prefetch" href="/kphub/assets/5.3.4-内容激励与权益设计.html-B0yjNdGv.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BVnavJxW.js" as="script"><link rel="prefetch" href="/kphub/assets/5.4.1-渠道特性与内容匹配.html-C5DuibhG.js" as="script"><link rel="prefetch" href="/kphub/assets/5.4.2-内容分发时机与频率.html-DZmWbiDV.js" as="script"><link rel="prefetch" href="/kphub/assets/5.4.3-跨平台内容协同策略.html-DBXT6NpL.js" as="script"><link rel="prefetch" href="/kphub/assets/5.4.4-内容分发效果评估.html-CQxtuNM-.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DH0BgaJ4.js" as="script"><link rel="prefetch" href="/kphub/assets/5.5.1-创意增长三大原动力.html-CWb7Tu-s.js" as="script"><link rel="prefetch" href="/kphub/assets/5.5.2-创意表达的陌生化原则.html-rc05C7G-.js" as="script"><link rel="prefetch" href="/kphub/assets/5.5.3-情感营销策略与方法.html-NqnkZp06.js" as="script"><link rel="prefetch" href="/kphub/assets/5.5.4-创意转化与落地页优化.html-BYUzc4TS.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BDengn9O.js" as="script"><link rel="prefetch" href="/kphub/assets/6.1.1-目标定义与指标拆解.html-vVccptRA.js" as="script"><link rel="prefetch" href="/kphub/assets/6.1.2-行为数据采集与埋点.html-DxFIGyKh.js" as="script"><link rel="prefetch" href="/kphub/assets/6.1.3-数据分析报告撰写规范.html-BxNqRCp1.js" as="script"><link rel="prefetch" href="/kphub/assets/6.1.4-策略优化与迭代闭环.html-DIcmAzuF.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BGCqJi_w.js" as="script"><link rel="prefetch" href="/kphub/assets/6.2.1-PDM产品数据管理技术.html-niXQVq05.js" as="script"><link rel="prefetch" href="/kphub/assets/6.2.2-核心统计指标设计原则.html-CI0r6F4e.js" as="script"><link rel="prefetch" href="/kphub/assets/6.2.3-数据上报与处理流程.html-CSDNlKqe.js" as="script"><link rel="prefetch" href="/kphub/assets/6.2.4-数据挖掘与业务应用.html-C3MqBBTe.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-B0nYp4EK.js" as="script"><link rel="prefetch" href="/kphub/assets/6.3.1-社群生命周期指标体系.html-kRQ6YE6g.js" as="script"><link rel="prefetch" href="/kphub/assets/6.3.2-拉新-激活-留存-转化漏斗.html-BinwN-rB.js" as="script"><link rel="prefetch" href="/kphub/assets/6.3.3-用户活跃度与贡献度分析.html-DMfQ60ad.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-ByvJoiEd.js" as="script"><link rel="prefetch" href="/kphub/assets/6.4.1-实验设计与假设验证.html-Thep4Nwd.js" as="script"><link rel="prefetch" href="/kphub/assets/6.4.2-AB测试方法与工具.html-1Hvebl7q.js" as="script"><link rel="prefetch" href="/kphub/assets/6.4.3-多变量测试与优化.html-Bmm4arvY.js" as="script"><link rel="prefetch" href="/kphub/assets/6.4.4-实验结果分析与应用.html-CNq0lDFE.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CqJhn12Y.js" as="script"><link rel="prefetch" href="/kphub/assets/7.1.1-活动类型与目标分级.html-yZHyi3nj.js" as="script"><link rel="prefetch" href="/kphub/assets/7.1.2-资源盘点与主题策划.html-DmyIdrth.js" as="script"><link rel="prefetch" href="/kphub/assets/7.1.3-活动流程与风险管控.html-vP7s6GuD.js" as="script"><link rel="prefetch" href="/kphub/assets/7.1.4-活动效果评估与复盘.html-euE_ksxC.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BkmL8wmq.js" as="script"><link rel="prefetch" href="/kphub/assets/7.2.1-方案策划与执行SOP.html-DN8VtJOh.js" as="script"><link rel="prefetch" href="/kphub/assets/7.2.2-开发设计与上线监控.html-DDOxb2lv.js" as="script"><link rel="prefetch" href="/kphub/assets/7.2.3-ROI评估与经验沉淀.html-BBWmUEts.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DwbItu99.js" as="script"><link rel="prefetch" href="/kphub/assets/7.3.1-节点营销活动规划.html-BQt_61iQ.js" as="script"><link rel="prefetch" href="/kphub/assets/7.3.2-品牌营销活动设计.html-DhQH14Dm.js" as="script"><link rel="prefetch" href="/kphub/assets/7.3.3-用户裂变活动机制.html-Yc3gEcZA.js" as="script"><link rel="prefetch" href="/kphub/assets/7.3.4-线上线下活动整合.html-CPLbD5Db.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-9yEiLgRE.js" as="script"><link rel="prefetch" href="/kphub/assets/8.1.1-社区定位与价值设计.html-DKPaPY5a.js" as="script"><link rel="prefetch" href="/kphub/assets/8.1.2-社区规则与文化建设.html-KVI2Nao2.js" as="script"><link rel="prefetch" href="/kphub/assets/8.1.3-社区角色体系设计.html-IeQH5d09.js" as="script"><link rel="prefetch" href="/kphub/assets/8.1.4-社区内容生态培育.html-1ksMZ100.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Ft3yA4cN.js" as="script"><link rel="prefetch" href="/kphub/assets/8.2.1-意见领袖培养与管理.html-CEUpwgNm.js" as="script"><link rel="prefetch" href="/kphub/assets/8.2.2-活跃用户激励机制.html-CwWii_XB.js" as="script"><link rel="prefetch" href="/kphub/assets/8.2.3-社区冲突处理机制.html-B_Yr-7RE.js" as="script"><link rel="prefetch" href="/kphub/assets/8.2.4-社区用户成长体系.html-BKvJFCIF.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DJTuDiSl.js" as="script"><link rel="prefetch" href="/kphub/assets/8.3.1-社区活动类型与策划.html-DaoY8JfL.js" as="script"><link rel="prefetch" href="/kphub/assets/8.3.2-线上互动机制设计.html-DiBNdn_M.js" as="script"><link rel="prefetch" href="/kphub/assets/8.3.3-用户反馈收集与应用.html-CjKLb826.js" as="script"><link rel="prefetch" href="/kphub/assets/8.3.4-社区健康度评估.html-Mv2nXjhd.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-cA4BEMvO.js" as="script"><link rel="prefetch" href="/kphub/assets/9.1.1-渠道类型与特性分析.html-DtBKCBsi.js" as="script"><link rel="prefetch" href="/kphub/assets/9.1.2-渠道组合策略.html-BueDdTXU.js" as="script"><link rel="prefetch" href="/kphub/assets/9.1.3-渠道效果评估体系.html-ynhJwusT.js" as="script"><link rel="prefetch" href="/kphub/assets/9.1.4-渠道资源优化配置.html-CLEaWKOa.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CpLzefDo.js" as="script"><link rel="prefetch" href="/kphub/assets/9.2.1-付费广告投放策略.html-N7pazw8_.js" as="script"><link rel="prefetch" href="/kphub/assets/9.2.2-SEO与ASO优化技巧.html-BNj6703J.js" as="script"><link rel="prefetch" href="/kphub/assets/9.2.3-内容营销引流方法.html-CbfOiGBp.js" as="script"><link rel="prefetch" href="/kphub/assets/9.2.4-社交媒体引流策略.html-DxMXX6d_.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-NDqDCsYr.js" as="script"><link rel="prefetch" href="/kphub/assets/9.3.1-渠道合作模式设计.html-B6tr4Woj.js" as="script"><link rel="prefetch" href="/kphub/assets/9.3.2-渠道激励机制.html-Bo1vVIOf.js" as="script"><link rel="prefetch" href="/kphub/assets/9.3.3-渠道冲突管理.html-CIolVy6T.js" as="script"><link rel="prefetch" href="/kphub/assets/9.3.4-渠道数据分析与优化.html-DNIhOIst.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CDppoUAJ.js" as="script"><link rel="prefetch" href="/kphub/assets/9.4.1-圈层定义与识别方法.html-DBIYhBv1.js" as="script"><link rel="prefetch" href="/kphub/assets/9.4.2-圈层引爆策略.html-VXALz8Gi.js" as="script"><link rel="prefetch" href="/kphub/assets/9.4.3-跨圈层扩散机制.html-C4mQGzar.js" as="script"><link rel="prefetch" href="/kphub/assets/9.4.4-社交裂变案例分析.html-gZHkTK1N.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-JdiOUFel.js" as="script"><link rel="prefetch" href="/kphub/assets/10.1.1-品牌定位与价值主张.html-Cz0HMTIC.js" as="script"><link rel="prefetch" href="/kphub/assets/10.1.2-品牌形象设计与管理.html-BEdiiRaY.js" as="script"><link rel="prefetch" href="/kphub/assets/10.1.3-品牌资产评估方法.html-CSpMIJoR.js" as="script"><link rel="prefetch" href="/kphub/assets/10.1.4-品牌传播策略制定.html-B9P4IR3q.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DdWzIVBd.js" as="script"><link rel="prefetch" href="/kphub/assets/10.2.1-品牌故事构建.html-BNRbNSc0.js" as="script"><link rel="prefetch" href="/kphub/assets/10.2.2-品牌视觉识别系统.html-C9uGYgIC.js" as="script"><link rel="prefetch" href="/kphub/assets/10.2.3-品牌语言与调性.html-C08zO-st.js" as="script"><link rel="prefetch" href="/kphub/assets/10.2.4-品牌内容创作指南.html-BdzxqiYB.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DbYXmxqD.js" as="script"><link rel="prefetch" href="/kphub/assets/10.3.1-品牌舆情监控体系.html-jeIu-_yW.js" as="script"><link rel="prefetch" href="/kphub/assets/10.3.2-危机公关处理流程.html-DREfweHO.js" as="script"><link rel="prefetch" href="/kphub/assets/10.3.3-用户口碑管理.html-D_BZ-zFo.js" as="script"><link rel="prefetch" href="/kphub/assets/10.3.4-品牌忠诚度培养.html-VcQcGpX8.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DnLsmK5I.js" as="script"><link rel="prefetch" href="/kphub/assets/11.1.1-收入模式分析与选择.html-DACmz1n1.js" as="script"><link rel="prefetch" href="/kphub/assets/11.1.2-定价策略与方法.html-BY4bSAOy.js" as="script"><link rel="prefetch" href="/kphub/assets/11.1.3-商业模式验证与优化.html-DxyWFOll.js" as="script"><link rel="prefetch" href="/kphub/assets/11.1.4-多元变现路径设计.html-BzSOUQl1.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-D5MtNcYV.js" as="script"><link rel="prefetch" href="/kphub/assets/11.2.1-销售漏斗设计与优化.html-DAYld8ic.js" as="script"><link rel="prefetch" href="/kphub/assets/11.2.2-购买决策路径分析.html-CEMnPo3w.js" as="script"><link rel="prefetch" href="/kphub/assets/11.2.3-转化率提升策略.html-DdfJRuFl.js" as="script"><link rel="prefetch" href="/kphub/assets/11.2.4-复购与交叉销售.html-Bha39Q4v.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BpmGLKmy.js" as="script"><link rel="prefetch" href="/kphub/assets/11.3.1-客户旅程规划.html-iBoBk_Jy.js" as="script"><link rel="prefetch" href="/kphub/assets/11.3.2-客户价值实现路径.html-DoTP67qc.js" as="script"><link rel="prefetch" href="/kphub/assets/11.3.3-客户满意度管理.html-B8xkIWVQ.js" as="script"><link rel="prefetch" href="/kphub/assets/11.3.4-客户成功案例构建.html-Dh3AaC43.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DGQASmco.js" as="script"><link rel="prefetch" href="/kphub/assets/12.1.1-市场选择与进入策略.html-CjYXyOOB.js" as="script"><link rel="prefetch" href="/kphub/assets/12.1.2-本地化适应方法.html-DsiACcKK.js" as="script"><link rel="prefetch" href="/kphub/assets/12.1.3-跨文化运营挑战.html-BvGq0hOF.js" as="script"><link rel="prefetch" href="/kphub/assets/12.1.4-国际团队协作模式.html-H1TVe09k.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DVJ3ziGw.js" as="script"><link rel="prefetch" href="/kphub/assets/12.2.1-多语言内容策略.html-DHO9Q9wH.js" as="script"><link rel="prefetch" href="/kphub/assets/12.2.2-翻译与本地化流程.html-Cu0E12xB.js" as="script"><link rel="prefetch" href="/kphub/assets/12.2.3-跨文化内容创作.html-BZsQrwUU.js" as="script"><link rel="prefetch" href="/kphub/assets/12.2.4-国际内容合规管理.html-DWpl3T6R.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CNvI_r3H.js" as="script"><link rel="prefetch" href="/kphub/assets/12.3.1-区域用户特性分析.html-GMNICzrl.js" as="script"><link rel="prefetch" href="/kphub/assets/12.3.2-全球社区建设.html-BWXTHLQ9.js" as="script"><link rel="prefetch" href="/kphub/assets/12.3.3-国际用户支持体系.html-MbD2Qhfm.js" as="script"><link rel="prefetch" href="/kphub/assets/12.3.4-全球活动策划与执行.html-BghF9s-e.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-D2TIIdLE.js" as="script"><link rel="prefetch" href="/kphub/assets/13.1.1-AI在用户洞察中的应用.html-zSFk67WC.js" as="script"><link rel="prefetch" href="/kphub/assets/13.1.2-智能内容生成与分发.html-BjqABNvQ.js" as="script"><link rel="prefetch" href="/kphub/assets/13.1.3-AI客服与用户支持.html-DsstCEC4.js" as="script"><link rel="prefetch" href="/kphub/assets/13.1.4-智能推荐与个性化体验.html-CdCcUAIR.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BdUAQtdx.js" as="script"><link rel="prefetch" href="/kphub/assets/13.2.1-小程序产品设计策略.html-CXa1cPFz.js" as="script"><link rel="prefetch" href="/kphub/assets/13.2.2-微信生态引流方法.html-C4pXuzC8.js" as="script"><link rel="prefetch" href="/kphub/assets/13.2.3-小程序用户留存技巧.html-OwXRw_Lw.js" as="script"><link rel="prefetch" href="/kphub/assets/13.2.4-小程序数据分析体系.html-4JSU-Sgu.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CYG5PQHW.js" as="script"><link rel="prefetch" href="/kphub/assets/13.3.1-私域流量概念与价值.html-C1LSPBpb.js" as="script"><link rel="prefetch" href="/kphub/assets/13.3.10-私域数据分析体系.html-CmdT10XG.js" as="script"><link rel="prefetch" href="/kphub/assets/13.3.11-私域风险控制与合规.html-C8U8OTla.js" as="script"><link rel="prefetch" href="/kphub/assets/13.3.2-私域流量平台选择.html-CX3x3NDX.js" as="script"><link rel="prefetch" href="/kphub/assets/13.3.3-私域人设与品牌塑造.html-CO0e97lz.js" as="script"><link rel="prefetch" href="/kphub/assets/13.3.4-私域产品策略设计.html-DW8ukZKK.js" as="script"><link rel="prefetch" href="/kphub/assets/13.3.5-私域流量池构建.html-LZOEfJ0S.js" as="script"><link rel="prefetch" href="/kphub/assets/13.3.6-社群矩阵搭建策略.html-ClbXzHiH.js" as="script"><link rel="prefetch" href="/kphub/assets/13.3.7-私域用户维护体系.html-lwQEp677.js" as="script"><link rel="prefetch" href="/kphub/assets/13.3.8-企业微信客户运营.html-Bdk50FdK.js" as="script"><link rel="prefetch" href="/kphub/assets/13.3.9-私域流量变现模式.html-Dw-zWy1r.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CAAGpU2_.js" as="script"><link rel="prefetch" href="/kphub/assets/14.1.1-营销自动化工具.html-DywCjFHM.js" as="script"><link rel="prefetch" href="/kphub/assets/14.1.2-CRM系统应用指南.html-BmWz7zi7.js" as="script"><link rel="prefetch" href="/kphub/assets/14.1.3-数据分析工具集.html-CTfl6DJa.js" as="script"><link rel="prefetch" href="/kphub/assets/14.1.4-营销技术选型与集成.html-CdRG3ql6.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DbPI05o4.js" as="script"><link rel="prefetch" href="/kphub/assets/14.2.1-营销文案模板.html-CtRPfEd6.js" as="script"><link rel="prefetch" href="/kphub/assets/14.2.2-设计资源与规范.html-VKtto6r8.js" as="script"><link rel="prefetch" href="/kphub/assets/14.2.3-营销日历与节点.html-CPccdG18.js" as="script"><link rel="prefetch" href="/kphub/assets/14.2.4-竞品分析框架.html-O6KvQeTx.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-kJDLDFv5.js" as="script"><link rel="prefetch" href="/kphub/assets/14.3.1-运营思维训练.html-BG3FEqEu.js" as="script"><link rel="prefetch" href="/kphub/assets/14.3.2-数据分析能力培养.html-CWL4h0of.js" as="script"><link rel="prefetch" href="/kphub/assets/14.3.3-创意与执行力提升.html-1H7HnTF3.js" as="script"><link rel="prefetch" href="/kphub/assets/14.3.4-运营职业发展路径.html-L03VEgKN.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CXqPRCgC.js" as="script"><link rel="prefetch" href="/kphub/assets/15.1.1-电商平台类型与特点.html-Co016YFA.js" as="script"><link rel="prefetch" href="/kphub/assets/15.1.2-商品运营策略.html-DD-rNVJ3.js" as="script"><link rel="prefetch" href="/kphub/assets/15.1.3-店铺运营与转化.html-BbZ6gtFj.js" as="script"><link rel="prefetch" href="/kphub/assets/15.1.4-电商活动策划.html-C_po-8T1.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-C8nb7MNE.js" as="script"><link rel="prefetch" href="/kphub/assets/15.2.1-内容平台特性分析.html-DO6F_0cA.js" as="script"><link rel="prefetch" href="/kphub/assets/15.2.2-创作者生态运营.html-C-3IoB9a.js" as="script"><link rel="prefetch" href="/kphub/assets/15.2.3-内容质量与分发优化.html-Cf0cUwgK.js" as="script"><link rel="prefetch" href="/kphub/assets/15.2.4-内容变现模式.html-CYolTWDO.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DSvVfj7k.js" as="script"><link rel="prefetch" href="/kphub/assets/15.3.1-SaaS产品特性与运营重点.html-PHeAYH9l.js" as="script"><link rel="prefetch" href="/kphub/assets/15.3.2-客户获取与转化策略.html-roLztia1.js" as="script"><link rel="prefetch" href="/kphub/assets/15.3.3-客户成功体系构建.html-D2pwHKle.js" as="script"><link rel="prefetch" href="/kphub/assets/15.3.4-SaaS产品增长案例.html-msWAi6c3.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CrCPL-Kw.js" as="script"><link rel="prefetch" href="/kphub/assets/15.4.1-游戏生命周期运营策略.html-tj5v_AmG.js" as="script"><link rel="prefetch" href="/kphub/assets/15.4.2-游戏用户留存体系.html-OlVPXbul.js" as="script"><link rel="prefetch" href="/kphub/assets/15.4.3-游戏内容与活动设计.html-CRnwfjAK.js" as="script"><link rel="prefetch" href="/kphub/assets/15.4.4-游戏社区与IP运营.html-D2BvKSZX.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CJBLycJP.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-D9oVTVwe.js" as="script"><link rel="prefetch" href="/kphub/assets/从流量到收入的转化路径.html-4VCOUZKl.js" as="script"><link rel="prefetch" href="/kphub/assets/低门槛创业的可能性.html-CNReDDm5.js" as="script"><link rel="prefetch" href="/kphub/assets/写作对个人成长的价值.html-zB-8ivsD.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Cc84PskS.js" as="script"><link rel="prefetch" href="/kphub/assets/关注数量忽略质量.html-BcGROqkz.js" as="script"><link rel="prefetch" href="/kphub/assets/懒惰拖延半途而废.html-ChpDbRd8.js" as="script"><link rel="prefetch" href="/kphub/assets/迷信天赋忽视积累.html-CPgJczbz.js" as="script"><link rel="prefetch" href="/kphub/assets/追求热点失去自我.html-D3KYHj9K.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Byyj_WKp.js" as="script"><link rel="prefetch" href="/kphub/assets/复盘机制持续优化写作流程.html-BgpXdIeI.js" as="script"><link rel="prefetch" href="/kphub/assets/建立素材库随身记录灵感.html-BmlvHYtf.js" as="script"><link rel="prefetch" href="/kphub/assets/技术工具用AI辅助创作.html-BmbIWiNg.js" as="script"><link rel="prefetch" href="/kphub/assets/每日写作从随便写开始.html-BiQ92QFW.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Dl1Ytxi1.js" as="script"><link rel="prefetch" href="/kphub/assets/场景化描写让文字可视化.html-DYoSkZP4.js" as="script"><link rel="prefetch" href="/kphub/assets/过山车模型高低起伏保持张力.html-CpuS1Tzj.js" as="script"><link rel="prefetch" href="/kphub/assets/金字塔结构先结论后细节.html-Ba9bcpP5.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-kq3_BAZY.js" as="script"><link rel="prefetch" href="/kphub/assets/提问互动让读者主动思考.html-C6VxcPRo.js" as="script"><link rel="prefetch" href="/kphub/assets/故事钩子用具体场景拉近距离.html-BsUUuUzB.js" as="script"><link rel="prefetch" href="/kphub/assets/数据冲击用惊人事实震撼认知.html-B82ttOsz.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CMwwxDEf.js" as="script"><link rel="prefetch" href="/kphub/assets/制造冲突激发阅读欲望.html-CBbysYqN.js" as="script"><link rel="prefetch" href="/kphub/assets/场景化痛点直击日常困扰.html-BzjXyhWe.js" as="script"><link rel="prefetch" href="/kphub/assets/数字悬念引发好奇.html-Cdg2bfOF.js" as="script"><link rel="prefetch" href="/kphub/assets/身份代入触发情感连接.html-70jg34Un.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-nJggRU3j.js" as="script"><link rel="prefetch" href="/kphub/assets/悬念埋伏为系列内容铺垫.html-B2echHAX.js" as="script"><link rel="prefetch" href="/kphub/assets/行动号召引导读者立即执行.html-bRjDNSqO.js" as="script"><link rel="prefetch" href="/kphub/assets/金句升华强化记忆点.html-B7U4WBbY.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-D063SM3t.js" as="script"><link rel="prefetch" href="/kphub/assets/倒推法预设结论再反向寻找论据.html-D8qKhLaa.js" as="script"><link rel="prefetch" href="/kphub/assets/叠加法多维度对比增强戏剧性.html-B6Xxq5Re.js" as="script"><link rel="prefetch" href="/kphub/assets/总结法提炼事件的核心矛盾.html-BzFp46Qx.js" as="script"><link rel="prefetch" href="/kphub/assets/扩展法从单一案例延伸出普遍规律.html-Cfjl_fW9.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-jFnb8qnl.js" as="script"><link rel="prefetch" href="/kphub/assets/反向思维从对立面切入制造冲突.html-BpR_0OsZ.js" as="script"><link rel="prefetch" href="/kphub/assets/场景化让读者代入具体情境.html-DVqukuiY.js" as="script"><link rel="prefetch" href="/kphub/assets/数据支撑用数字增强说服力.html-DYMUV9ys.js" as="script"><link rel="prefetch" href="/kphub/assets/聚焦细分人群垂直领域更容易突围.html-CFcwi05a.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-C3jLX8KW.js" as="script"><link rel="prefetch" href="/kphub/assets/实用性提供可立即操作的解决方案.html-CFrplrIB.js" as="script"><link rel="prefetch" href="/kphub/assets/情绪性引发共鸣或争议.html-WrTjmztI.js" as="script"><link rel="prefetch" href="/kphub/assets/新奇性打破认知的反常识.html-D43epz3x.js" as="script"><link rel="prefetch" href="/kphub/assets/时效性抓住热点事件黄金期.html-DpAjYzJv.js" as="script"><link rel="prefetch" href="/kphub/assets/痛点性直击读者的隐秘焦虑.html-DNKfcsZL.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BXg-M8vl.js" as="script"><link rel="prefetch" href="/kphub/assets/出版图书构建个人IP护城河.html-j6U1d1Yc.js" as="script"><link rel="prefetch" href="/kphub/assets/品牌合作从素人到KOL的跃迁.html-CC_3v-vn.js" as="script"><link rel="prefetch" href="/kphub/assets/广告分成从阅读量到收入的转化.html-DtA7Cjd6.js" as="script"><link rel="prefetch" href="/kphub/assets/知识付费打造课程体系.html-D7JQ9oPi.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-B5AXFze8.js" as="script"><link rel="prefetch" href="/kphub/assets/公众号人设IP垂直领域深耕.html-9j-QL9ra.js" as="script"><link rel="prefetch" href="/kphub/assets/小红书视觉化内容关键词优化.html-_W1hqE-3.js" as="script"><link rel="prefetch" href="/kphub/assets/技术博客平台算法与流量分配机制.html-CWeFMmK5.js" as="script"><link rel="prefetch" href="/kphub/assets/短视频金句文案场景化演绎.html-0d44iHUz.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-ClN2XSmK.js" as="script"><link rel="prefetch" href="/kphub/assets/可持续创作的系统设计.html-yMnBpC9Z.js" as="script"><link rel="prefetch" href="/kphub/assets/建立个人品牌矩阵.html-B3RRN2lm.js" as="script"><link rel="prefetch" href="/kphub/assets/持续输出高价值内容.html-BmUMxqro.js" as="script"><link rel="prefetch" href="/kphub/assets/组建写作社群.html-EfAYJHIW.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BvhsCnyZ.js" as="script"><link rel="prefetch" href="/kphub/assets/建立专属词汇库.html-CtjmOyru.js" as="script"><link rel="prefetch" href="/kphub/assets/找到你的写作DNA.html-D2tYzmgK.js" as="script"><link rel="prefetch" href="/kphub/assets/通过模仿突破风格瓶颈.html-D43Qz3pp.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-B8kTF4P8.js" as="script"><link rel="prefetch" href="/kphub/assets/代入感通过对话展现人物性格.html-CDIWZnzo.js" as="script"><link rel="prefetch" href="/kphub/assets/画面感用感官描写激活场景.html-DxO7uOU7.js" as="script"><link rel="prefetch" href="/kphub/assets/节奏感长短句交替制造韵律.html-BMwuEt4-.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BPTOShpm.js" as="script"><link rel="prefetch" href="/kphub/assets/信息过载每段只传达一个核心观点.html-BeqkCKWb.js" as="script"><link rel="prefetch" href="/kphub/assets/情绪化表达用事实支撑主观判断.html-DIt347Cd.js" as="script"><link rel="prefetch" href="/kphub/assets/陈词滥调用新鲜比喻替代老话.html-BiTLQr_i.js" as="script"><link rel="prefetch" href="/kphub/assets/01-布局属性.html-rAxQlEXd.js" as="script"><link rel="prefetch" href="/kphub/assets/02-盒模型属性.html-BIfw8Kxo.js" as="script"><link rel="prefetch" href="/kphub/assets/03-文本和字体属性.html-DcXEtxYM.js" as="script"><link rel="prefetch" href="/kphub/assets/04-背景和颜色属性.html-CGJUPAmu.js" as="script"><link rel="prefetch" href="/kphub/assets/05-变换和动画属性.html-DcshC0nt.js" as="script"><link rel="prefetch" href="/kphub/assets/06-其他属性.html-D617HpIg.js" as="script"><link rel="prefetch" href="/kphub/assets/01-选择器参考.html-D1D3-yoA.js" as="script"><link rel="prefetch" href="/kphub/assets/01-伪类.html-B7QWX7E0.js" as="script"><link rel="prefetch" href="/kphub/assets/02-伪元素.html-W_6fsdTI.js" as="script"><link rel="prefetch" href="/kphub/assets/01-At规则参考.html-CAgAnskd.js" as="script"><link rel="prefetch" href="/kphub/assets/01-颜色函数.html-CSlwv6eH.js" as="script"><link rel="prefetch" href="/kphub/assets/02-数学和计算函数.html-DIMLZ3A_.js" as="script"><link rel="prefetch" href="/kphub/assets/03-变换函数.html-CboC-Q2t.js" as="script"><link rel="prefetch" href="/kphub/assets/04-图形函数.html-Bz7MwFL5.js" as="script"><link rel="prefetch" href="/kphub/assets/05-其他函数.html-BIZ60lL_.js" as="script"><link rel="prefetch" href="/kphub/assets/01-数据类型参考.html-B2JJIogA.js" as="script"><link rel="prefetch" href="/kphub/assets/01-Mozilla前缀.html-Bjkp5OnY.js" as="script"><link rel="prefetch" href="/kphub/assets/02-WebKit前缀.html-Cf0aO2QV.js" as="script"><link rel="prefetch" href="/kphub/assets/03-其他浏览器前缀.html-D0CJGuvI.js" as="script"><link rel="prefetch" href="/kphub/assets/01-盒模型基础.html-e59aPYSN.js" as="script"><link rel="prefetch" href="/kphub/assets/02-流式布局详解.html-Bd8G2YSp.js" as="script"><link rel="prefetch" href="/kphub/assets/03-定位与z-index.html-Dmf17Iuj.js" as="script"><link rel="prefetch" href="/kphub/assets/04-格式化上下文.html-DUwTgK2y.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BEO7d4-m.js" as="script"><link rel="prefetch" href="/kphub/assets/01-弹性盒布局.html-SOCM0d6-.js" as="script"><link rel="prefetch" href="/kphub/assets/02-网格布局.html-Q_pWP5Zi.js" as="script"><link rel="prefetch" href="/kphub/assets/03-多列布局.html-B0NJ1Y7T.js" as="script"><link rel="prefetch" href="/kphub/assets/04-布局方法对比.html-XgUOdIay.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Qk3OKg4m.js" as="script"><link rel="prefetch" href="/kphub/assets/01-盒对齐方式.html-CztdrZwn.js" as="script"><link rel="prefetch" href="/kphub/assets/02-逻辑属性与值.html-D3Nh_BFZ.js" as="script"><link rel="prefetch" href="/kphub/assets/03-尺寸与数学函数.html-B0aIsVu3.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-gmsnDUv7.js" as="script"><link rel="prefetch" href="/kphub/assets/01-颜色与渐变.html-CVBy2wlq.js" as="script"><link rel="prefetch" href="/kphub/assets/02-背景与边框.html-CzUIZBBK.js" as="script"><link rel="prefetch" href="/kphub/assets/03-变换与过渡.html-NP5dzl7-.js" as="script"><link rel="prefetch" href="/kphub/assets/04-动画效果.html-BqcGEct8.js" as="script"><link rel="prefetch" href="/kphub/assets/05-形状与图像.html-DP3fhEf4.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-C7G7qXJy.js" as="script"><link rel="prefetch" href="/kphub/assets/01-媒体查询.html-Dw8Y3QU7.js" as="script"><link rel="prefetch" href="/kphub/assets/02-容器查询.html-DJG6KJFX.js" as="script"><link rel="prefetch" href="/kphub/assets/03-响应式布局策略.html-6yaQUpKV.js" as="script"><link rel="prefetch" href="/kphub/assets/04-打印样式.html-CYVYps9s.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CNP3Mrdw.js" as="script"><link rel="prefetch" href="/kphub/assets/01-CSS嵌套规则.html-CEKsBsR2.js" as="script"><link rel="prefetch" href="/kphub/assets/02-条件规则与特性查询.html-D2vD2W9N.js" as="script"><link rel="prefetch" href="/kphub/assets/03-列表与计数器.html-B5jnqSfm.js" as="script"><link rel="prefetch" href="/kphub/assets/04-滚动吸附.html-CVu5vf1i.js" as="script"><link rel="prefetch" href="/kphub/assets/05-无障碍设计.html-y1dSUF_Q.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-D5SL30HW.js" as="script"><link rel="prefetch" href="/kphub/assets/1. 基础语法与核心特性.html-Bo1URhmL.js" as="script"><link rel="prefetch" href="/kphub/assets/2. 函数库详解.html-C8PRPiKP.js" as="script"><link rel="prefetch" href="/kphub/assets/3. 高级特性与模式.html-CYGGNylu.js" as="script"><link rel="prefetch" href="/kphub/assets/4. 工具与工程化.html-uQY1H7ss.js" as="script"><link rel="prefetch" href="/kphub/assets/5. 最佳实践.html-Ce1O4Heb.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-JHBi17GS.js" as="script"><link rel="prefetch" href="/kphub/assets/1. 基础概念.html-Cv_VhvyF.js" as="script"><link rel="prefetch" href="/kphub/assets/2. 安装与环境配置.html--lVv2kB9.js" as="script"><link rel="prefetch" href="/kphub/assets/6. 资源推荐.html-Cp8kJx7t.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Ccvri-Rn.js" as="script"><link rel="prefetch" href="/kphub/assets/1.1.1-JavaScript历史与发展.html-CpiEdu0X.js" as="script"><link rel="prefetch" href="/kphub/assets/1.1.2-JavaScript与ECMAScript.html-C85mpGvu.js" as="script"><link rel="prefetch" href="/kphub/assets/1.1.3-开发环境搭建.html-DjjYZryr.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-B8UQUc3_.js" as="script"><link rel="prefetch" href="/kphub/assets/1.10.1-数组创建与访问.html-BcFvTFzV.js" as="script"><link rel="prefetch" href="/kphub/assets/1.10.2-数组方法详解.html-D5o5_b8L.js" as="script"><link rel="prefetch" href="/kphub/assets/1.10.3-类数组对象.html-DHZ4f2bF.js" as="script"><link rel="prefetch" href="/kphub/assets/1.10.4-Map与Set.html-hfyHe9LN.js" as="script"><link rel="prefetch" href="/kphub/assets/1.10.5-WeakMap与WeakSet.html-Dq7iQdhe.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BrWd0nP6.js" as="script"><link rel="prefetch" href="/kphub/assets/1.11.1-对象创建与属性.html-CZY0kCMZ.js" as="script"><link rel="prefetch" href="/kphub/assets/1.11.2-对象方法.html-B8m_2ubc.js" as="script"><link rel="prefetch" href="/kphub/assets/1.11.3-属性描述符.html-DI_V_TIk.js" as="script"><link rel="prefetch" href="/kphub/assets/1.11.4-对象遍历与操作.html-iZt-WmQD.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DFwNGj31.js" as="script"><link rel="prefetch" href="/kphub/assets/1.12.1-ES6类语法.html-CuVOsXEr.js" as="script"><link rel="prefetch" href="/kphub/assets/1.12.2-构造函数与实例.html-BgaA1zDj.js" as="script"><link rel="prefetch" href="/kphub/assets/1.12.3-类继承.html-Db0PxCxo.js" as="script"><link rel="prefetch" href="/kphub/assets/1.12.4-静态方法与属性.html-CgqBHpD3.js" as="script"><link rel="prefetch" href="/kphub/assets/1.12.5-私有字段与方法.html-CP2470PB.js" as="script"><link rel="prefetch" href="/kphub/assets/1.12.6-Mixin与组合.html-C4eqOOUk.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-D0XN5h0G.js" as="script"><link rel="prefetch" href="/kphub/assets/1.13.1-Promise概念与状态.html-D7_EjV7V.js" as="script"><link rel="prefetch" href="/kphub/assets/1.13.2-Promise链式调用.html-CJwOX6MB.js" as="script"><link rel="prefetch" href="/kphub/assets/1.13.3-Promise组合.html-0NkwOvTN.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CvAcWI28.js" as="script"><link rel="prefetch" href="/kphub/assets/1.14.1-ArrayBuffer.html-CUat65W5.js" as="script"><link rel="prefetch" href="/kphub/assets/1.14.2-类型化数组视图.html-DA4XRe2z.js" as="script"><link rel="prefetch" href="/kphub/assets/1.14.3-DataView.html-cXfxrFXS.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-gniNvRV8.js" as="script"><link rel="prefetch" href="/kphub/assets/1.15.1-迭代协议.html-CqKPkSv6.js" as="script"><link rel="prefetch" href="/kphub/assets/1.15.2-生成器函数.html-C-Le9wH7.js" as="script"><link rel="prefetch" href="/kphub/assets/1.15.3-异步迭代器.html-DL4kop-n.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-GTTv8rx-.js" as="script"><link rel="prefetch" href="/kphub/assets/1.16.1-Intl对象.html-hCvP8A3P.js" as="script"><link rel="prefetch" href="/kphub/assets/1.16.2-日期时间格式化.html-DJTmOKrP.js" as="script"><link rel="prefetch" href="/kphub/assets/1.16.3-数字与货币格式化.html-YsoepGRg.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BRz1Woai.js" as="script"><link rel="prefetch" href="/kphub/assets/1.17.1-Symbol类型.html-Bi7m5IUW.js" as="script"><link rel="prefetch" href="/kphub/assets/1.17.2-Reflect API.html-Bl73e9Y2.js" as="script"><link rel="prefetch" href="/kphub/assets/1.17.3-Proxy对象.html-nYuR6DaF.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-B6AhbC2r.js" as="script"><link rel="prefetch" href="/kphub/assets/1.18.1-ES模块语法.html-DbZKFRJ3.js" as="script"><link rel="prefetch" href="/kphub/assets/1.18.3-模块加载器.html-DvPB4rZ7.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CzYlwqnn.js" as="script"><link rel="prefetch" href="/kphub/assets/1.2.1-基本语法规则.html-wg4bRtya.js" as="script"><link rel="prefetch" href="/kphub/assets/1.2.2-变量声明与作用域.html-CDcl5yfj.js" as="script"><link rel="prefetch" href="/kphub/assets/1.2.3-数据类型概述.html-BlSLLTdE.js" as="script"><link rel="prefetch" href="/kphub/assets/1.2.4-类型转换.html-Cxu8ULBR.js" as="script"><link rel="prefetch" href="/kphub/assets/1.2.5-字面量与模板字符串.html-DwHR2Ykw.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DMvZ90cA.js" as="script"><link rel="prefetch" href="/kphub/assets/1.3.1-条件语句.html-taqH-nuU.js" as="script"><link rel="prefetch" href="/kphub/assets/1.3.2-异常处理.html-CUa02PUb.js" as="script"><link rel="prefetch" href="/kphub/assets/1.3.3-错误类型与自定义错误.html-BTZ3n90T.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BieGAB00.js" as="script"><link rel="prefetch" href="/kphub/assets/1.4.1-for循环.html-CsvpHc1T.js" as="script"><link rel="prefetch" href="/kphub/assets/1.4.2-while与do-while循环.html-B4dtueEX.js" as="script"><link rel="prefetch" href="/kphub/assets/1.4.3-for...in与for...of.html-DRy7Z0TS.js" as="script"><link rel="prefetch" href="/kphub/assets/1.4.4-迭代方法.html-C2PazvDE.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DSJSauTT.js" as="script"><link rel="prefetch" href="/kphub/assets/1.5.1-函数定义与调用.html-B9eSJBVq.js" as="script"><link rel="prefetch" href="/kphub/assets/1.5.2-参数与返回值.html-DEcOyE_M.js" as="script"><link rel="prefetch" href="/kphub/assets/1.5.3-箭头函数.html-DpoLNWUD.js" as="script"><link rel="prefetch" href="/kphub/assets/1.5.4-作用域与闭包基础.html-CKOk5e8x.js" as="script"><link rel="prefetch" href="/kphub/assets/1.5.5-this关键字.html-Dw09s3eO.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CUTOq1KJ.js" as="script"><link rel="prefetch" href="/kphub/assets/1.6.1-算术运算符.html-MGaOXmWP.js" as="script"><link rel="prefetch" href="/kphub/assets/1.6.2-比较运算符.html-BWRDlD7e.js" as="script"><link rel="prefetch" href="/kphub/assets/1.6.3-逻辑运算符.html-D97TnF80.js" as="script"><link rel="prefetch" href="/kphub/assets/1.6.4-位运算符.html-DGbRyIwW.js" as="script"><link rel="prefetch" href="/kphub/assets/1.6.5-运算符优先级.html-CQqTfNvG.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DoZUE_DO.js" as="script"><link rel="prefetch" href="/kphub/assets/1.7.1-Number对象与方法.html-Csl90MzY.js" as="script"><link rel="prefetch" href="/kphub/assets/1.7.2-Math对象.html-ClxMHyGY.js" as="script"><link rel="prefetch" href="/kphub/assets/1.7.3-String对象与方法.html-BdM8jaDA.js" as="script"><link rel="prefetch" href="/kphub/assets/1.7.4-正则表达式基础.html-CJFb1R_I.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CzR6yCup.js" as="script"><link rel="prefetch" href="/kphub/assets/1.8.1-Date对象基础.html-CaWQkvG_.js" as="script"><link rel="prefetch" href="/kphub/assets/1.8.2-日期计算与比较.html-DNNpqbh-.js" as="script"><link rel="prefetch" href="/kphub/assets/1.8.3-现代日期库介绍.html-BSa3swln.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-H8-ppsTW.js" as="script"><link rel="prefetch" href="/kphub/assets/1.9.1-正则表达式语法详解.html-Dn2-Rojt.js" as="script"><link rel="prefetch" href="/kphub/assets/1.9.2-正则表达式方法.html-CwFPa-LF.js" as="script"><link rel="prefetch" href="/kphub/assets/1.9.3-常用正则表达式示例.html-C8UpAZsQ.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-hqD3m2hk.js" as="script"><link rel="prefetch" href="/kphub/assets/2.1.1-对象深拷贝与浅拷贝.html-DXN2GcTv.js" as="script"><link rel="prefetch" href="/kphub/assets/2.1.2-对象冻结与封印.html-B-F3n1WG.js" as="script"><link rel="prefetch" href="/kphub/assets/2.1.3-对象解构与扩展.html-DXktueT_.js" as="script"><link rel="prefetch" href="/kphub/assets/2.1.4-对象属性描述符高级用法.html-BUJjqVBC.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Ciy-Dxly.js" as="script"><link rel="prefetch" href="/kphub/assets/2.2.1-回调函数模式.html-C7GETLPy.js" as="script"><link rel="prefetch" href="/kphub/assets/2.2.2-Promise高级用法.html-BqnVz0Aa.js" as="script"><link rel="prefetch" href="/kphub/assets/2.2.3-async与await.html-C3bmkN2n.js" as="script"><link rel="prefetch" href="/kphub/assets/2.2.4-异步迭代器.html-C_xa_Ofk.js" as="script"><link rel="prefetch" href="/kphub/assets/2.2.5-事件与发布订阅模式.html-kY9hYhGf.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BCDcZYiv.js" as="script"><link rel="prefetch" href="/kphub/assets/2.3.1-DOM操作.html-DCGbUH4c.js" as="script"><link rel="prefetch" href="/kphub/assets/2.3.2-事件处理.html-COOeBiPO.js" as="script"><link rel="prefetch" href="/kphub/assets/2.3.3-Fetch API.html-DhBiZBsg.js" as="script"><link rel="prefetch" href="/kphub/assets/2.3.4-Web Storage.html-DSnawA8K.js" as="script"><link rel="prefetch" href="/kphub/assets/2.3.5-Web Workers.html-C-iub3_u.js" as="script"><link rel="prefetch" href="/kphub/assets/2.3.6-WebSocket.html-c1WqAx7p.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DUuDU-Z1.js" as="script"><link rel="prefetch" href="/kphub/assets/2.4.1-变量提升.html-REz6hq3-.js" as="script"><link rel="prefetch" href="/kphub/assets/2.4.2-执行上下文与作用域链.html-DL0IZF-I.js" as="script"><link rel="prefetch" href="/kphub/assets/2.4.3-严格模式.html-LRhVa065.js" as="script"><link rel="prefetch" href="/kphub/assets/2.4.4-尾调用优化.html-24ExUqCl.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-0Vpdisr8.js" as="script"><link rel="prefetch" href="/kphub/assets/2.5.1-链表.html-CTe6pAZp.js" as="script"><link rel="prefetch" href="/kphub/assets/2.5.2-栈与队列.html-5Z98rFv4.js" as="script"><link rel="prefetch" href="/kphub/assets/2.5.3-树结构.html-DbtUdQ-S.js" as="script"><link rel="prefetch" href="/kphub/assets/2.5.4-图.html-DwlcDWD2.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DpUXiyD9.js" as="script"><link rel="prefetch" href="/kphub/assets/2.6.1-相等操作符.html-Ccij31ji.js" as="script"><link rel="prefetch" href="/kphub/assets/2.6.2-Object.is.html-CgTSKrFX.js" as="script"><link rel="prefetch" href="/kphub/assets/2.6.3-深度相等实现.html-DTCMybvc.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BT8MFbpc.js" as="script"><link rel="prefetch" href="/kphub/assets/2.7.1-可枚举性.html-BcT0I_5l.js" as="script"><link rel="prefetch" href="/kphub/assets/2.7.2-属性描述符操作.html-C3LO0jPp.js" as="script"><link rel="prefetch" href="/kphub/assets/2.7.3-属性遍历方法对比.html-Ck4pJBsI.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-JwTBw4v-.js" as="script"><link rel="prefetch" href="/kphub/assets/2.8.1-闭包原理与实现.html-D4aGD6n_.js" as="script"><link rel="prefetch" href="/kphub/assets/2.8.2-闭包应用模式.html-GLqfetT2.js" as="script"><link rel="prefetch" href="/kphub/assets/2.8.3-闭包陷阱与性能.html-DY_SO0tV.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-PceJsv8D.js" as="script"><link rel="prefetch" href="/kphub/assets/3.1.1-原型链详解.html-vrX5rz6t.js" as="script"><link rel="prefetch" href="/kphub/assets/3.1.2-继承模式.html-CsfTar0_.js" as="script"><link rel="prefetch" href="/kphub/assets/3.1.3-instanceof与原型判断.html-C4ct0xfq.js" as="script"><link rel="prefetch" href="/kphub/assets/3.1.4-多态与混入.html-CoH5yU4Z.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-lys8hvn6.js" as="script"><link rel="prefetch" href="/kphub/assets/3.2.1-垃圾回收机制.html-DMSXaiCZ.js" as="script"><link rel="prefetch" href="/kphub/assets/3.2.2-内存泄漏.html-Cw3pxpmi.js" as="script"><link rel="prefetch" href="/kphub/assets/3.2.3-性能优化.html-mJ4FDUK1.js" as="script"><link rel="prefetch" href="/kphub/assets/3.2.4-内存分析工具.html-Dg4JoMQP.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-vl5mIuyR.js" as="script"><link rel="prefetch" href="/kphub/assets/3.3.1-事件循环详解.html-BL43plKI.js" as="script"><link rel="prefetch" href="/kphub/assets/3.3.2-宏任务与微任务.html-Bmdeftbc.js" as="script"><link rel="prefetch" href="/kphub/assets/3.3.3-并发控制模式.html-beUI7_hW.js" as="script"><link rel="prefetch" href="/kphub/assets/3.3.4-Worker线程.html-lUGFDrBq.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Dj_qNoKv.js" as="script"><link rel="prefetch" href="/kphub/assets/3.4.1-纯函数与副作用.html-CPL0HIWC.js" as="script"><link rel="prefetch" href="/kphub/assets/3.4.2-高阶函数.html-BGgNwfnD.js" as="script"><link rel="prefetch" href="/kphub/assets/3.4.3-函数组合与管道.html-Dj_AWkn9.js" as="script"><link rel="prefetch" href="/kphub/assets/3.4.4-柯里化与偏应用.html-CjR1h7Nq.js" as="script"><link rel="prefetch" href="/kphub/assets/3.4.5-函数式库介绍.html-C3f4uXSp.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BNPO6KOi.js" as="script"><link rel="prefetch" href="/kphub/assets/3.5.1-创建型模式.html-CadbcBKT.js" as="script"><link rel="prefetch" href="/kphub/assets/3.5.2-结构型模式.html-sifLO3j_.js" as="script"><link rel="prefetch" href="/kphub/assets/3.5.3-行为型模式.html-CLb2qlcs.js" as="script"><link rel="prefetch" href="/kphub/assets/3.5.4-JavaScript特有模式.html-CiaGWnFk.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DLGqkn0E.js" as="script"><link rel="prefetch" href="/kphub/assets/3.6.1-Symbol深入.html-C_NikUOG.js" as="script"><link rel="prefetch" href="/kphub/assets/3.6.2-Proxy高级应用.html-DNonwObC.js" as="script"><link rel="prefetch" href="/kphub/assets/3.6.3-Reflect完全指南.html-nGTV0134.js" as="script"><link rel="prefetch" href="/kphub/assets/3.6.4-装饰器模式.html-Bt6W1n_A.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-v9NV_CrJ.js" as="script"><link rel="prefetch" href="/kphub/assets/3.7.1-代码优化策略.html-CR2RaLhQ.js" as="script"><link rel="prefetch" href="/kphub/assets/3.7.2-渲染性能.html-BfYtgrKu.js" as="script"><link rel="prefetch" href="/kphub/assets/3.7.3-网络性能.html-Dnkq3dad.js" as="script"><link rel="prefetch" href="/kphub/assets/3.7.4-性能分析工具.html-Cd4zl4Ut.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DivKL5EG.js" as="script"><link rel="prefetch" href="/kphub/assets/4.1.1-ES6完全指南.html-siRyIpX-.js" as="script"><link rel="prefetch" href="/kphub/assets/4.1.2-ES2017-ES2019特性.html-Dou-P2PE.js" as="script"><link rel="prefetch" href="/kphub/assets/4.1.3-ES2020-ES2022特性.html-BRN-3uV_.js" as="script"><link rel="prefetch" href="/kphub/assets/4.1.4-提案阶段特性.html-CQSdgsXX.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BomH7rGE.js" as="script"><link rel="prefetch" href="/kphub/assets/4.2.1-打包工具.html-Cz4Bd03k.js" as="script"><link rel="prefetch" href="/kphub/assets/4.2.2-转译器.html-CWoCTORm.js" as="script"><link rel="prefetch" href="/kphub/assets/4.2.3-代码检查.html-BAdTicLm.js" as="script"><link rel="prefetch" href="/kphub/assets/4.2.4-测试工具.html-BNODmNu-.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-C4nDKzO2.js" as="script"><link rel="prefetch" href="/kphub/assets/4.3.1-模块格式对比.html-CYwZi-fs.js" as="script"><link rel="prefetch" href="/kphub/assets/4.3.2-动态导入.html-B5oCxS_S.js" as="script"><link rel="prefetch" href="/kphub/assets/4.3.3-模块打包策略.html-CKEayPVY.js" as="script"><link rel="prefetch" href="/kphub/assets/4.3.4-模块设计模式.html-BoEyf3i3.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-DfRfpOa3.js" as="script"><link rel="prefetch" href="/kphub/assets/3.1 变量系统.html-ZDfqUl0O.js" as="script"><link rel="prefetch" href="/kphub/assets/3.2 嵌套规则.html-dI-oO5ye.js" as="script"><link rel="prefetch" href="/kphub/assets/3.3 混入(Mixins).html-CEQPhiWC.js" as="script"><link rel="prefetch" href="/kphub/assets/3.4 继承(Extend).html-CxVdFG5h.js" as="script"><link rel="prefetch" href="/kphub/assets/3.5 函数(Functions).html-7QNzcb-B.js" as="script"><link rel="prefetch" href="/kphub/assets/3.6 模块化.html-CWnhlyqd.js" as="script"><link rel="prefetch" href="/kphub/assets/3.7 控制指令.html-O2YYMA-l.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BkGWA9Ez.js" as="script"><link rel="prefetch" href="/kphub/assets/4.1 源码调试与Source Maps.html-CctlSqc_.js" as="script"><link rel="prefetch" href="/kphub/assets/4.2 性能优化策略.html-DK58KdXb.js" as="script"><link rel="prefetch" href="/kphub/assets/4.3 与现代工具链集成.html-BCrmZVhB.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-Tk16Kh1I.js" as="script"><link rel="prefetch" href="/kphub/assets/5.1 编码规范.html-Dhzmx7ak.js" as="script"><link rel="prefetch" href="/kphub/assets/5.2 框架集成.html-DylhS0TG.js" as="script"><link rel="prefetch" href="/kphub/assets/5.3 常见编译错误解决方案.html-CLBUxte8.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CSpVQS7k.js" as="script"><link rel="prefetch" href="/kphub/assets/404.html-4C_ziThc.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BQUsTMNK.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-C1uAWzBg.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-0g05vjl1.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BQzc-IAy.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-7GAm0cTh.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-CGA7gtTp.js" as="script"><link rel="prefetch" href="/kphub/assets/index.html-BB9c-Mmz.js" as="script"><link rel="prefetch" href="/kphub/assets/photoswipe.esm-CMg0yb1C.js" as="script"><link rel="prefetch" href="/kphub/assets/giscus-B3IT9xos.js" as="script"><link rel="prefetch" href="/kphub/assets/setupDevtools-7MC2TMWH-DzcRVcay.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container no-navbar external-link-icon has-toc" vp-container><!----><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon laptop-code" style=""></span><a class="route-link route-link-active auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/" aria-label="前端开发"><!---->前端开发<!----></a><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon code" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/HTML/" aria-label="HTML"><!---->HTML<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon code" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/CSS/" aria-label="CSS"><!---->CSS<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link route-link-active auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/" aria-label="JavaScript知识库"><!---->JavaScript知识库<!----></a><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link route-link-active auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/" aria-label="JavaScript基础指南"><!---->JavaScript基础指南<!----></a><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.1-%E4%BB%8B%E7%BB%8D/" aria-label="JavaScript介绍"><!---->JavaScript介绍<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.2-%E8%AF%AD%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" aria-label="语法和数据类型"><!---->语法和数据类型<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.3-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E4%B8%8E%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/" aria-label="流程控制与错误处理"><!---->流程控制与错误处理<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.4-%E5%BE%AA%E7%8E%AF%E4%B8%8E%E8%BF%AD%E4%BB%A3/" aria-label="循环与迭代"><!---->循环与迭代<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.5-%E5%87%BD%E6%95%B0/" aria-label="函数"><!---->函数<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.6-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8E%E8%BF%90%E7%AE%97%E7%AC%A6/" aria-label="表达式与运算符"><!---->表达式与运算符<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.7-%E6%95%B0%E5%AD%97%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2/" aria-label="数字与字符串"><!---->数字与字符串<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.8-%E6%97%A5%E6%9C%9F%E4%B8%8E%E6%97%B6%E9%97%B4/" aria-label="日期与时间"><!---->日期与时间<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.9-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" aria-label="正则表达式"><!---->正则表达式<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.10-%E6%95%B0%E7%BB%84%E4%B8%8E%E9%9B%86%E5%90%88/" aria-label="数组与集合"><!---->数组与集合<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.11-%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/" aria-label="对象基础"><!---->对象基础<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.12-%E7%B1%BB%E4%B8%8E%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" aria-label="类与面向对象"><!---->类与面向对象<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.13-Promise%E5%9F%BA%E7%A1%80/" aria-label="Promise基础"><!---->Promise基础<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.14-%E7%B1%BB%E5%9E%8B%E5%8C%96%E6%95%B0%E7%BB%84/" aria-label="类型化数组"><!---->类型化数组<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.15-%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%94%9F%E6%88%90%E5%99%A8/" aria-label="迭代器与生成器"><!---->迭代器与生成器<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.16-%E5%9B%BD%E9%99%85%E5%8C%96/" aria-label="国际化"><!---->国际化<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.17-%E5%85%83%E7%BC%96%E7%A8%8B/" aria-label="元编程"><!---->元编程<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link route-link-active auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.18-%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F/" aria-label="模块系统"><!---->模块系统<!----></a><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.18-%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F/1.18.1-ES%E6%A8%A1%E5%9D%97%E8%AF%AD%E6%B3%95.html" aria-label="ES模块语法"><!--[--><span class="font-icon icon javascript" style=""></span><!--]-->ES模块语法<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.18-%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F/1.18.2-CommonJS%E6%A8%A1%E5%9D%97.html" aria-label="CommonJS模块"><!--[--><span class="font-icon icon javascript" style=""></span><!--]-->CommonJS模块<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.18-%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F/1.18.3-%E6%A8%A1%E5%9D%97%E5%8A%A0%E8%BD%BD%E5%99%A8.html" aria-label="模块加载器"><!--[--><span class="font-icon icon javascript" style=""></span><!--]-->模块加载器<!----></a></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/02-%E4%B8%AD%E7%BA%A7%E8%BF%9B%E9%98%B6/" aria-label="JavaScript中级进阶"><!---->JavaScript中级进阶<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/03-%E9%AB%98%E7%BA%A7%E4%B8%BB%E9%A2%98/" aria-label="JavaScript高级主题"><!---->JavaScript高级主题<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon javascript" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/frontend/JavaScript/04-%E7%8E%B0%E4%BB%A3JavaScript/" aria-label="现代JavaScript"><!---->现代JavaScript<!----></a><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon laptop-code" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/writing/" aria-label="自媒体写作"><!---->自媒体写作<!----></a><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon article" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/writing/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E4%BB%A5%E5%86%99%E4%BD%9C%E4%B8%BA%E7%94%9F/" aria-label="第一章-以写作为生"><!---->第一章-以写作为生<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon select" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/writing/%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E7%88%86%E6%AC%BE%E9%80%89%E9%A2%98%E7%9A%84%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91/" aria-label="第二章-爆款选题的底层逻辑"><!---->第二章-爆款选题的底层逻辑<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon structure" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/writing/%E7%AC%AC%E4%B8%89%E7%AB%A0-%E6%96%87%E7%AB%A0%E6%9E%B6%E6%9E%84%E7%9A%84%E6%B5%81%E9%87%8F%E5%AF%86%E7%A0%81/" aria-label="第三章-文章架构的流量密码"><!---->第三章-文章架构的流量密码<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon pen" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/writing/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%96%87%E7%AC%94%E6%8F%90%E5%8D%87%E7%9A%84%E5%88%BB%E6%84%8F%E8%AE%AD%E7%BB%83/" aria-label="第四章-文笔提升的刻意训练"><!---->第四章-文笔提升的刻意训练<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon money" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/writing/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E6%96%B0%E5%AA%92%E4%BD%93%E5%8F%98%E7%8E%B0%E7%9A%84%E5%85%A8%E6%99%AF%E5%9B%BE/" aria-label="第五章-新媒体变现的全景图"><!---->第五章-新媒体变现的全景图<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon tools" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/kphub/writing/%E9%99%84%E5%BD%95-%E5%B7%A5%E5%85%B7%E5%8C%85%E4%B8%8E%E8%B5%84%E6%BA%90%E6%8E%A8%E8%8D%90/" aria-label="附录-工具包与资源推荐"><!---->附录-工具包与资源推荐<!----></a><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon javascript" style=""></span>CommonJS模块</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://studyup.tech" target="_blank" rel="noopener noreferrer">Kpsmart</a></span><span property="author" content="Kpsmart"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025年3月7日</span><meta property="datePublished" content="2025-03-07T23:45:21.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 10 分钟</span><meta property="timeRequired" content="PT10M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#commonjs-简介">CommonJS 简介</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#模块导出-module-exports-和-exports">模块导出 (module.exports 和 exports)</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#使用-module-exports">使用 module.exports</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#使用-exports">使用 exports</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#exports-和-module-exports-的关系">exports 和 module.exports 的关系</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#模块导入-require">模块导入 (require)</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#基本用法">基本用法</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#导入解析规则">导入解析规则</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#导入缓存">导入缓存</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#循环依赖">循环依赖</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#模块加载机制">模块加载机制</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#模块包装">模块包装</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#commonjs-与-es-模块的区别">CommonJS 与 ES 模块的区别</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-语法差异">1. 语法差异</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-加载时机">2. 加载时机</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-导入绑定">3. 导入绑定</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-模块对象">4. 模块对象</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-顶级作用域">5. 顶级作用域</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-循环依赖处理">6. 循环依赖处理</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#在-node-js-中混合使用-commonjs-和-es-模块">在 Node.js 中混合使用 CommonJS 和 ES 模块</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#从-commonjs-导入-es-模块">从 CommonJS 导入 ES 模块</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#从-es-模块导入-commonjs-模块">从 ES 模块导入 CommonJS 模块</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#文件扩展名约定">文件扩展名约定</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#最佳实践">最佳实践</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#常见问题和解决方案">常见问题和解决方案</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-模块未找到错误">1. 模块未找到错误</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-循环依赖问题">2. 循环依赖问题</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-模块缓存问题">3. 模块缓存问题</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#node-js-内置模块">Node.js 内置模块</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#创建和发布-commonjs-包">创建和发布 CommonJS 包</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#总结">总结</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="commonjs模块" tabindex="-1"><a class="header-anchor" href="#commonjs模块"><span>CommonJS模块</span></a></h1><p>CommonJS是Node.js采用的模块系统。本文将介绍require和module.exports的用法，以及CommonJS模块的加载机制和与ES模块的区别。</p><h2 id="commonjs-简介" tabindex="-1"><a class="header-anchor" href="#commonjs-简介"><span>CommonJS 简介</span></a></h2><p>CommonJS 是一种模块规范，最初设计用于服务器端 JavaScript 环境。Node.js 采用并实现了这一规范，使其成为 Node.js 默认的模块系统。CommonJS 模块具有以下特点：</p><ul><li><strong>同步加载</strong>：模块在导入时同步加载和执行</li><li><strong>单例模式</strong>：模块只会被加载一次，之后的导入会使用缓存</li><li><strong>值拷贝</strong>：导入的是模块导出值的拷贝，而非引用</li><li><strong>动态性</strong>：可以在运行时动态导入模块</li><li><strong>封装性</strong>：每个模块有自己的作用域，不会污染全局命名空间</li></ul><h2 id="模块导出-module-exports-和-exports" tabindex="-1"><a class="header-anchor" href="#模块导出-module-exports-和-exports"><span>模块导出 (module.exports 和 exports)</span></a></h2><p>在 CommonJS 中，每个模块都有一个 <code>module</code> 对象，其中包含一个 <code>exports</code> 属性，用于导出模块的公共 API。</p><h3 id="使用-module-exports" tabindex="-1"><a class="header-anchor" href="#使用-module-exports"><span>使用 module.exports</span></a></h3><p><code>module.exports</code> 是模块导出的主要方式，可以导出任何 JavaScript 值：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 导出一个对象</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;calculator&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  add</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  subtract</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 导出一个函数</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 导出一个类</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Calculator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  subtract</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用-exports" tabindex="-1"><a class="header-anchor" href="#使用-exports"><span>使用 exports</span></a></h3><p><code>exports</code> 是 <code>module.exports</code> 的引用，可以用来添加属性到导出对象：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// math.js</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">subtract</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">PI</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3.14159</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要注意的是，直接给 <code>exports</code> 赋值会破坏它与 <code>module.exports</code> 的引用关系，导致导出失败：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 错误用法 - 这不会导出任何内容</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  add</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 正确用法 - 使用 module.exports</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  add</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 或者添加属性到 exports</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="exports-和-module-exports-的关系" tabindex="-1"><a class="header-anchor" href="#exports-和-module-exports-的关系"><span>exports 和 module.exports 的关系</span></a></h3><p>在模块内部，<code>exports</code> 最初是 <code>module.exports</code> 的引用：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 模块系统内部大致是这样设置的</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> module</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {} };</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 你的模块代码在这里</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 最终返回 module.exports，而不是 exports</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>因此，当你修改 <code>exports</code> 的属性时，实际上是在修改 <code>module.exports</code> 的属性。但如果你直接给 <code>exports</code> 赋值，就会切断这种引用关系。</p><h2 id="模块导入-require" tabindex="-1"><a class="header-anchor" href="#模块导入-require"><span>模块导入 (require)</span></a></h2><p>CommonJS 使用 <code>require</code> 函数导入模块。</p><h3 id="基本用法" tabindex="-1"><a class="header-anchor" href="#基本用法"><span>基本用法</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 导入核心模块</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;fs&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> path</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;path&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 导入本地模块</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> math</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./math&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">math</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 导入 npm 包</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> express</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;express&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> lodash</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;lodash&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="导入解析规则" tabindex="-1"><a class="header-anchor" href="#导入解析规则"><span>导入解析规则</span></a></h3><p><code>require</code> 函数根据以下规则解析模块路径：</p><ol><li><strong>核心模块</strong>：如 <code>fs</code>、<code>path</code>、<code>http</code> 等，直接使用模块名</li><li><strong>文件模块</strong>：以 <code>./</code> 或 <code>../</code> 开头的相对路径，或以 <code>/</code> 开头的绝对路径</li><li><strong>包模块</strong>：不以 <code>/</code>、<code>./</code> 或 <code>../</code> 开头的模块名，通常是 npm 包</li></ol><p>对于文件模块，Node.js 会按以下顺序尝试解析：</p><ol><li>如果提供了确切的文件名，直接加载该文件</li><li>如果没有扩展名，尝试添加 <code>.js</code>、<code>.json</code> 或 <code>.node</code> 扩展名</li><li>如果是目录，查找目录中的 <code>package.json</code> 文件，并加载其 <code>main</code> 字段指定的文件</li><li>如果没有 <code>package.json</code> 或 <code>main</code> 字段，尝试加载目录中的 <code>index.js</code>、<code>index.json</code> 或 <code>index.node</code></li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 这些都是有效的导入</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> moduleA</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./moduleA&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);           </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// moduleA.js</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> moduleB</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./moduleB.js&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);        </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 明确的扩展名</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> moduleC</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./moduleC/index.js&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 明确的文件</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> moduleD</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./moduleD&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);           </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// moduleD/index.js</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> config</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./config.json&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);        </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// JSON 文件</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="导入缓存" tabindex="-1"><a class="header-anchor" href="#导入缓存"><span>导入缓存</span></a></h3><p>Node.js 会缓存已加载的模块，确保每个模块只被加载一次。这意味着，如果多次导入同一个模块，得到的是同一个对象：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// a.js</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;模块 A 被加载&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// main.js</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> a1</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> a2</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1，而不是 0，因为 a1 和 a2 是同一个对象</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 输出:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 模块 A 被加载</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以通过 <code>require.cache</code> 访问和操作模块缓存：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 查看缓存的模块</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">keys</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cache</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 删除缓存中的模块</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;">delete</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cache</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 再次导入模块（会重新执行模块代码）</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> a3</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="循环依赖" tabindex="-1"><a class="header-anchor" href="#循环依赖"><span>循环依赖</span></a></h3><p>CommonJS 允许模块之间存在循环依赖，但可能导致一些意外行为：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// a.js</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;a 开始加载&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> b</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./b&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;在 a 中，b.done =&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">done</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">done</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;a 结束加载&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// b.js</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;b 开始加载&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;在 b 中，a.done =&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">done</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">done</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;b 结束加载&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// main.js</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;main 开始加载&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;在 main 中，a.done =&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">done</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> b</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./b&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;在 main 中，b.done =&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">done</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出结果：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>main 开始加载</span></span>
<span class="line"><span>a 开始加载</span></span>
<span class="line"><span>b 开始加载</span></span>
<span class="line"><span>在 b 中，a.done = undefined</span></span>
<span class="line"><span>b 结束加载</span></span>
<span class="line"><span>在 a 中，b.done = true</span></span>
<span class="line"><span>a 结束加载</span></span>
<span class="line"><span>在 main 中，a.done = true</span></span>
<span class="line"><span>在 main 中，b.done = true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这是因为 Node.js 在检测到循环依赖时，会返回当前已导出的值，即使模块尚未完全执行完毕。</p><h2 id="模块加载机制" tabindex="-1"><a class="header-anchor" href="#模块加载机制"><span>模块加载机制</span></a></h2><p>CommonJS 模块的加载过程包括以下步骤：</p><ol><li><strong>解析</strong>：根据模块标识符解析出模块的绝对路径</li><li><strong>加载</strong>：检查模块是否已缓存，如果已缓存则返回缓存的模块，否则继续</li><li><strong>包装</strong>：将模块代码包装在一个函数中，提供 <code>require</code>、<code>module</code>、<code>exports</code> 等变量</li><li><strong>执行</strong>：执行模块代码，填充 <code>module.exports</code></li><li><strong>缓存</strong>：将模块对象缓存起来</li><li><strong>返回</strong>：返回 <code>module.exports</code></li></ol><h3 id="模块包装" tabindex="-1"><a class="header-anchor" href="#模块包装"><span>模块包装</span></a></h3><p>Node.js 会将模块代码包装在一个函数中，以提供模块级作用域：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 原始模块代码</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> name</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;calculator&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Node.js 内部包装后的代码</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">exports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">__filename</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">__dirname</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> name</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;calculator&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">  exports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个包装函数提供了五个参数：</p><ul><li><code>exports</code>：导出对象的引用</li><li><code>require</code>：导入模块的函数</li><li><code>module</code>：当前模块对象</li><li><code>__filename</code>：当前模块的文件名（绝对路径）</li><li><code>__dirname</code>：当前模块的目录名（绝对路径）</li></ul><h2 id="commonjs-与-es-模块的区别" tabindex="-1"><a class="header-anchor" href="#commonjs-与-es-模块的区别"><span>CommonJS 与 ES 模块的区别</span></a></h2><p>CommonJS 和 ES 模块有几个关键区别：</p><h3 id="_1-语法差异" tabindex="-1"><a class="header-anchor" href="#_1-语法差异"><span>1. 语法差异</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// CommonJS</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> module</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./module&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;value&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ES 模块</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> module</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;./module&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;value&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> };</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-加载时机" tabindex="-1"><a class="header-anchor" href="#_2-加载时机"><span>2. 加载时机</span></a></h3><ul><li><strong>CommonJS</strong>：同步加载，运行时加载</li><li><strong>ES 模块</strong>：异步加载，编译时加载（静态分析）</li></ul><h3 id="_3-导入绑定" tabindex="-1"><a class="header-anchor" href="#_3-导入绑定"><span>3. 导入绑定</span></a></h3><ul><li><strong>CommonJS</strong>：导入的是值的拷贝，模块导出值变化不会影响已导入的值</li><li><strong>ES 模块</strong>：导入的是值的引用（实时绑定），模块导出值变化会反映到导入处</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// CommonJS 值拷贝示例</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// counter.js</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> count</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  increment</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    count</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// main.js</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> counter</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./counter&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">counter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 0</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">counter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">increment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 内部 count 变为 1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">counter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 仍然是 0，因为导入的是值的拷贝</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ES 模块实时绑定示例</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// counter.js</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> count</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> increment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  count</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// main.js</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">increment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;./counter&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">increment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 修改模块内的 count</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1，因为导入的是引用</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-模块对象" tabindex="-1"><a class="header-anchor" href="#_4-模块对象"><span>4. 模块对象</span></a></h3><ul><li><strong>CommonJS</strong>：<code>module.exports</code> 可以导出任何值</li><li><strong>ES 模块</strong>：<code>export</code> 只能导出命名绑定，<code>export default</code> 可以导出任何值</li></ul><h3 id="_5-顶级作用域" tabindex="-1"><a class="header-anchor" href="#_5-顶级作用域"><span>5. 顶级作用域</span></a></h3><ul><li><strong>CommonJS</strong>：顶级 <code>this</code> 指向 <code>module.exports</code></li><li><strong>ES 模块</strong>：顶级 <code>this</code> 是 <code>undefined</code></li></ul><h3 id="_6-循环依赖处理" tabindex="-1"><a class="header-anchor" href="#_6-循环依赖处理"><span>6. 循环依赖处理</span></a></h3><ul><li><strong>CommonJS</strong>：返回未完成的模块导出</li><li><strong>ES 模块</strong>：通过实时绑定处理循环依赖</li></ul><h2 id="在-node-js-中混合使用-commonjs-和-es-模块" tabindex="-1"><a class="header-anchor" href="#在-node-js-中混合使用-commonjs-和-es-模块"><span>在 Node.js 中混合使用 CommonJS 和 ES 模块</span></a></h2><p>Node.js 允许在同一个项目中混合使用 CommonJS 和 ES 模块，但需要注意一些规则：</p><h3 id="从-commonjs-导入-es-模块" tabindex="-1"><a class="header-anchor" href="#从-commonjs-导入-es-模块"><span>从 CommonJS 导入 ES 模块</span></a></h3><p>CommonJS 模块可以使用动态 <code>import()</code> 导入 ES 模块：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// CommonJS 模块</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">async</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> loadESModule</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> esModule</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#0184BC;--shiki-dark:#61AFEF;"> import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./esmodule.mjs&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">esModule</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">esModule</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">namedExport</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">loadESModule</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="从-es-模块导入-commonjs-模块" tabindex="-1"><a class="header-anchor" href="#从-es-模块导入-commonjs-模块"><span>从 ES 模块导入 CommonJS 模块</span></a></h3><p>ES 模块可以直接导入 CommonJS 模块：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ES 模块</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> commonjs</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;./commonjs-module.cjs&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// CommonJS 的 module.exports 会被视为默认导出</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 也可以使用命名导入，但只能导入 CommonJS 模块导出的属性</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">property</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;./commonjs-module.cjs&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="文件扩展名约定" tabindex="-1"><a class="header-anchor" href="#文件扩展名约定"><span>文件扩展名约定</span></a></h3><p>Node.js 使用文件扩展名来区分模块类型：</p><ul><li><code>.cjs</code>：强制作为 CommonJS 模块处理</li><li><code>.mjs</code>：强制作为 ES 模块处理</li><li><code>.js</code>：根据最近的 <code>package.json</code> 中的 <code>&quot;type&quot;</code> 字段决定（默认为 CommonJS）</li></ul><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// package.json</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;module&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // 将 .js 文件视为 ES 模块</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="最佳实践" tabindex="-1"><a class="header-anchor" href="#最佳实践"><span>最佳实践</span></a></h2><p>使用 CommonJS 模块时的一些最佳实践：</p><ol><li><strong>明确导出</strong>：使用 <code>module.exports</code> 而不是 <code>exports</code> 进行导出，避免混淆</li><li><strong>避免修改导入的模块</strong>：不要修改从其他模块导入的对象，这可能导致意外行为</li><li><strong>处理循环依赖</strong>：尽量避免循环依赖，必要时使用延迟加载或重构代码</li><li><strong>使用解构赋值</strong>：使用解构赋值简化导入语法<div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">readFile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">writeFile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;fs&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>考虑迁移到 ES 模块</strong>：对于新项目，考虑使用 ES 模块，它是 JavaScript 的官方标准模块系统</li><li><strong>使用路径别名</strong>：在大型项目中，考虑使用路径别名简化导入路径<div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 使用 module-alias 包</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;module-alias/register&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> utils</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;@utils/string-utils&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>按需导入</strong>：只导入需要的模块部分，减少内存使用<div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 而不是导入整个 lodash</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> _</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;lodash&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 只导入需要的函数</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> map</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;lodash/map&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> filter</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;lodash/filter&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="常见问题和解决方案" tabindex="-1"><a class="header-anchor" href="#常见问题和解决方案"><span>常见问题和解决方案</span></a></h2><h3 id="_1-模块未找到错误" tabindex="-1"><a class="header-anchor" href="#_1-模块未找到错误"><span>1. 模块未找到错误</span></a></h3><p>当 <code>require</code> 无法找到模块时，会抛出 <code>MODULE_NOT_FOUND</code> 错误：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Error: Cannot find module &#39;some-module&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>解决方案：</p><ul><li>检查模块名称和路径是否正确</li><li>确保已安装依赖（<code>npm install</code>）</li><li>检查 <code>node_modules</code> 目录是否存在</li><li>检查 <code>package.json</code> 中的依赖列表</li></ul><h3 id="_2-循环依赖问题" tabindex="-1"><a class="header-anchor" href="#_2-循环依赖问题"><span>2. 循环依赖问题</span></a></h3><p>循环依赖可能导致未初始化的对象或意外行为。</p><p>解决方案：</p><ul><li>重构代码，消除循环依赖</li><li>使用事件发射器模式</li><li>将共享功能提取到第三个模块</li><li>使用延迟加载（在函数内部 require）</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 延迟加载示例</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> needModule</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 只在需要时加载模块</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> module</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./module&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">doSomething</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-模块缓存问题" tabindex="-1"><a class="header-anchor" href="#_3-模块缓存问题"><span>3. 模块缓存问题</span></a></h3><p>有时需要获取模块的新实例，而不是缓存的实例。</p><p>解决方案：</p><ul><li>清除 require 缓存</li><li>使用工厂函数返回新实例</li><li>考虑使用依赖注入</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 清除缓存示例</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;">delete</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cache</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./module&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)];</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> freshModule</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./module&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 工厂函数示例</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// module.js</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> createInstance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 实例属性和方法</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 使用</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> createInstance</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./module&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> instance1</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> createInstance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> instance2</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> createInstance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="node-js-内置模块" tabindex="-1"><a class="header-anchor" href="#node-js-内置模块"><span>Node.js 内置模块</span></a></h2><p>Node.js 提供了许多内置模块，可以通过 CommonJS 导入：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 文件系统操作</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;fs&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 路径操作</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> path</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;path&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// HTTP 服务器</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> http</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;http&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 事件发射器</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> EventEmitter</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;events&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 流操作</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">Readable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">Writable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;stream&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 加密功能</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> crypto</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;crypto&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 子进程</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">spawn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">exec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;child_process&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// URL 解析</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> url</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;url&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建和发布-commonjs-包" tabindex="-1"><a class="header-anchor" href="#创建和发布-commonjs-包"><span>创建和发布 CommonJS 包</span></a></h2><p>创建可重用的 CommonJS 包并发布到 npm：</p><ol><li><p><strong>初始化包</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my-package</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my-package</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> init</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>创建入口文件</strong>：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// index.js</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 包的公共 API</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>指定入口点</strong>：在 <code>package.json</code> 中设置 <code>main</code> 字段：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;my-package&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;version&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1.0.0&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;main&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>发布到 npm</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> login</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> publish</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>CommonJS 是 Node.js 的默认模块系统，提供了一种组织和重用 JavaScript 代码的方式。它的主要特点包括同步加载、模块缓存、值拷贝和模块级作用域。</p><p>通过 <code>module.exports</code> 和 <code>require</code> 函数，CommonJS 实现了模块的导出和导入。虽然 ES 模块正在成为 JavaScript 的标准模块系统，但 CommonJS 在 Node.js 生态系统中仍然广泛使用，并将继续支持。</p><p>理解 CommonJS 的工作原理、加载机制和最佳实践，对于开发高质量的 Node.js 应用程序至关重要。随着 JavaScript 生态系统的发展，掌握 CommonJS 和 ES 模块之间的区别和互操作性也变得越来越重要。</p></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/starteamx/kphub/edit/main/src/frontend/JavaScript/01-基础指南/1.18-模块系统/1.18.2-CommonJS模块.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/3/10 23:37:02</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 470626708@qq.com">guanrunbai</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.18-%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F/1.18.1-ES%E6%A8%A1%E5%9D%97%E8%AF%AD%E6%B3%95.html" aria-label="ES模块语法"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><span class="font-icon icon javascript" style=""></span>ES模块语法</div></a><a class="route-link auto-link next" href="/kphub/frontend/JavaScript/01-%E5%9F%BA%E7%A1%80%E6%8C%87%E5%8D%97/1.18-%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F/1.18.3-%E6%A8%A1%E5%9D%97%E5%8A%A0%E8%BD%BD%E5%99%A8.html" aria-label="模块加载器"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">模块加载器<span class="font-icon icon javascript" style=""></span></div></a></nav><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer"><div style="font-size: 13px; color: rgba(60, 60, 67, 0.78);"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer" style="color: rgba(60, 60, 67, 0.78); text-decoration: none;">粤ICP备2022047750</a> | <a href="http://www.beian.gov.cn/portal/registerSystemInfo" target="_blank" rel="noopener noreferrer" style="color: rgba(60, 60, 67, 0.78); text-decoration: none;"><span style="vertical-align: middle; margin-right: 3px;">粤公网安备44011302003525</span></a></div></div><div class="vp-copyright">Copyright © 2025 Kpsmart </div></footer></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/kphub/assets/app-BY5DZzfM.js" defer></script>
  </body>
</html>
